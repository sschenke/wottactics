var $jscomp = {
    scope: {},
    findInternal: function(k, a, c) {
        k instanceof String && (k = String(k));
        for (var g = k.length, h = 0; h < g; h++) {
            var n = k[h];
            if (a.call(c, n, h, k)) return {
                i: h,
                v: n
            }
        }
        return {
            i: -1,
            v: void 0
        }
    }
};
$jscomp.defineProperty = "function" == typeof Object.defineProperties ? Object.defineProperty : function(k, a, c) {
    if (c.get || c.set) throw new TypeError("ES3 does not support getters and setters.");
    k != Array.prototype && k != Object.prototype && (k[a] = c.value)
};
$jscomp.getGlobal = function(k) {
    return "undefined" != typeof window && window === k ? k : "undefined" != typeof global && null != global ? global : k
};
$jscomp.global = $jscomp.getGlobal(this);
$jscomp.polyfill = function(k, a, c, g) {
    if (a) {
        c = $jscomp.global;
        k = k.split(".");
        for (g = 0; g < k.length - 1; g++) {
            var h = k[g];
            h in c || (c[h] = {});
            c = c[h]
        }
        k = k[k.length - 1];
        g = c[k];
        a = a(g);
        a != g && null != a && $jscomp.defineProperty(c, k, {
            configurable: !0,
            writable: !0,
            value: a
        })
    }
};
$jscomp.polyfill("Array.prototype.find", function(k) {
    return k ? k : function(a, k) {
        return $jscomp.findInternal(this, a, k).v
    }
}, "es6-impl", "es3");
$jscomp.checkStringArgs = function(k, a, c) {
    if (null == k) throw new TypeError("The 'this' value for String.prototype." + c + " must not be null or undefined");
    if (a instanceof RegExp) throw new TypeError("First argument to String.prototype." + c + " must not be a regular expression");
    return k + ""
};
$jscomp.polyfill("String.prototype.includes", function(k) {
    return k ? k : function(a, k) {
        return -1 !== $jscomp.checkStringArgs(this, a, "includes").indexOf(a, k || 0)
    }
}, "es6-impl", "es3");
$jscomp.polyfill("String.prototype.startsWith", function(k) {
    return k ? k : function(a, k) {
        var c = $jscomp.checkStringArgs(this, a, "startsWith");
        a += "";
        for (var h = c.length, n = a.length, m = Math.max(0, Math.min(k | 0, c.length)), f = 0; f < n && m < h;)
            if (c[m++] != a[f++]) return !1;
        return f >= n
    }
}, "es6-impl", "es3");
$jscomp.SYMBOL_PREFIX = "jscomp_symbol_";
$jscomp.initSymbol = function() {
    $jscomp.initSymbol = function() {};
    $jscomp.global.Symbol || ($jscomp.global.Symbol = $jscomp.Symbol)
};
$jscomp.symbolCounter_ = 0;
$jscomp.Symbol = function(k) {
    return $jscomp.SYMBOL_PREFIX + (k || "") + $jscomp.symbolCounter_++
};
$jscomp.initSymbolIterator = function() {
    $jscomp.initSymbol();
    var k = $jscomp.global.Symbol.iterator;
    k || (k = $jscomp.global.Symbol.iterator = $jscomp.global.Symbol("iterator"));
    "function" != typeof Array.prototype[k] && $jscomp.defineProperty(Array.prototype, k, {
        configurable: !0,
        writable: !0,
        value: function() {
            return $jscomp.arrayIterator(this)
        }
    });
    $jscomp.initSymbolIterator = function() {}
};
$jscomp.arrayIterator = function(k) {
    var a = 0;
    return $jscomp.iteratorPrototype(function() {
        return a < k.length ? {
            done: !1,
            value: k[a++]
        } : {
            done: !0
        }
    })
};
$jscomp.iteratorPrototype = function(k) {
    $jscomp.initSymbolIterator();
    k = {
        next: k
    };
    k[$jscomp.global.Symbol.iterator] = function() {
        return this
    };
    return k
};
$jscomp.array = $jscomp.array || {};
$jscomp.iteratorFromArray = function(k, a) {
    $jscomp.initSymbolIterator();
    k instanceof String && (k += "");
    var c = 0,
        g = {
            next: function() {
                if (c < k.length) {
                    var h = c++;
                    return {
                        value: a(h, k[h]),
                        done: !1
                    }
                }
                g.next = function() {
                    return {
                        done: !0,
                        value: void 0
                    }
                };
                return g.next()
            }
        };
    g[Symbol.iterator] = function() {
        return g
    };
    return g
};
$jscomp.polyfill("Array.prototype.keys", function(k) {
    return k ? k : function() {
        return $jscomp.iteratorFromArray(this, function(a) {
            return a
        })
    }
}, "es6-impl", "es3");
$jscomp.polyfill("Object.getOwnPropertySymbols", function(k) {
    return k ? k : function() {
        return []
    }
}, "es6-impl", "es5");
$jscomp.owns = function(k, a) {
    return Object.prototype.hasOwnProperty.call(k, a)
};
$jscomp.polyfill("Object.assign", function(k) {
    return k ? k : function(a, k) {
        for (var c = 1; c < arguments.length; c++) {
            var h = arguments[c];
            if (h)
                for (var n in h) $jscomp.owns(h, n) && (a[n] = h[n])
        }
        return a
    }
}, "es6-impl", "es3");
$jscomp.polyfill("Object.setPrototypeOf", function(k) {
    return k ? k : "object" != typeof "".__proto__ ? null : function(a, k) {
        a.__proto__ = k;
        if (a.__proto__ !== k) throw new TypeError(a + " is not extensible");
        return a
    }
}, "es6", "es5");
$jscomp.polyfill("Array.prototype.fill", function(k) {
    return k ? k : function(a, k, g) {
        var c = this.length || 0;
        0 > k && (k = Math.max(0, c + k));
        if (null == g || g > c) g = c;
        g = Number(g);
        0 > g && (g = Math.max(0, c + g));
        for (k = Number(k || 0); k < g; k++) this[k] = a;
        return this
    }
}, "es6-impl", "es3");
$jscomp.polyfill("Math.sign", function(k) {
    return k ? k : function(a) {
        a = Number(a);
        return 0 === a || isNaN(a) ? a : 0 < a ? 1 : -1
    }
}, "es6-impl", "es3");
$jscomp.makeIterator = function(k) {
    $jscomp.initSymbolIterator();
    var a = k[Symbol.iterator];
    return a ? a.call(k) : $jscomp.arrayIterator(k)
};
$jscomp.polyfill("WeakMap", function(k) {
    function a(a) {
        $jscomp.owns(a, g) || $jscomp.defineProperty(a, g, {
            value: {}
        })
    }

    function c(m) {
        var f = Object[m];
        f && (Object[m] = function(d) {
            a(d);
            return f(d)
        })
    }
    if (function() {
            if (!k || !Object.seal) return !1;
            try {
                var a = Object.seal({}),
                    f = Object.seal({}),
                    d = new k([
                        [a, 2],
                        [f, 3]
                    ]);
                if (2 != d.get(a) || 3 != d.get(f)) return !1;
                d["delete"](a);
                d.set(f, 4);
                return !d.has(a) && 4 == d.get(f)
            } catch (e) {
                return !1
            }
        }()) return k;
    var g = "$jscomp_hidden_" + Math.random().toString().substring(2);
    c("freeze");
    c("preventExtensions");
    c("seal");
    var h = 0,
        n = function(a) {
            this.id_ = (h += Math.random() + 1).toString();
            if (a) {
                $jscomp.initSymbol();
                $jscomp.initSymbolIterator();
                a = $jscomp.makeIterator(a);
                for (var f; !(f = a.next()).done;) f = f.value, this.set(f[0], f[1])
            }
        };
    n.prototype.set = function(m, f) {
        a(m);
        if (!$jscomp.owns(m, g)) throw Error("WeakMap key fail: " + m);
        m[g][this.id_] = f;
        return this
    };
    n.prototype.get = function(a) {
        return $jscomp.owns(a, g) ? a[g][this.id_] : void 0
    };
    n.prototype.has = function(a) {
        return $jscomp.owns(a, g) && $jscomp.owns(a[g], this.id_)
    };
    n.prototype["delete"] =
        function(a) {
            return $jscomp.owns(a, g) && $jscomp.owns(a[g], this.id_) ? delete a[g][this.id_] : !1
        };
    return n
}, "es6-impl", "es3");
$jscomp.ASSUME_NO_NATIVE_MAP = !1;
$jscomp.polyfill("Map", function(k) {
    if (!$jscomp.ASSUME_NO_NATIVE_MAP && function() {
            if (!k || !k.prototype.entries || "function" != typeof Object.seal) return !1;
            try {
                var a = Object.seal({
                        x: 4
                    }),
                    d = new k($jscomp.makeIterator([
                        [a, "s"]
                    ]));
                if ("s" != d.get(a) || 1 != d.size || d.get({
                        x: 4
                    }) || d.set({
                        x: 4
                    }, "t") != d || 2 != d.size) return !1;
                var e = d.entries(),
                    b = e.next();
                if (b.done || b.value[0] != a || "s" != b.value[1]) return !1;
                b = e.next();
                return b.done || 4 != b.value[0].x || "t" != b.value[1] || !e.next().done ? !1 : !0
            } catch (p) {
                return !1
            }
        }()) return k;
    $jscomp.initSymbol();
    $jscomp.initSymbolIterator();
    var a = new WeakMap,
        c = function(a) {
            this.data_ = {};
            this.head_ = n();
            this.size = 0;
            if (a) {
                a = $jscomp.makeIterator(a);
                for (var d; !(d = a.next()).done;) d = d.value, this.set(d[0], d[1])
            }
        };
    c.prototype.set = function(a, d) {
        var e = g(this, a);
        e.list || (e.list = this.data_[e.id] = []);
        e.entry ? e.entry.value = d : (e.entry = {
            next: this.head_,
            previous: this.head_.previous,
            head: this.head_,
            key: a,
            value: d
        }, e.list.push(e.entry), this.head_.previous.next = e.entry, this.head_.previous = e.entry, this.size++);
        return this
    };
    c.prototype["delete"] =
        function(a) {
            a = g(this, a);
            return a.entry && a.list ? (a.list.splice(a.index, 1), a.list.length || delete this.data_[a.id], a.entry.previous.next = a.entry.next, a.entry.next.previous = a.entry.previous, a.entry.head = null, this.size--, !0) : !1
        };
    c.prototype.clear = function() {
        this.data_ = {};
        this.head_ = this.head_.previous = n();
        this.size = 0
    };
    c.prototype.has = function(a) {
        return !!g(this, a).entry
    };
    c.prototype.get = function(a) {
        return (a = g(this, a).entry) && a.value
    };
    c.prototype.entries = function() {
        return h(this, function(a) {
            return [a.key,
                a.value
            ]
        })
    };
    c.prototype.keys = function() {
        return h(this, function(a) {
            return a.key
        })
    };
    c.prototype.values = function() {
        return h(this, function(a) {
            return a.value
        })
    };
    c.prototype.forEach = function(a, d) {
        for (var e = this.entries(), b; !(b = e.next()).done;) b = b.value, a.call(d, b[1], b[0], this)
    };
    c.prototype[Symbol.iterator] = c.prototype.entries;
    var g = function(f, d) {
            var e;
            e = d && typeof d;
            "object" == e || "function" == e ? a.has(d) ? e = a.get(d) : (e = "" + ++m, a.set(d, e)) : e = "p_" + d;
            var b = f.data_[e];
            if (b && $jscomp.owns(f.data_, e))
                for (var p = 0; p <
                    b.length; p++) {
                    var k = b[p];
                    if (d !== d && k.key !== k.key || d === k.key) return {
                        id: e,
                        list: b,
                        index: p,
                        entry: k
                    }
                }
            return {
                id: e,
                list: b,
                index: -1,
                entry: void 0
            }
        },
        h = function(a, d) {
            var e = a.head_;
            return $jscomp.iteratorPrototype(function() {
                if (e) {
                    for (; e.head != a.head_;) e = e.previous;
                    for (; e.next != e.head;) return e = e.next, {
                        done: !1,
                        value: d(e)
                    };
                    e = null
                }
                return {
                    done: !0,
                    value: void 0
                }
            })
        },
        n = function() {
            var a = {};
            return a.previous = a.next = a.head = a
        },
        m = 0;
    return c
}, "es6-impl", "es3");
$jscomp.ASSUME_NO_NATIVE_SET = !1;
$jscomp.polyfill("Set", function(k) {
    if (!$jscomp.ASSUME_NO_NATIVE_SET && function() {
            if (!k || !k.prototype.entries || "function" != typeof Object.seal) return !1;
            try {
                var a = Object.seal({
                        x: 4
                    }),
                    g = new k($jscomp.makeIterator([a]));
                if (!g.has(a) || 1 != g.size || g.add(a) != g || 1 != g.size || g.add({
                        x: 4
                    }) != g || 2 != g.size) return !1;
                var h = g.entries(),
                    n = h.next();
                if (n.done || n.value[0] != a || n.value[1] != a) return !1;
                n = h.next();
                return n.done || n.value[0] == a || 4 != n.value[0].x || n.value[1] != n.value[0] ? !1 : h.next().done
            } catch (m) {
                return !1
            }
        }()) return k;
    $jscomp.initSymbol();
    $jscomp.initSymbolIterator();
    var a = function(a) {
        this.map_ = new Map;
        if (a) {
            a = $jscomp.makeIterator(a);
            for (var k; !(k = a.next()).done;) this.add(k.value)
        }
        this.size = this.map_.size
    };
    a.prototype.add = function(a) {
        this.map_.set(a, a);
        this.size = this.map_.size;
        return this
    };
    a.prototype["delete"] = function(a) {
        a = this.map_["delete"](a);
        this.size = this.map_.size;
        return a
    };
    a.prototype.clear = function() {
        this.map_.clear();
        this.size = 0
    };
    a.prototype.has = function(a) {
        return this.map_.has(a)
    };
    a.prototype.entries =
        function() {
            return this.map_.entries()
        };
    a.prototype.values = function() {
        return this.map_.values()
    };
    a.prototype[Symbol.iterator] = a.prototype.values;
    a.prototype.forEach = function(a, k) {
        var c = this;
        this.map_.forEach(function(n) {
            return a.call(k, n, n, c)
        })
    };
    return a
}, "es6-impl", "es3");
(function(k) {
    var a = function(a, k) {
        this.init("simplecolorpicker", a, k)
    };
    a.prototype = {
        constructor: a,
        init: function(a, g, h) {
            var c = this;
            c.type = a;
            c.$select = k(g);
            c.$select.hide();
            c.options = k.extend({}, k.fn.simplecolorpicker.defaults, h);
            c.$colorList = null;
            !0 === c.options.picker ? (a = c.$select.find("> option:selected").text(), c.$icon = k('<span class="simplecolorpicker icon" title="' + a + '" style="background-color: ' + c.$select.val() + ';" role="button" tabindex="0"></span>').insertAfter(c.$select), c.$icon.on("click." +
                c.type, k.proxy(c.showPicker, c)), c.$picker = k('<span class="simplecolorpicker picker ' + c.options.theme + '"></span>').appendTo(document.body), c.$colorList = c.$picker, k(document).on("mousedown." + c.type, k.proxy(c.hidePicker, c)), c.$picker.on("mousedown." + c.type, k.proxy(c.mousedown, c))) : (c.$inline = k('<span class="simplecolorpicker inline ' + c.options.theme + '"></span>').insertAfter(c.$select), c.$colorList = c.$inline);
            c.$select.find("> option").each(function() {
                var a = k(this),
                    f = a.val(),
                    d = a.is(":selected"),
                    e = a.is(":disabled"),
                    b = "";
                !0 === d && (b = " data-selected");
                d = "";
                !0 === e && (d = " data-disabled");
                var p = "";
                !1 === e && (p = ' title="' + a.text() + '"');
                var u = "";
                !1 === e && (u = ' role="button" tabindex="0"');
                f = k('<span class="color"' + p + ' style="background-color: ' + f + ';" data-color="' + f + '"' + b + d + u + "></span>");
                c.$colorList.append(f);
                f.on("click." + c.type, k.proxy(c.colorSpanClicked, c));
                !0 === a.next().is("optgroup") && c.$colorList.append('<span class="vr"></span>')
            })
        },
        selectColor: function(a) {
            var c = this.$colorList.find("> span.color").filter(function() {
                return k(this).data("color").toLowerCase() ===
                    a.toLowerCase()
            });
            0 < c.length ? this.selectColorSpan(c) : console.error("The given color '" + a + "' could not be found")
        },
        showPicker: function() {
            var a = this.$icon.offset();
            this.$picker.css({
                left: a.left - 6,
                top: a.top + this.$icon.outerHeight()
            });
            this.$picker.show(this.options.pickerDelay)
        },
        hidePicker: function() {
            this.$picker.hide(this.options.pickerDelay)
        },
        selectColorSpan: function(a) {
            var k = a.data("color"),
                c = a.prop("title");
            a.siblings().removeAttr("data-selected");
            a.attr("data-selected", "");
            !0 === this.options.picker &&
                (this.$icon.css("background-color", k), this.$icon.prop("title", c), this.hidePicker());
            this.$select.val(k)
        },
        colorSpanClicked: function(a) {
            !1 === k(a.target).is("[data-disabled]") && (this.selectColorSpan(k(a.target)), this.$select.trigger("change"))
        },
        mousedown: function(a) {
            a.stopPropagation();
            a.preventDefault()
        },
        destroy: function() {
            !0 === this.options.picker && (this.$icon.off("." + this.type), this.$icon.remove(), k(document).off("." + this.type));
            this.$colorList.off("." + this.type);
            this.$colorList.remove();
            this.$select.removeData(this.type);
            this.$select.show()
        }
    };
    k.fn.simplecolorpicker = function(c) {
        var g = k.makeArray(arguments);
        g.shift();
        return this.each(function() {
            var h = k(this),
                n = h.data("simplecolorpicker"),
                m = "object" === typeof c && c;
            void 0 === n && h.data("simplecolorpicker", n = new a(this, m));
            "string" === typeof c && n[c].apply(n, g)
        })
    };
    k.fn.simplecolorpicker.defaults = {
        theme: "",
        picker: !1,
        pickerDelay: 0
    }
})(jQuery);
/*
 Bootstrap-select v1.10.0 (http://silviomoreto.github.io/bootstrap-select)

 Copyright 2013-2016 bootstrap-select
 Licensed under MIT (https://github.com/silviomoreto/bootstrap-select/blob/master/LICENSE)
*/
(function(k, a) {
    "function" === typeof define && define.amd ? define(["jquery"], function(k) {
        return a(k)
    }) : "object" === typeof exports ? module.exports = a(require("jquery")) : a(jQuery)
})(this, function(k) {
    (function(a) {
        function k(f) {
            a.each([{
                re: /[\xC0-\xC6]/g,
                ch: "A"
            }, {
                re: /[\xE0-\xE6]/g,
                ch: "a"
            }, {
                re: /[\xC8-\xCB]/g,
                ch: "E"
            }, {
                re: /[\xE8-\xEB]/g,
                ch: "e"
            }, {
                re: /[\xCC-\xCF]/g,
                ch: "I"
            }, {
                re: /[\xEC-\xEF]/g,
                ch: "i"
            }, {
                re: /[\xD2-\xD6]/g,
                ch: "O"
            }, {
                re: /[\xF2-\xF6]/g,
                ch: "o"
            }, {
                re: /[\xD9-\xDC]/g,
                ch: "U"
            }, {
                re: /[\xF9-\xFC]/g,
                ch: "u"
            }, {
                re: /[\xC7-\xE7]/g,
                ch: "c"
            }, {
                re: /[\xD1]/g,
                ch: "N"
            }, {
                re: /[\xF1]/g,
                ch: "n"
            }], function() {
                f = f.replace(this.re, this.ch)
            });
            return f
        }

        function g(a) {
            var d = {
                    "&": "&amp;",
                    "<": "&lt;",
                    ">": "&gt;",
                    '"': "&quot;",
                    "'": "&#x27;",
                    "`": "&#x60;"
                },
                e = "(?:" + Object.keys(d).join("|") + ")",
                b = new RegExp(e, "g");
            a = null == a ? "" : "" + a;
            return (new RegExp(e)).test(a) ? a.replace(b, function(a) {
                return d[a]
            }) : a
        }

        function h(f, d) {
            var e = arguments,
                b = f,
                m = d;
            [].shift.apply(e);
            var k, q = this.each(function() {
                var d = a(this);
                if (d.is("select")) {
                    var f = d.data("selectpicker"),
                        p = "object" ==
                        typeof b && b;
                    if (!f) f = a.extend({}, n.DEFAULTS, a.fn.selectpicker.defaults || {}, d.data(), p), f.template = a.extend({}, n.DEFAULTS.template, a.fn.selectpicker.defaults ? a.fn.selectpicker.defaults.template : {}, d.data().template, p.template), d.data("selectpicker", f = new n(this, f, m));
                    else if (p)
                        for (var q in p) p.hasOwnProperty(q) && (f.options[q] = p[q]);
                    "string" == typeof b && (k = f[b] instanceof Function ? f[b].apply(f, e) : f.options[b])
                }
            });
            return "undefined" !== typeof k ? k : q
        }
        String.prototype.includes || function() {
            var a = {}.toString,
                d = function() {
                    try {
                        var a = {},
                            b = Object.defineProperty,
                            e = b(a, a, a) && b
                    } catch (x) {}
                    return e
                }(),
                e = "".indexOf,
                b = function(b) {
                    if (null == this) throw new TypeError;
                    var d = String(this);
                    if (b && "[object RegExp]" == a.call(b)) throw new TypeError;
                    var f = d.length,
                        m = String(b),
                        p = m.length,
                        k = 1 < arguments.length ? arguments[1] : void 0,
                        k = k ? Number(k) : 0;
                    k != k && (k = 0);
                    return p + Math.min(Math.max(k, 0), f) > f ? !1 : -1 != e.call(d, m, k)
                };
            d ? d(String.prototype, "includes", {
                value: b,
                configurable: !0,
                writable: !0
            }) : String.prototype.includes = b
        }();
        String.prototype.startsWith ||
            function() {
                var a = function() {
                        try {
                            var a = {},
                                e = Object.defineProperty,
                                d = e(a, a, a) && e
                        } catch (q) {}
                        return d
                    }(),
                    d = {}.toString,
                    e = function(a) {
                        if (null == this) throw new TypeError;
                        var e = String(this);
                        if (a && "[object RegExp]" == d.call(a)) throw new TypeError;
                        var b = e.length,
                            f = String(a),
                            m = f.length,
                            k = 1 < arguments.length ? arguments[1] : void 0,
                            k = k ? Number(k) : 0;
                        k != k && (k = 0);
                        k = Math.min(Math.max(k, 0), b);
                        if (m + k > b) return !1;
                        for (b = -1; ++b < m;)
                            if (e.charCodeAt(k + b) != f.charCodeAt(b)) return !1;
                        return !0
                    };
                a ? a(String.prototype, "startsWith", {
                    value: e,
                    configurable: !0,
                    writable: !0
                }) : String.prototype.startsWith = e
            }();
        Object.keys || (Object.keys = function(a, d, e) {
            e = [];
            for (d in a) e.hasOwnProperty.call(a, d) && e.push(d);
            return e
        });
        a.fn.triggerNative = function(a) {
            var d = this[0],
                e;
            d.dispatchEvent ? ("function" === typeof Event ? e = new Event(a, {
                bubbles: !0
            }) : (e = document.createEvent("Event"), e.initEvent(a, !0, !1)), d.dispatchEvent(e)) : (d.fireEvent && (e = document.createEventObject(), e.eventType = a, d.fireEvent("on" + a, e)), this.trigger(a))
        };
        a.expr[":"].icontains = function(f, d, e) {
            f =
                a(f);
            return (f.data("tokens") || f.text()).toUpperCase().includes(e[3].toUpperCase())
        };
        a.expr[":"].ibegins = function(f, d, e) {
            f = a(f);
            return (f.data("tokens") || f.text()).toUpperCase().startsWith(e[3].toUpperCase())
        };
        a.expr[":"].aicontains = function(f, d, e) {
            f = a(f);
            return (f.data("tokens") || f.data("normalizedText") || f.text()).toUpperCase().includes(e[3].toUpperCase())
        };
        a.expr[":"].aibegins = function(f, d, e) {
            f = a(f);
            return (f.data("tokens") || f.data("normalizedText") || f.text()).toUpperCase().startsWith(e[3].toUpperCase())
        };
        var n = function(f, d, e) {
            e && (e.stopPropagation(), e.preventDefault());
            this.$element = a(f);
            this.$lis = this.$menu = this.$button = this.$newElement = null;
            this.options = d;
            null === this.options.title && (this.options.title = this.$element.attr("title"));
            this.val = n.prototype.val;
            this.render = n.prototype.render;
            this.refresh = n.prototype.refresh;
            this.setStyle = n.prototype.setStyle;
            this.selectAll = n.prototype.selectAll;
            this.deselectAll = n.prototype.deselectAll;
            this.destroy = n.prototype.destroy;
            this.remove = n.prototype.remove;
            this.show =
                n.prototype.show;
            this.hide = n.prototype.hide;
            this.init()
        };
        n.VERSION = "1.10.0";
        n.DEFAULTS = {
            noneSelectedText: "Nothing selected",
            noneResultsText: "No results matched {0}",
            countSelectedText: function(a, d) {
                return 1 == a ? "{0} item selected" : "{0} items selected"
            },
            maxOptionsText: function(a, d) {
                return [1 == a ? "Limit reached ({n} item max)" : "Limit reached ({n} items max)", 1 == d ? "Group limit reached ({n} item max)" : "Group limit reached ({n} items max)"]
            },
            selectAllText: "Select All",
            deselectAllText: "Deselect All",
            doneButton: !1,
            doneButtonText: "Close",
            multipleSeparator: ", ",
            styleBase: "btn",
            style: "btn-default",
            size: "auto",
            title: null,
            selectedTextFormat: "values",
            width: !1,
            container: !1,
            hideDisabled: !1,
            showSubtext: !1,
            showIcon: !0,
            showContent: !0,
            dropupAuto: !0,
            header: !1,
            liveSearch: !1,
            liveSearchPlaceholder: null,
            liveSearchNormalize: !1,
            liveSearchStyle: "contains",
            actionsBox: !1,
            iconBase: "glyphicon",
            tickIcon: "glyphicon-ok",
            showTick: !1,
            template: {
                caret: '<span class="caret"></span>'
            },
            maxOptions: !1,
            mobile: !1,
            selectOnTab: !1,
            dropdownAlignRight: !1
        };
        n.prototype = {
            constructor: n,
            init: function() {
                var f = this,
                    d = this.$element.attr("id");
                this.$element.addClass("bs-select-hidden");
                this.liObj = {};
                this.multiple = this.$element.prop("multiple");
                this.autofocus = this.$element.prop("autofocus");
                this.$newElement = this.createView();
                this.$element.after(this.$newElement).appendTo(this.$newElement);
                this.$button = this.$newElement.children("button");
                this.$menu = this.$newElement.children(".dropdown-menu");
                this.$menuInner = this.$menu.children(".inner");
                this.$searchbox = this.$menu.find("input");
                this.$element.removeClass("bs-select-hidden");
                this.options.dropdownAlignRight && this.$menu.addClass("dropdown-menu-right");
                "undefined" !== typeof d && (this.$button.attr("data-id", d), a('label[for="' + d + '"]').click(function(a) {
                    a.preventDefault();
                    f.$button.focus()
                }));
                this.checkDisabled();
                this.clickListener();
                this.options.liveSearch && this.liveSearchListener();
                this.render();
                this.setStyle();
                this.setWidth();
                this.options.container && this.selectPosition();
                this.$menu.data("this", this);
                this.$newElement.data("this",
                    this);
                this.options.mobile && this.mobile();
                this.$newElement.on({
                    "hide.bs.dropdown": function(a) {
                        f.$element.trigger("hide.bs.select", a)
                    },
                    "hidden.bs.dropdown": function(a) {
                        f.$element.trigger("hidden.bs.select", a)
                    },
                    "show.bs.dropdown": function(a) {
                        f.$element.trigger("show.bs.select", a)
                    },
                    "shown.bs.dropdown": function(a) {
                        f.$element.trigger("shown.bs.select", a)
                    }
                });
                if (f.$element[0].hasAttribute("required")) this.$element.on("invalid", function() {
                    f.$button.addClass("bs-invalid").focus();
                    f.$element.on({
                        "focus.bs.select": function() {
                            f.$button.focus();
                            f.$element.off("focus.bs.select")
                        },
                        "shown.bs.select": function() {
                            f.$element.val(f.$element.val()).off("shown.bs.select")
                        },
                        "rendered.bs.select": function() {
                            this.validity.valid && f.$button.removeClass("bs-invalid");
                            f.$element.off("rendered.bs.select")
                        }
                    })
                });
                setTimeout(function() {
                    f.$element.trigger("loaded.bs.select")
                })
            },
            createDropdown: function() {
                var f = this.multiple || this.options.showTick ? " show-tick" : "",
                    d = this.$element.parent().hasClass("input-group") ? " input-group-btn" : "",
                    e = this.autofocus ? " autofocus" :
                    "",
                    b = this.options.header ? '<div class="popover-title"><button type="button" class="close" aria-hidden="true">&times;</button>' + this.options.header + "</div>" : "",
                    m = this.options.liveSearch ? '<div class="bs-searchbox"><input type="text" class="form-control" autocomplete="off"' + (null === this.options.liveSearchPlaceholder ? "" : ' placeholder="' + g(this.options.liveSearchPlaceholder) + '"') + "></div>" : "";
                return a('<div class="btn-group bootstrap-select' + f + d + '"><button type="button" class="' + this.options.styleBase +
                    ' dropdown-toggle" data-toggle="dropdown"' + e + '><span class="filter-option pull-left"></span>&nbsp;<span class="bs-caret">' + this.options.template.caret + '</span></button><div class="dropdown-menu open">' + b + m + (this.multiple && this.options.actionsBox ? '<div class="bs-actionsbox"><div class="btn-group btn-group-sm btn-block"><button type="button" class="actions-btn bs-select-all btn btn-default">' + this.options.selectAllText + '</button><button type="button" class="actions-btn bs-deselect-all btn btn-default">' +
                        this.options.deselectAllText + "</button></div></div>" : "") + '<ul class="dropdown-menu inner" role="menu"></ul>' + (this.multiple && this.options.doneButton ? '<div class="bs-donebutton"><div class="btn-group btn-block"><button type="button" class="btn btn-sm btn-default">' + this.options.doneButtonText + "</button></div></div>" : "") + "</div></div>")
            },
            createView: function() {
                var a = this.createDropdown(),
                    d = this.createLi();
                a.find("ul")[0].innerHTML = d;
                return a
            },
            reloadLi: function() {
                this.destroyLi();
                var a = this.createLi();
                this.$menuInner[0].innerHTML = a
            },
            destroyLi: function() {
                this.$menu.find("li").remove()
            },
            createLi: function() {
                var f = this,
                    d = [],
                    e = 0,
                    b = document.createElement("option"),
                    m = -1,
                    u = function(a, b, e, d) {
                        return "<li" + ("undefined" !== typeof e & "" !== e ? ' class="' + e + '"' : "") + ("undefined" !== typeof b & null !== b ? ' data-original-index="' + b + '"' : "") + ("undefined" !== typeof d & null !== d ? 'data-optgroup="' + d + '"' : "") + ">" + a + "</li>"
                    },
                    q = function(a, b, e, d) {
                        return '<a tabindex="0"' + ("undefined" !== typeof b ? ' class="' + b + '"' : "") + ("undefined" !== typeof e ?
                            ' style="' + e + '"' : "") + (f.options.liveSearchNormalize ? ' data-normalized-text="' + k(g(a)) + '"' : "") + ("undefined" !== typeof d || null !== d ? ' data-tokens="' + d + '"' : "") + ">" + a + '<span class="' + f.options.iconBase + " " + f.options.tickIcon + ' check-mark"></span></a>'
                    };
                if (this.options.title && !this.multiple && (m--, !this.$element.find(".bs-title-option").length)) {
                    var c = this.$element[0];
                    b.className = "bs-title-option";
                    b.appendChild(document.createTextNode(this.options.title));
                    b.value = "";
                    c.insertBefore(b, c.firstChild);
                    void 0 ===
                        a(c.options[c.selectedIndex]).attr("selected") && (b.selected = !0)
                }
                this.$element.find("option").each(function(b) {
                    var p = a(this);
                    m++;
                    if (!p.hasClass("bs-title-option")) {
                        var k = this.className || "",
                            c = this.style.cssText,
                            x = p.data("content") ? p.data("content") : p.html(),
                            g = p.data("tokens") ? p.data("tokens") : null,
                            n = "undefined" !== typeof p.data("subtext") ? '<small class="text-muted">' + p.data("subtext") + "</small>" : "",
                            h = "undefined" !== typeof p.data("icon") ? '<span class="' + f.options.iconBase + " " + p.data("icon") + '"></span> ' :
                            "",
                            y = "OPTGROUP" === this.parentNode.tagName,
                            C = this.disabled || y && this.parentNode.disabled;
                        "" !== h && C && (h = "<span>" + h + "</span>");
                        if (f.options.hideDisabled && C && !y) m--;
                        else {
                            p.data("content") || (x = h + '<span class="text">' + x + n + "</span>");
                            if (y && !0 !== p.data("divider")) {
                                n = " " + this.parentNode.className || "";
                                0 === p.index() && (e += 1, h = this.parentNode.label, y = "undefined" !== typeof p.parent().data("subtext") ? '<small class="text-muted">' + p.parent().data("subtext") + "</small>" : "", h = (p.parent().data("icon") ? '<span class="' + f.options.iconBase +
                                    " " + p.parent().data("icon") + '"></span> ' : "") + '<span class="text">' + h + y + "</span>", 0 !== b && 0 < d.length && (m++, d.push(u("", null, "divider", e + "div"))), m++, d.push(u(h, null, "dropdown-header" + n, e)));
                                if (f.options.hideDisabled && C) {
                                    m--;
                                    return
                                }
                                d.push(u(q(x, "opt " + k + n, c, g), b, "", e))
                            } else !0 === p.data("divider") ? d.push(u("", b, "divider")) : !0 === p.data("hidden") ? d.push(u(q(x, k, c, g), b, "hidden is-hidden")) : (this.previousElementSibling && "OPTGROUP" === this.previousElementSibling.tagName && (m++, d.push(u("", null, "divider", e + "div"))),
                                d.push(u(q(x, k, c, g), b)));
                            f.liObj[b] = m
                        }
                    }
                });
                this.multiple || 0 !== this.$element.find("option:selected").length || this.options.title || this.$element.find("option").eq(0).prop("selected", !0).attr("selected", "selected");
                return d.join("")
            },
            findLis: function() {
                null == this.$lis && (this.$lis = this.$menu.find("li"));
                return this.$lis
            },
            render: function(f) {
                var d = this,
                    e;
                !1 !== f && this.$element.find("option").each(function(a) {
                    var b = d.findLis().eq(d.liObj[a]);
                    d.setDisabled(a, this.disabled || "OPTGROUP" === this.parentNode.tagName &&
                        this.parentNode.disabled, b);
                    d.setSelected(a, this.selected, b)
                });
                this.tabIndex();
                f = this.$element.find("option").map(function() {
                    if (this.selected && (!d.options.hideDisabled || !(this.disabled || "OPTGROUP" === this.parentNode.tagName && this.parentNode.disabled))) {
                        var b = a(this),
                            e = b.data("icon") && d.options.showIcon ? '<i class="' + d.options.iconBase + " " + b.data("icon") + '"></i> ' : "",
                            f;
                        f = d.options.showSubtext && b.data("subtext") && !d.multiple ? ' <small class="text-muted">' + b.data("subtext") + "</small>" : "";
                        return "undefined" !==
                            typeof b.attr("title") ? b.attr("title") : b.data("content") && d.options.showContent ? b.data("content") : e + b.html() + f
                    }
                }).toArray();
                e = this.multiple ? f.join(this.options.multipleSeparator) : f[0];
                if (this.multiple && -1 < this.options.selectedTextFormat.indexOf("count")) {
                    var b = this.options.selectedTextFormat.split(">");
                    if (1 < b.length && f.length > b[1] || 1 == b.length && 2 <= f.length) e = this.options.hideDisabled ? ", [disabled]" : "", e = this.$element.find("option").not('[data-divider="true"], [data-hidden="true"]' + e).length, e = ("function" ===
                        typeof this.options.countSelectedText ? this.options.countSelectedText(f.length, e) : this.options.countSelectedText).replace("{0}", f.length.toString()).replace("{1}", e.toString())
                }
                void 0 == this.options.title && (this.options.title = this.$element.attr("title"));
                "static" == this.options.selectedTextFormat && (e = this.options.title);
                e || (e = "undefined" !== typeof this.options.title ? this.options.title : this.options.noneSelectedText);
                this.$button.attr("title", a.trim(e.replace(/<[^>]*>?/g, "")));
                this.$button.children(".filter-option").html(e);
                this.$element.trigger("rendered.bs.select")
            },
            setStyle: function(a, d) {
                this.$element.attr("class") && this.$newElement.addClass(this.$element.attr("class").replace(/selectpicker|mobile-device|bs-select-hidden|validate\[.*\]/gi, ""));
                var e = a ? a : this.options.style;
                "add" == d ? this.$button.addClass(e) : "remove" == d ? this.$button.removeClass(e) : (this.$button.removeClass(this.options.style), this.$button.addClass(e))
            },
            liHeight: function(f) {
                if (f || !1 !== this.options.size && !this.sizeInfo) {
                    f = document.createElement("div");
                    var d = document.createElement("div"),
                        e = document.createElement("ul"),
                        b = document.createElement("li"),
                        m = document.createElement("li"),
                        k = document.createElement("a"),
                        q = document.createElement("span"),
                        c = this.options.header && 0 < this.$menu.find(".popover-title").length ? this.$menu.find(".popover-title")[0].cloneNode(!0) : null,
                        g = this.options.liveSearch ? document.createElement("div") : null,
                        n = this.options.actionsBox && this.multiple && 0 < this.$menu.find(".bs-actionsbox").length ? this.$menu.find(".bs-actionsbox")[0].cloneNode(!0) :
                        null,
                        h = this.options.doneButton && this.multiple && 0 < this.$menu.find(".bs-donebutton").length ? this.$menu.find(".bs-donebutton")[0].cloneNode(!0) : null;
                    q.className = "text";
                    f.className = this.$menu[0].parentNode.className + " open";
                    d.className = "dropdown-menu open";
                    e.className = "dropdown-menu inner";
                    b.className = "divider";
                    q.appendChild(document.createTextNode("Inner text"));
                    k.appendChild(q);
                    m.appendChild(k);
                    e.appendChild(m);
                    e.appendChild(b);
                    c && d.appendChild(c);
                    g && (m = document.createElement("span"), g.className = "bs-searchbox",
                        m.className = "form-control", g.appendChild(m), d.appendChild(g));
                    n && d.appendChild(n);
                    d.appendChild(e);
                    h && d.appendChild(h);
                    f.appendChild(d);
                    document.body.appendChild(f);
                    e = k.offsetHeight;
                    c = c ? c.offsetHeight : 0;
                    g = g ? g.offsetHeight : 0;
                    n = n ? n.offsetHeight : 0;
                    h = h ? h.offsetHeight : 0;
                    b = a(b).outerHeight(!0);
                    m = (k = "function" === typeof getComputedStyle ? getComputedStyle(d) : !1) ? null : a(d);
                    d = parseInt(k ? k.paddingTop : m.css("paddingTop")) + parseInt(k ? k.paddingBottom : m.css("paddingBottom")) + parseInt(k ? k.borderTopWidth : m.css("borderTopWidth")) +
                        parseInt(k ? k.borderBottomWidth : m.css("borderBottomWidth"));
                    k = d + parseInt(k ? k.marginTop : m.css("marginTop")) + parseInt(k ? k.marginBottom : m.css("marginBottom")) + 2;
                    document.body.removeChild(f);
                    this.sizeInfo = {
                        liHeight: e,
                        headerHeight: c,
                        searchHeight: g,
                        actionsHeight: n,
                        doneButtonHeight: h,
                        dividerHeight: b,
                        menuPadding: d,
                        menuExtras: k
                    }
                }
            },
            setSize: function() {
                this.findLis();
                this.liHeight();
                this.options.header && this.$menu.css("padding-top", 0);
                if (!1 !== this.options.size) {
                    var f = this,
                        d = this.$menu,
                        e = this.$menuInner,
                        b = a(window),
                        m = this.$newElement[0].offsetHeight,
                        k = this.sizeInfo.liHeight,
                        q = this.sizeInfo.headerHeight,
                        c = this.sizeInfo.searchHeight,
                        g = this.sizeInfo.actionsHeight,
                        n = this.sizeInfo.doneButtonHeight,
                        h = this.sizeInfo.dividerHeight,
                        t = this.sizeInfo.menuPadding,
                        z = this.sizeInfo.menuExtras,
                        r = this.options.hideDisabled ? ".disabled" : "",
                        A, B, D, C, F = function() {
                            D = f.$newElement.offset().top - b.scrollTop();
                            C = b.height() - D - m
                        };
                    F();
                    "auto" === this.options.size ? (h = function() {
                            var b;
                            b = function(b, e) {
                                return function(d) {
                                    return e ? d.classList ? d.classList.contains(b) :
                                        a(d).hasClass(b) : !(d.classList ? d.classList.contains(b) : a(d).hasClass(b))
                                }
                            };
                            var m = f.$menuInner[0].getElementsByTagName("li"),
                                m = Array.prototype.filter ? Array.prototype.filter.call(m, b("hidden", !1)) : f.$lis.not(".hidden");
                            b = Array.prototype.filter ? Array.prototype.filter.call(m, b("dropdown-header", !0)) : m.filter(".dropdown-header");
                            F();
                            A = C - z;
                            f.options.container ? (d.data("height") || d.data("height", d.height()), B = d.data("height")) : B = d.height();
                            f.options.dropupAuto && f.$newElement.toggleClass("dropup", D > C && A - z <
                                B);
                            f.$newElement.hasClass("dropup") && (A = D - z);
                            b = 3 < m.length + b.length ? 3 * k + z - 2 : 0;
                            d.css({
                                "max-height": A + "px",
                                overflow: "hidden",
                                "min-height": b + q + c + g + n + "px"
                            });
                            e.css({
                                "max-height": A - q - c - g - n - t + "px",
                                "overflow-y": "auto",
                                "min-height": Math.max(b - t, 0) + "px"
                            })
                        }, h(), this.$searchbox.off("input.getSize propertychange.getSize").on("input.getSize propertychange.getSize", h), b.off("resize.getSize scroll.getSize").on("resize.getSize scroll.getSize", h)) : this.options.size && "auto" != this.options.size && this.$lis.not(r).length >
                        this.options.size && (r = this.$lis.not(".divider").not(r).children().slice(0, this.options.size).last().parent().index(), r = this.$lis.slice(0, r + 1).filter(".divider").length, A = k * this.options.size + r * h + t, f.options.container ? (d.data("height") || d.data("height", d.height()), B = d.data("height")) : B = d.height(), f.options.dropupAuto && this.$newElement.toggleClass("dropup", D > C && A - z < B), d.css({
                            "max-height": A + q + c + g + n + "px",
                            overflow: "hidden",
                            "min-height": ""
                        }), e.css({
                            "max-height": A - t + "px",
                            "overflow-y": "auto",
                            "min-height": ""
                        }))
                }
            },
            setWidth: function() {
                if ("auto" === this.options.width) {
                    this.$menu.css("min-width", "0");
                    var a = this.$menu.parent().clone().appendTo("body"),
                        d = this.options.container ? this.$newElement.clone().appendTo("body") : a,
                        e = a.children(".dropdown-menu").outerWidth(),
                        b = d.css("width", "auto").children("button").outerWidth();
                    a.remove();
                    d.remove();
                    this.$newElement.css("width", Math.max(e, b) + "px")
                } else "fit" === this.options.width ? (this.$menu.css("min-width", ""), this.$newElement.css("width", "").addClass("fit-width")) : this.options.width ?
                    (this.$menu.css("min-width", ""), this.$newElement.css("width", this.options.width)) : (this.$menu.css("min-width", ""), this.$newElement.css("width", ""));
                this.$newElement.hasClass("fit-width") && "fit" !== this.options.width && this.$newElement.removeClass("fit-width")
            },
            selectPosition: function() {
                this.$bsContainer = a('<div class="bs-container" />');
                var f = this,
                    d, e, b = function(a) {
                        f.$bsContainer.addClass(a.attr("class").replace(/form-control|fit-width/gi, "")).toggleClass("dropup", a.hasClass("dropup"));
                        d = a.offset();
                        e = a.hasClass("dropup") ? 0 : a[0].offsetHeight;
                        f.$bsContainer.css({
                            top: d.top + e,
                            left: d.left,
                            width: a[0].offsetWidth
                        })
                    };
                this.$button.on("click", function() {
                    var e = a(this);
                    f.isDisabled() || (b(f.$newElement), f.$bsContainer.appendTo(f.options.container).toggleClass("open", !e.hasClass("open")).append(f.$menu))
                });
                a(window).on("resize scroll", function() {
                    b(f.$newElement)
                });
                this.$element.on("hide.bs.select", function() {
                    f.$menu.data("height", f.$menu.height());
                    f.$bsContainer.detach()
                })
            },
            setSelected: function(a, d, e) {
                e ||
                    (e = this.findLis().eq(this.liObj[a]));
                e.toggleClass("selected", d)
            },
            setDisabled: function(a, d, e) {
                e || (e = this.findLis().eq(this.liObj[a]));
                d ? e.addClass("disabled").children("a").attr("href", "#").attr("tabindex", -1) : e.removeClass("disabled").children("a").removeAttr("href").attr("tabindex", 0)
            },
            isDisabled: function() {
                return this.$element[0].disabled
            },
            checkDisabled: function() {
                var a = this;
                this.isDisabled() ? (this.$newElement.addClass("disabled"), this.$button.addClass("disabled").attr("tabindex", -1)) : (this.$button.hasClass("disabled") &&
                    (this.$newElement.removeClass("disabled"), this.$button.removeClass("disabled")), -1 != this.$button.attr("tabindex") || this.$element.data("tabindex") || this.$button.removeAttr("tabindex"));
                this.$button.click(function() {
                    return !a.isDisabled()
                })
            },
            tabIndex: function() {
                this.$element.data("tabindex") !== this.$element.attr("tabindex") && -98 !== this.$element.attr("tabindex") && "-98" !== this.$element.attr("tabindex") && (this.$element.data("tabindex", this.$element.attr("tabindex")), this.$button.attr("tabindex", this.$element.data("tabindex")));
                this.$element.attr("tabindex", -98)
            },
            clickListener: function() {
                var f = this,
                    d = a(document);
                this.$newElement.on("touchstart.dropdown", ".dropdown-menu", function(a) {
                    a.stopPropagation()
                });
                d.data("spaceSelect", !1);
                this.$button.on("keyup", function(a) {
                    /(32)/.test(a.keyCode.toString(10)) && d.data("spaceSelect") && (a.preventDefault(), d.data("spaceSelect", !1))
                });
                this.$button.on("click", function() {
                    f.setSize()
                });
                this.$element.on("shown.bs.select", function() {
                    if (!f.options.liveSearch && !f.multiple) f.$menuInner.find(".selected a").focus();
                    else if (!f.multiple) {
                        var a = f.liObj[f.$element[0].selectedIndex];
                        "number" === typeof a && !1 !== f.options.size && (a = f.$lis.eq(a)[0].offsetTop - f.$menuInner[0].offsetTop, a = a - f.$menuInner[0].offsetHeight / 2 + f.sizeInfo.liHeight / 2, f.$menuInner[0].scrollTop = a)
                    }
                });
                this.$menuInner.on("click", "li a", function(e) {
                    var b = a(this),
                        d = b.parent().data("originalIndex"),
                        m = f.$element.val(),
                        q = f.$element.prop("selectedIndex");
                    f.multiple && e.stopPropagation();
                    e.preventDefault();
                    if (!f.isDisabled() && !b.parent().hasClass("disabled")) {
                        var k =
                            f.$element.find("option");
                        e = k.eq(d);
                        var c = e.prop("selected"),
                            g = e.parent("optgroup"),
                            n = f.options.maxOptions,
                            h = g.data("maxOptions") || !1;
                        if (f.multiple) {
                            if (e.prop("selected", !c), f.setSelected(d, !c), b.blur(), !1 !== n || !1 !== h) {
                                var z = n < k.filter(":selected").length,
                                    r = h < g.find("option:selected").length;
                                if (n && z || h && r)
                                    if (n && 1 == n) k.prop("selected", !1), e.prop("selected", !0), f.$menuInner.find(".selected").removeClass("selected"), f.setSelected(d, !0);
                                    else if (h && 1 == h) g.find("option:selected").prop("selected", !1), e.prop("selected",
                                    !0), n = b.parent().data("optgroup"), f.$menuInner.find('[data-optgroup="' + n + '"]').removeClass("selected"), f.setSelected(d, !0);
                                else {
                                    var b = "function" === typeof f.options.maxOptionsText ? f.options.maxOptionsText(n, h) : f.options.maxOptionsText,
                                        k = b[0].replace("{n}", n),
                                        g = b[1].replace("{n}", h),
                                        A = a('<div class="notify"></div>');
                                    b[2] && (k = k.replace("{var}", b[2][1 < n ? 0 : 1]), g = g.replace("{var}", b[2][1 < h ? 0 : 1]));
                                    e.prop("selected", !1);
                                    f.$menu.append(A);
                                    n && z && (A.append(a("<div>" + k + "</div>")), f.$element.trigger("maxReached.bs.select"));
                                    h && r && (A.append(a("<div>" + g + "</div>")), f.$element.trigger("maxReachedGrp.bs.select"));
                                    setTimeout(function() {
                                        f.setSelected(d, !1)
                                    }, 10);
                                    A.delay(750).fadeOut(300, function() {
                                        a(this).remove()
                                    })
                                }
                            }
                        } else k.prop("selected", !1), e.prop("selected", !0), f.$menuInner.find(".selected").removeClass("selected"), f.setSelected(d, !0);
                        f.multiple ? f.options.liveSearch && f.$searchbox.focus() : f.$button.focus();
                        (m != f.$element.val() && f.multiple || q != f.$element.prop("selectedIndex") && !f.multiple) && f.$element.trigger("changed.bs.select",
                            [d, e.prop("selected"), c]).triggerNative("change")
                    }
                });
                this.$menu.on("click", "li.disabled a, .popover-title, .popover-title :not(.close)", function(e) {
                    e.currentTarget == this && (e.preventDefault(), e.stopPropagation(), f.options.liveSearch && !a(e.target).hasClass("close") ? f.$searchbox.focus() : f.$button.focus())
                });
                this.$menuInner.on("click", ".divider, .dropdown-header", function(a) {
                    a.preventDefault();
                    a.stopPropagation();
                    f.options.liveSearch ? f.$searchbox.focus() : f.$button.focus()
                });
                this.$menu.on("click", ".popover-title .close",
                    function() {
                        f.$button.click()
                    });
                this.$searchbox.on("click", function(a) {
                    a.stopPropagation()
                });
                this.$menu.on("click", ".actions-btn", function(e) {
                    f.options.liveSearch ? f.$searchbox.focus() : f.$button.focus();
                    e.preventDefault();
                    e.stopPropagation();
                    a(this).hasClass("bs-select-all") ? f.selectAll() : f.deselectAll()
                });
                this.$element.change(function() {
                    f.render(!1)
                })
            },
            liveSearchListener: function() {
                var f = this,
                    d = a('<li class="no-results"></li>');
                this.$button.on("click.dropdown.data-api touchstart.dropdown.data-api",
                    function() {
                        f.$menuInner.find(".active").removeClass("active");
                        f.$searchbox.val() && (f.$searchbox.val(""), f.$lis.not(".is-hidden").removeClass("hidden"), d.parent().length && d.remove());
                        f.multiple || f.$menuInner.find(".selected").addClass("active");
                        setTimeout(function() {
                            f.$searchbox.focus()
                        }, 10)
                    });
                this.$searchbox.on("click.dropdown.data-api focus.dropdown.data-api touchend.dropdown.data-api", function(a) {
                    a.stopPropagation()
                });
                this.$searchbox.on("input propertychange", function() {
                    if (f.$searchbox.val()) {
                        var e =
                            f.$lis.not(".is-hidden").removeClass("hidden").children("a"),
                            e = f.options.liveSearchNormalize ? e.not(":a" + f._searchStyle() + '("' + k(f.$searchbox.val()) + '")') : e.not(":" + f._searchStyle() + '("' + f.$searchbox.val() + '")');
                        e.parent().addClass("hidden");
                        f.$lis.filter(".dropdown-header").each(function() {
                            var b = a(this),
                                e = b.data("optgroup");
                            0 === f.$lis.filter("[data-optgroup=" + e + "]").not(b).not(".hidden").length && (b.addClass("hidden"), f.$lis.filter("[data-optgroup=" + e + "div]").addClass("hidden"))
                        });
                        var b = f.$lis.not(".hidden");
                        b.each(function(e) {
                            var d = a(this);
                            d.hasClass("divider") && (d.index() === b.first().index() || d.index() === b.last().index() || b.eq(e + 1).hasClass("divider")) && d.addClass("hidden")
                        });
                        f.$lis.not(".hidden, .no-results").length ? d.parent().length && d.remove() : (d.parent().length && d.remove(), d.html(f.options.noneResultsText.replace("{0}", '"' + g(f.$searchbox.val()) + '"')).show(), f.$menuInner.append(d))
                    } else f.$lis.not(".is-hidden").removeClass("hidden"), d.parent().length && d.remove();
                    f.$lis.filter(".active").removeClass("active");
                    f.$searchbox.val() && f.$lis.not(".hidden, .divider, .dropdown-header").eq(0).addClass("active").children("a").focus();
                    a(this).focus()
                })
            },
            _searchStyle: function() {
                return {
                    begins: "ibegins",
                    startsWith: "ibegins"
                } [this.options.liveSearchStyle] || "icontains"
            },
            val: function(a) {
                return "undefined" !== typeof a ? (this.$element.val(a), this.render(), this.$element) : this.$element.val()
            },
            changeAll: function(f) {
                "undefined" === typeof f && (f = !0);
                this.findLis();
                for (var d = this.$element.find("option"), e = this.$lis.not(".divider, .dropdown-header, .disabled, .hidden").toggleClass("selected",
                        f), b = e.length, m = [], k = 0; k < b; k++) {
                    var q = e[k].getAttribute("data-original-index");
                    m[m.length] = d.eq(q)[0]
                }
                a(m).prop("selected", f);
                this.render(!1);
                this.$element.trigger("changed.bs.select").triggerNative("change")
            },
            selectAll: function() {
                return this.changeAll(!0)
            },
            deselectAll: function() {
                return this.changeAll(!1)
            },
            toggle: function(a) {
                (a = a || window.event) && a.stopPropagation();
                this.$button.trigger("click")
            },
            keydown: function(f) {
                var d = a(this),
                    e = d.is("input") ? d.parent().parent() : d.parent(),
                    b, m = e.data("this"),
                    c,
                    q, g, n, h, v, t, z = {
                        32: " ",
                        48: "0",
                        49: "1",
                        50: "2",
                        51: "3",
                        52: "4",
                        53: "5",
                        54: "6",
                        55: "7",
                        56: "8",
                        57: "9",
                        59: ";",
                        65: "a",
                        66: "b",
                        67: "c",
                        68: "d",
                        69: "e",
                        70: "f",
                        71: "g",
                        72: "h",
                        73: "i",
                        74: "j",
                        75: "k",
                        76: "l",
                        77: "m",
                        78: "n",
                        79: "o",
                        80: "p",
                        81: "q",
                        82: "r",
                        83: "s",
                        84: "t",
                        85: "u",
                        86: "v",
                        87: "w",
                        88: "x",
                        89: "y",
                        90: "z",
                        96: "0",
                        97: "1",
                        98: "2",
                        99: "3",
                        100: "4",
                        101: "5",
                        102: "6",
                        103: "7",
                        104: "8",
                        105: "9"
                    };
                m.options.liveSearch && (e = d.parent().parent());
                m.options.container && (e = m.$menu);
                b = a("[role=menu] li", e);
                t = m.$newElement.hasClass("open");
                !t && (48 <=
                    f.keyCode && 57 >= f.keyCode || 96 <= f.keyCode && 105 >= f.keyCode || 65 <= f.keyCode && 90 >= f.keyCode) && (m.options.container ? m.$button.trigger("click") : (m.setSize(), m.$menu.parent().addClass("open"), t = !0), m.$searchbox.focus());
                m.options.liveSearch && (/(^9$|27)/.test(f.keyCode.toString(10)) && t && 0 === m.$menu.find(".active").length && (f.preventDefault(), m.$menu.parent().removeClass("open"), m.options.container && m.$newElement.removeClass("open"), m.$button.focus()), b = a("[role=menu] li:not(.disabled, .hidden, .dropdown-header, .divider)",
                    e), d.val() || /(38|40)/.test(f.keyCode.toString(10)) || 0 !== b.filter(".active").length || (b = m.$menuInner.find("li"), b = m.options.liveSearchNormalize ? b.filter(":a" + m._searchStyle() + "(" + k(z[f.keyCode]) + ")") : b.filter(":" + m._searchStyle() + "(" + z[f.keyCode] + ")")));
                if (b.length) {
                    if (/(38|40)/.test(f.keyCode.toString(10))) e = b.index(b.find("a").filter(":focus").parent()), q = b.filter(":not(.disabled, .hidden, .dropdown-header, .divider)").first().index(), g = b.filter(":not(.disabled, .hidden, .dropdown-header, .divider)").last().index(),
                        c = b.eq(e).nextAll(":not(.disabled, .hidden, .dropdown-header, .divider)").eq(0).index(), n = b.eq(e).prevAll(":not(.disabled, .hidden, .dropdown-header, .divider)").eq(0).index(), h = b.eq(c).prevAll(":not(.disabled, .hidden, .dropdown-header, .divider)").eq(0).index(), m.options.liveSearch && (b.each(function(b) {
                                a(this).hasClass("disabled") || a(this).data("index", b)
                            }), e = b.index(b.filter(".active")), q = b.first().data("index"), g = b.last().data("index"), c = b.eq(e).nextAll().eq(0).data("index"), n = b.eq(e).prevAll().eq(0).data("index"),
                            h = b.eq(c).prevAll().eq(0).data("index")), v = d.data("prevIndex"), 38 == f.keyCode ? (m.options.liveSearch && e--, e != h && e > n && (e = n), e < q && (e = q), e == v && (e = g)) : 40 == f.keyCode && (m.options.liveSearch && e++, -1 == e && (e = 0), e != h && e < c && (e = c), e > g && (e = g), e == v && (e = q)), d.data("prevIndex", e), m.options.liveSearch ? (f.preventDefault(), d.hasClass("dropdown-toggle") || (b.removeClass("active").eq(e).addClass("active").children("a").focus(), d.focus())) : b.eq(e).children("a").focus();
                    else if (!d.is("input")) {
                        var r = [];
                        b.each(function() {
                            a(this).hasClass("disabled") ||
                                a.trim(a(this).children("a").text().toLowerCase()).substring(0, 1) == z[f.keyCode] && r.push(a(this).index())
                        });
                        e = a(document).data("keycount");
                        e++;
                        a(document).data("keycount", e);
                        a.trim(a(":focus").text().toLowerCase()).substring(0, 1) != z[f.keyCode] ? (e = 1, a(document).data("keycount", e)) : e >= r.length && (a(document).data("keycount", 0), e > r.length && (e = 1));
                        b.eq(r[e - 1]).children("a").focus()
                    }(/(13|32)/.test(f.keyCode.toString(10)) || /(^9$)/.test(f.keyCode.toString(10)) && m.options.selectOnTab) && t && (/(32)/.test(f.keyCode.toString(10)) ||
                        f.preventDefault(), m.options.liveSearch ? /(32)/.test(f.keyCode.toString(10)) || (m.$menuInner.find(".active a").click(), d.focus()) : (d = a(":focus"), d.click(), d.focus(), f.preventDefault(), a(document).data("spaceSelect", !0)), a(document).data("keycount", 0));
                    if (/(^9$|27)/.test(f.keyCode.toString(10)) && t && (m.multiple || m.options.liveSearch) || /(27)/.test(f.keyCode.toString(10)) && !t) m.$menu.parent().removeClass("open"), m.options.container && m.$newElement.removeClass("open"), m.$button.focus()
                }
            },
            mobile: function() {
                this.$element.addClass("mobile-device")
            },
            refresh: function() {
                this.$lis = null;
                this.liObj = {};
                this.reloadLi();
                this.render();
                this.checkDisabled();
                this.liHeight(!0);
                this.setStyle();
                this.setWidth();
                this.$lis && this.$searchbox.trigger("propertychange");
                this.$element.trigger("refreshed.bs.select")
            },
            hide: function() {
                this.$newElement.hide()
            },
            show: function() {
                this.$newElement.show()
            },
            remove: function() {
                this.$newElement.remove();
                this.$element.remove()
            },
            destroy: function() {
                this.$newElement.before(this.$element).remove();
                this.$bsContainer ? this.$bsContainer.remove() :
                    this.$menu.remove();
                this.$element.off(".bs.select").removeData("selectpicker").removeClass("bs-select-hidden selectpicker")
            }
        };
        var m = a.fn.selectpicker;
        a.fn.selectpicker = h;
        a.fn.selectpicker.Constructor = n;
        a.fn.selectpicker.noConflict = function() {
            a.fn.selectpicker = m;
            return this
        };
        a(document).data("keycount", 0).on("keydown.bs.select", '.bootstrap-select [data-toggle=dropdown], .bootstrap-select [role="menu"], .bs-searchbox input', n.prototype.keydown).on("focusin.modal", '.bootstrap-select [data-toggle=dropdown], .bootstrap-select [role="menu"], .bs-searchbox input',
            function(a) {
                a.stopPropagation()
            });
        a(window).on("load.bs.select.data-api", function() {
            a(".selectpicker").each(function() {
                var f = a(this);
                h.call(f, f.data())
            })
        })
    })(k)
});
/*
: http://creativecommons.org/publicdomain/zero/1.0/
 pixi.js - v4.3.4
 Compiled Thu, 19 Jan 2017 21:39:58 UTC

 pixi.js is licensed under the MIT License.
 http://www.opensource.org/licenses/mit-license
 https://mths.be/punycode v1.4.1 by @mathias */
(function(k) {
    "object" === typeof exports && "undefined" !== typeof module ? module.exports = k() : "function" === typeof define && define.amd ? define([], k) : ("undefined" !== typeof window ? window : "undefined" !== typeof global ? global : "undefined" !== typeof self ? self : this).PIXI = k()
})(function() {
    return function a(c, g, h) {
        function n(d, e) {
            if (!g[d]) {
                if (!c[d]) {
                    var b = "function" == typeof require && require;
                    if (!e && b) return b(d, !0);
                    if (m) return m(d, !0);
                    b = Error("Cannot find module '" + d + "'");
                    throw b.code = "MODULE_NOT_FOUND", b;
                }
                b = g[d] = {
                    exports: {}
                };
                c[d][0].call(b.exports, function(a) {
                    var b = c[d][1][a];
                    return n(b ? b : a)
                }, b, b.exports, a, c, g, h)
            }
            return g[d].exports
        }
        for (var m = "function" == typeof require && require, f = 0; f < h.length; f++) n(h[f]);
        return n
    }({
        1: [function(a, c, g) {
            function h(a) {
                var f = 32;
                (a &= -a) && f--;
                a & 65535 && (f -= 16);
                a & 16711935 && (f -= 8);
                a & 252645135 && (f -= 4);
                a & 858993459 && (f -= 2);
                a & 1431655765 && --f;
                return f
            }
            "use restrict";
            g.INT_BITS = 32;
            g.INT_MAX = 2147483647;
            g.INT_MIN = -2147483648;
            g.sign = function(a) {
                return (0 < a) - (0 > a)
            };
            g.abs = function(a) {
                var f = a >> 31;
                return (a ^
                    f) - f
            };
            g.min = function(a, f) {
                return f ^ (a ^ f) & -(a < f)
            };
            g.max = function(a, f) {
                return a ^ (a ^ f) & -(a < f)
            };
            g.isPow2 = function(a) {
                return !(a & a - 1) && !!a
            };
            g.log2 = function(a) {
                var f, d;
                f = (65535 < a) << 4;
                a >>>= f;
                d = (255 < a) << 3;
                a >>>= d;
                f |= d;
                d = (15 < a) << 2;
                a >>>= d;
                f |= d;
                d = (3 < a) << 1;
                return f | d | a >>> d >> 1
            };
            g.log10 = function(a) {
                return 1E9 <= a ? 9 : 1E8 <= a ? 8 : 1E7 <= a ? 7 : 1E6 <= a ? 6 : 1E5 <= a ? 5 : 1E4 <= a ? 4 : 1E3 <= a ? 3 : 100 <= a ? 2 : 10 <= a ? 1 : 0
            };
            g.popCount = function(a) {
                a -= a >>> 1 & 1431655765;
                a = (a & 858993459) + (a >>> 2 & 858993459);
                return 16843009 * (a + (a >>> 4) & 252645135) >>> 24
            };
            g.countTrailingZeros =
                h;
            g.nextPow2 = function(a) {
                a += 0 === a;
                --a;
                a |= a >>> 1;
                a |= a >>> 2;
                a |= a >>> 4;
                a |= a >>> 8;
                return (a | a >>> 16) + 1
            };
            g.prevPow2 = function(a) {
                a |= a >>> 1;
                a |= a >>> 2;
                a |= a >>> 4;
                a |= a >>> 8;
                a |= a >>> 16;
                return a - (a >>> 1)
            };
            g.parity = function(a) {
                a ^= a >>> 16;
                a ^= a >>> 8;
                return 27030 >>> ((a ^ a >>> 4) & 15) & 1
            };
            var n = Array(256);
            (function(a) {
                for (var f = 0; 256 > f; ++f) {
                    for (var d = f, e = f, b = 7, d = d >>> 1; d; d >>>= 1) e <<= 1, e |= d & 1, --b;
                    a[f] = e << b & 255
                }
            })(n);
            g.reverse = function(a) {
                return n[a & 255] << 24 | n[a >>> 8 & 255] << 16 | n[a >>> 16 & 255] << 8 | n[a >>> 24 & 255]
            };
            g.interleave2 = function(a, f) {
                a &=
                    65535;
                a = (a | a << 8) & 16711935;
                a = (a | a << 4) & 252645135;
                a = (a | a << 2) & 858993459;
                f &= 65535;
                f = (f | f << 8) & 16711935;
                f = (f | f << 4) & 252645135;
                f = (f | f << 2) & 858993459;
                return (a | a << 1) & 1431655765 | ((f | f << 1) & 1431655765) << 1
            };
            g.deinterleave2 = function(a, f) {
                a = a >>> f & 1431655765;
                a = (a | a >>> 1) & 858993459;
                a = (a | a >>> 2) & 252645135;
                a = (a | a >>> 4) & 16711935;
                return ((a | a >>> 16) & 65535) << 16 >> 16
            };
            g.interleave3 = function(a, f, d) {
                a &= 1023;
                a = (a | a << 16) & 4278190335;
                a = (a | a << 8) & 251719695;
                a = (a | a << 4) & 3272356035;
                f &= 1023;
                f = (f | f << 16) & 4278190335;
                f = (f | f << 8) & 251719695;
                f = (f | f <<
                    4) & 3272356035;
                d &= 1023;
                d = (d | d << 16) & 4278190335;
                d = (d | d << 8) & 251719695;
                d = (d | d << 4) & 3272356035;
                return (a | a << 2) & 1227133513 | ((f | f << 2) & 1227133513) << 1 | ((d | d << 2) & 1227133513) << 2
            };
            g.deinterleave3 = function(a, f) {
                a = a >>> f & 1227133513;
                a = (a | a >>> 2) & 3272356035;
                a = (a | a >>> 4) & 251719695;
                a = (a | a >>> 8) & 4278190335;
                return ((a | a >>> 16) & 1023) << 22 >> 22
            };
            g.nextCombination = function(a) {
                var f = a | a - 1;
                return f + 1 | (~f & -~f) - 1 >>> h(a) + 1
            }
        }, {}],
        2: [function(a, c, g) {
            function h(a, b, q) {
                q = q || 2;
                var c = b && b.length,
                    u = c ? b[0] * q : a.length,
                    g = n(a, 0, u, q, !0),
                    x = [];
                if (!g) return x;
                var h, y, w, r;
                if (c) {
                    var t = q,
                        c = [],
                        z, B, C;
                    r = 0;
                    for (z = b.length; r < z; r++) B = b[r] * t, C = r < z - 1 ? b[r + 1] * t : a.length, B = n(a, B, C, t, !1), B === B.next && (B.steiner = !0), c.push(p(B));
                    c.sort(d);
                    for (r = 0; r < c.length; r++) {
                        b = c[r];
                        t = g;
                        if (t = e(b, t)) b = v(t, b), m(b, b.next);
                        g = m(g, g.next)
                    }
                }
                if (a.length > 80 * q) {
                    h = w = a[0];
                    y = c = a[1];
                    for (t = q; t < u; t += q) r = a[t], b = a[t + 1], r < h && (h = r), b < y && (y = b), r > w && (w = r), b > c && (c = b);
                    w = Math.max(w - h, c - y)
                }
                f(g, x, q, h, y, w);
                return x
            }

            function n(a, b, e, d, f) {
                var m;
                if (f === 0 < A(a, b, e, d))
                    for (f = b; f < e; f += d) m = t(f, a[f], a[f + 1], m);
                else
                    for (f =
                        e - d; f >= b; f -= d) m = t(f, a[f], a[f + 1], m);
                m && x(m, m.next) && (z(m), m = m.next);
                return m
            }

            function m(a, b) {
                if (!a) return a;
                b || (b = a);
                var e = a,
                    d;
                do
                    if (d = !1, e.steiner || !x(e, e.next) && 0 !== q(e.prev, e, e.next)) e = e.next;
                    else {
                        z(e);
                        e = b = e.prev;
                        if (e === e.next) return null;
                        d = !0
                    } while (d || e !== b);
                return b
            }

            function f(a, e, d, p, c, g, n) {
                if (a) {
                    if (!n && g) {
                        var h = a,
                            r = h;
                        do null === r.z && (r.z = b(r.x, r.y, p, c, g)), r.prevZ = r.prev, r = r.nextZ = r.next; while (r !== h);
                        r.prevZ.nextZ = null;
                        r.prevZ = null;
                        var h = r,
                            t, B, C, D, A, F, E = 1;
                        do {
                            r = h;
                            C = h = null;
                            for (D = 0; r;) {
                                D++;
                                B = r;
                                for (t =
                                    A = 0; t < E && (A++, B = B.nextZ, B); t++);
                                for (F = E; 0 < A || 0 < F && B;) 0 === A ? (t = B, B = B.nextZ, F--) : 0 !== F && B ? r.z <= B.z ? (t = r, r = r.nextZ, A--) : (t = B, B = B.nextZ, F--) : (t = r, r = r.nextZ, A--), C ? C.nextZ = t : h = t, t.prevZ = C, C = t;
                                r = B
                            }
                            C.nextZ = null;
                            E *= 2
                        } while (1 < D)
                    }
                    for (h = a; a.prev !== a.next;) {
                        r = a.prev;
                        B = a.next;
                        if (g) a: {
                            C = a;F = p;
                            var G = c,
                                I = g;D = C.prev;A = C;E = C.next;
                            if (0 <= q(D, A, E)) C = !1;
                            else {
                                var L = D.x > A.x ? D.x > E.x ? D.x : E.x : A.x > E.x ? A.x : E.x,
                                    U = D.y > A.y ? D.y > E.y ? D.y : E.y : A.y > E.y ? A.y : E.y;
                                t = b(D.x < A.x ? D.x < E.x ? D.x : E.x : A.x < E.x ? A.x : E.x, D.y < A.y ? D.y < E.y ? D.y : E.y : A.y < E.y ?
                                    A.y : E.y, F, G, I);
                                F = b(L, U, F, G, I);
                                for (G = C.nextZ; G && G.z <= F;) {
                                    if (G !== C.prev && G !== C.next && u(D.x, D.y, A.x, A.y, E.x, E.y, G.x, G.y) && 0 <= q(G.prev, G, G.next)) {
                                        C = !1;
                                        break a
                                    }
                                    G = G.nextZ
                                }
                                for (G = C.prevZ; G && G.z >= t;) {
                                    if (G !== C.prev && G !== C.next && u(D.x, D.y, A.x, A.y, E.x, E.y, G.x, G.y) && 0 <= q(G.prev, G, G.next)) {
                                        C = !1;
                                        break a
                                    }
                                    G = G.prevZ
                                }
                                C = !0
                            }
                        }
                        else a: if (C = a, D = C.prev, A = C, E = C.next, 0 <= q(D, A, E)) C = !1;
                            else {
                                for (t = C.next.next; t !== C.prev;) {
                                    if (u(D.x, D.y, A.x, A.y, E.x, E.y, t.x, t.y) && 0 <= q(t.prev, t, t.next)) {
                                        C = !1;
                                        break a
                                    }
                                    t = t.next
                                }
                                C = !0
                            } if (C) e.push(r.i / d),
                            e.push(a.i / d), e.push(B.i / d), z(a), h = a = B.next;
                        else if (a = B, a === h) {
                            if (!n) f(m(a), e, d, p, c, g, 1);
                            else if (1 === n) {
                                n = e;
                                h = d;
                                r = a;
                                do B = r.prev, C = r.next.next, !x(B, C) && y(B, r, r.next, C) && w(B, C) && w(C, B) && (n.push(B.i / h), n.push(r.i / h), n.push(C.i / h), z(r), z(r.next), r = a = C), r = r.next; while (r !== a);
                                a = r;
                                f(a, e, d, p, c, g, 2)
                            } else if (2 === n) a: {
                                n = a;do {
                                    for (h = n.next.next; h !== n.prev;) {
                                        if (r = n.i !== h.i) {
                                            r = n;
                                            B = h;
                                            if (C = r.next.i !== B.i && r.prev.i !== B.i) {
                                                b: {
                                                    C = r;do {
                                                        if (C.i !== r.i && C.next.i !== r.i && C.i !== B.i && C.next.i !== B.i && y(C, C.next, r, B)) {
                                                            C = !0;
                                                            break b
                                                        }
                                                        C =
                                                            C.next
                                                    } while (C !== r);C = !1
                                                }
                                                C = !C
                                            }
                                            if (C = C && w(r, B) && w(B, r)) {
                                                C = r;
                                                D = !1;
                                                A = (r.x + B.x) / 2;
                                                B = (r.y + B.y) / 2;
                                                do C.y > B !== C.next.y > B && A < (C.next.x - C.x) * (B - C.y) / (C.next.y - C.y) + C.x && (D = !D), C = C.next; while (C !== r);
                                                C = D
                                            }
                                            r = C
                                        }
                                        if (r) {
                                            a = v(n, h);
                                            n = m(n, n.next);
                                            a = m(a, a.next);
                                            f(n, e, d, p, c, g);
                                            f(a, e, d, p, c, g);
                                            break a
                                        }
                                        h = h.next
                                    }
                                    n = n.next
                                } while (n !== a)
                            }
                            break
                        }
                    }
                }
            }

            function d(a, b) {
                return a.x - b.x
            }

            function e(a, b) {
                var e = b,
                    d = a.x,
                    f = a.y,
                    m = -Infinity,
                    p;
                do {
                    if (f <= e.y && f >= e.next.y) {
                        var q = e.x + (f - e.y) * (e.next.x - e.x) / (e.next.y - e.y);
                        if (q <= d && q > m) {
                            m = q;
                            if (q === d) {
                                if (f ===
                                    e.y) return e;
                                if (f === e.next.y) return e.next
                            }
                            p = e.x < e.next.x ? e : e.next
                        }
                    }
                    e = e.next
                } while (e !== b);
                if (!p) return null;
                if (d === m) return p.prev;
                for (var q = p, c = p.x, g = p.y, n = Infinity, x, e = p.next; e !== q;) d >= e.x && e.x >= c && u(f < g ? d : m, f, c, g, f < g ? m : d, f, e.x, e.y) && (x = Math.abs(f - e.y) / (d - e.x), (x < n || x === n && e.x > p.x) && w(e, a) && (p = e, n = x)), e = e.next;
                return p
            }

            function b(a, b, e, d, f) {
                a = 32767 * (a - e) / f;
                b = 32767 * (b - d) / f;
                a = (a | a << 8) & 16711935;
                a = (a | a << 4) & 252645135;
                a = (a | a << 2) & 858993459;
                b = (b | b << 8) & 16711935;
                b = (b | b << 4) & 252645135;
                b = (b | b << 2) & 858993459;
                return (a | a << 1) & 1431655765 | ((b | b << 1) & 1431655765) << 1
            }

            function p(a) {
                var b = a,
                    e = a;
                do b.x < e.x && (e = b), b = b.next; while (b !== a);
                return e
            }

            function u(a, b, e, d, f, m, p, q) {
                return 0 <= (f - p) * (b - q) - (a - p) * (m - q) && 0 <= (a - p) * (d - q) - (e - p) * (b - q) && 0 <= (e - p) * (m - q) - (f - p) * (d - q)
            }

            function q(a, b, e) {
                return (b.y - a.y) * (e.x - b.x) - (b.x - a.x) * (e.y - b.y)
            }

            function x(a, b) {
                return a.x === b.x && a.y === b.y
            }

            function y(a, b, e, d) {
                return x(a, b) && x(e, d) || x(a, d) && x(e, b) ? !0 : 0 < q(a, b, e) !== 0 < q(a, b, d) && 0 < q(e, d, a) !== 0 < q(e, d, b)
            }

            function w(a, b) {
                return 0 > q(a.prev, a, a.next) ?
                    0 <= q(a, b, a.next) && 0 <= q(a, a.prev, b) : 0 > q(a, b, a.prev) || 0 > q(a, a.next, b)
            }

            function v(a, b) {
                var e = new r(a.i, a.x, a.y),
                    d = new r(b.i, b.x, b.y),
                    f = a.next,
                    m = b.prev;
                a.next = b;
                b.prev = a;
                e.next = f;
                f.prev = e;
                d.next = e;
                e.prev = d;
                m.next = d;
                d.prev = m;
                return d
            }

            function t(a, b, e, d) {
                a = new r(a, b, e);
                d ? (a.next = d.next, a.prev = d, d.next.prev = a, d.next = a) : (a.prev = a, a.next = a);
                return a
            }

            function z(a) {
                a.next.prev = a.prev;
                a.prev.next = a.next;
                a.prevZ && (a.prevZ.nextZ = a.nextZ);
                a.nextZ && (a.nextZ.prevZ = a.prevZ)
            }

            function r(a, b, e) {
                this.i = a;
                this.x = b;
                this.y =
                    e;
                this.nextZ = this.prevZ = this.z = this.next = this.prev = null;
                this.steiner = !1
            }

            function A(a, b, e, d) {
                for (var f = 0, m = e - d; b < e; b += d) f += (a[m] - a[b]) * (a[b + 1] + a[m + 1]), m = b;
                return f
            }
            c.exports = h;
            h.deviation = function(a, b, e, d) {
                var f = b && b.length,
                    m = Math.abs(A(a, 0, f ? b[0] * e : a.length, e));
                if (f)
                    for (var f = 0, p = b.length; f < p; f++) m -= Math.abs(A(a, b[f] * e, f < p - 1 ? b[f + 1] * e : a.length, e));
                for (f = b = 0; f < d.length; f += 3) {
                    var p = d[f] * e,
                        q = d[f + 1] * e,
                        c = d[f + 2] * e;
                    b += Math.abs((a[p] - a[c]) * (a[q + 1] - a[p + 1]) - (a[p] - a[q]) * (a[c + 1] - a[p + 1]))
                }
                return 0 === m && 0 === b ? 0 :
                    Math.abs((b - m) / m)
            };
            h.flatten = function(a) {
                for (var b = a[0][0].length, e = {
                        vertices: [],
                        holes: [],
                        dimensions: b
                    }, d = 0, f = 0; f < a.length; f++) {
                    for (var m = 0; m < a[f].length; m++)
                        for (var p = 0; p < b; p++) e.vertices.push(a[f][m][p]);
                    0 < f && (d += a[f - 1].length, e.holes.push(d))
                }
                return e
            }
        }, {}],
        3: [function(a, c, g) {
            function h() {}

            function n(a, b, d) {
                this.fn = a;
                this.context = b;
                this.once = d || !1
            }

            function m() {
                this._events = new h;
                this._eventsCount = 0
            }
            var f = Object.prototype.hasOwnProperty,
                d = "~";
            Object.create && (h.prototype = Object.create(null), (new h).__proto__ ||
                (d = !1));
            m.prototype.eventNames = function() {
                var a = [],
                    b, m;
                if (0 === this._eventsCount) return a;
                for (m in b = this._events) f.call(b, m) && a.push(d ? m.slice(1) : m);
                return Object.getOwnPropertySymbols ? a.concat(Object.getOwnPropertySymbols(b)) : a
            };
            m.prototype.listeners = function(a, b) {
                var e = this._events[d ? d + a : a];
                if (b) return !!e;
                if (!e) return [];
                if (e.fn) return [e.fn];
                for (var f = 0, m = e.length, c = Array(m); f < m; f++) c[f] = e[f].fn;
                return c
            };
            m.prototype.emit = function(a, b, f, m, q, c) {
                var e = d ? d + a : a;
                if (!this._events[e]) return !1;
                var e = this._events[e],
                    p = arguments.length,
                    u, g;
                if (e.fn) {
                    e.once && this.removeListener(a, e.fn, void 0, !0);
                    switch (p) {
                        case 1:
                            return e.fn.call(e.context), !0;
                        case 2:
                            return e.fn.call(e.context, b), !0;
                        case 3:
                            return e.fn.call(e.context, b, f), !0;
                        case 4:
                            return e.fn.call(e.context, b, f, m), !0;
                        case 5:
                            return e.fn.call(e.context, b, f, m, q), !0;
                        case 6:
                            return e.fn.call(e.context, b, f, m, q, c), !0
                    }
                    g = 1;
                    for (u = Array(p - 1); g < p; g++) u[g - 1] = arguments[g];
                    e.fn.apply(e.context, u)
                } else {
                    var n = e.length,
                        x;
                    for (g = 0; g < n; g++) switch (e[g].once && this.removeListener(a, e[g].fn,
                        void 0, !0), p) {
                        case 1:
                            e[g].fn.call(e[g].context);
                            break;
                        case 2:
                            e[g].fn.call(e[g].context, b);
                            break;
                        case 3:
                            e[g].fn.call(e[g].context, b, f);
                            break;
                        case 4:
                            e[g].fn.call(e[g].context, b, f, m);
                            break;
                        default:
                            if (!u)
                                for (x = 1, u = Array(p - 1); x < p; x++) u[x - 1] = arguments[x];
                            e[g].fn.apply(e[g].context, u)
                    }
                }
                return !0
            };
            m.prototype.on = function(a, b, f) {
                b = new n(b, f || this);
                a = d ? d + a : a;
                this._events[a] ? this._events[a].fn ? this._events[a] = [this._events[a], b] : this._events[a].push(b) : (this._events[a] = b, this._eventsCount++);
                return this
            };
            m.prototype.once =
                function(a, b, f) {
                    b = new n(b, f || this, !0);
                    a = d ? d + a : a;
                    this._events[a] ? this._events[a].fn ? this._events[a] = [this._events[a], b] : this._events[a].push(b) : (this._events[a] = b, this._eventsCount++);
                    return this
                };
            m.prototype.removeListener = function(a, b, f, m) {
                a = d ? d + a : a;
                if (!this._events[a]) return this;
                if (!b) return 0 === --this._eventsCount ? this._events = new h : delete this._events[a], this;
                var e = this._events[a];
                if (e.fn) e.fn !== b || m && !e.once || f && e.context !== f || (0 === --this._eventsCount ? this._events = new h : delete this._events[a]);
                else {
                    for (var p = 0, c = [], u = e.length; p < u; p++)(e[p].fn !== b || m && !e[p].once || f && e[p].context !== f) && c.push(e[p]);
                    c.length ? this._events[a] = 1 === c.length ? c[0] : c : 0 === --this._eventsCount ? this._events = new h : delete this._events[a]
                }
                return this
            };
            m.prototype.removeAllListeners = function(a) {
                a ? (a = d ? d + a : a, this._events[a] && (0 === --this._eventsCount ? this._events = new h : delete this._events[a])) : (this._events = new h, this._eventsCount = 0);
                return this
            };
            m.prototype.off = m.prototype.removeListener;
            m.prototype.addListener = m.prototype.on;
            m.prototype.setMaxListeners = function() {
                return this
            };
            m.prefixed = d;
            m.EventEmitter = m;
            "undefined" !== typeof c && (c.exports = m)
        }, {}],
        4: [function(a, c, g) {
            (function(a) {
                var g = /iPhone/i,
                    m = /iPod/i,
                    f = /iPad/i,
                    d = /(?=.*\bAndroid\b)(?=.*\bMobile\b)/i,
                    e = /Android/i,
                    b = /(?=.*\bAndroid\b)(?=.*\bSD4930UR\b)/i,
                    p = /(?=.*\bAndroid\b)(?=.*\b(?:KFOT|KFTT|KFJWI|KFJWA|KFSOWI|KFTHWI|KFTHWA|KFAPWI|KFAPWA|KFARWI|KFASWI|KFSAWI|KFSAWA)\b)/i,
                    u = /IEMobile/i,
                    q = /(?=.*\bWindows\b)(?=.*\bARM\b)/i,
                    x = /BlackBerry/i,
                    h = /BB10/i,
                    w = /Opera Mini/i,
                    v =
                    /(CriOS|Chrome)(?=.*\bMobile\b)/i,
                    t = /(?=.*\bFirefox\b)(?=.*\bMobile\b)/i,
                    z = /(?:Nexus 7|BNTV250|Kindle Fire|Silk|GT-P1000)/i,
                    r = function(a) {
                        a = a || navigator.userAgent;
                        var c = a.split("[FBAN");
                        "undefined" !== typeof c[1] && (a = c[0]);
                        c = a.split("Twitter");
                        "undefined" !== typeof c[1] && (a = c[0]);
                        this.apple = {
                            phone: g.test(a),
                            ipod: m.test(a),
                            tablet: !g.test(a) && f.test(a),
                            device: g.test(a) || m.test(a) || f.test(a)
                        };
                        this.amazon = {
                            phone: b.test(a),
                            tablet: !b.test(a) && p.test(a),
                            device: b.test(a) || p.test(a)
                        };
                        this.android = {
                            phone: b.test(a) ||
                                d.test(a),
                            tablet: !b.test(a) && !d.test(a) && (p.test(a) || e.test(a)),
                            device: b.test(a) || p.test(a) || d.test(a) || e.test(a)
                        };
                        this.windows = {
                            phone: u.test(a),
                            tablet: q.test(a),
                            device: u.test(a) || q.test(a)
                        };
                        this.other = {
                            blackberry: x.test(a),
                            blackberry10: h.test(a),
                            opera: w.test(a),
                            firefox: t.test(a),
                            chrome: v.test(a),
                            device: x.test(a) || h.test(a) || w.test(a) || t.test(a) || v.test(a)
                        };
                        this.seven_inch = z.test(a);
                        this.any = this.apple.device || this.android.device || this.windows.device || this.other.device || this.seven_inch;
                        this.phone =
                            this.apple.phone || this.android.phone || this.windows.phone;
                        this.tablet = this.apple.tablet || this.android.tablet || this.windows.tablet;
                        if ("undefined" === typeof window) return this
                    },
                    A = function() {
                        var a = new r;
                        a.Class = r;
                        return a
                    };
                "undefined" !== typeof c && c.exports && "undefined" === typeof window ? c.exports = r : "undefined" !== typeof c && c.exports && "undefined" !== typeof window ? c.exports = A() : a.isMobile = A()
            })(this)
        }, {}],
        5: [function(a, c, g) {
            var h = Object.getOwnPropertySymbols,
                n = Object.prototype.hasOwnProperty,
                m = Object.prototype.propertyIsEnumerable;
            c.exports = function() {
                try {
                    if (!Object.assign) return !1;
                    var a = new String("abc");
                    a[5] = "de";
                    if ("5" === Object.getOwnPropertyNames(a)[0]) return !1;
                    for (var d = {}, a = 0; 10 > a; a++) d["_" + String.fromCharCode(a)] = a;
                    if ("0123456789" !== Object.getOwnPropertyNames(d).map(function(a) {
                            return d[a]
                        }).join("")) return !1;
                    var e = {};
                    "abcdefghijklmnopqrst".split("").forEach(function(a) {
                        e[a] = a
                    });
                    return "abcdefghijklmnopqrst" !== Object.keys(Object.assign({}, e)).join("") ? !1 : !0
                } catch (b) {
                    return !1
                }
            }() ? Object.assign : function(a, d) {
                var e, b;
                if (null ===
                    a || void 0 === a) throw new TypeError("Object.assign cannot be called with null or undefined");
                b = Object(a);
                for (var f, c = 1; c < arguments.length; c++) {
                    e = Object(arguments[c]);
                    for (var q in e) n.call(e, q) && (b[q] = e[q]);
                    if (h) {
                        f = h(e);
                        for (var g = 0; g < f.length; g++) m.call(e, f[g]) && (b[f[g]] = e[f[g]])
                    }
                }
                return b
            }
        }, {}],
        6: [function(a, c, g) {
            var h = new ArrayBuffer(0),
                n = function(a, f, d, e) {
                    this.gl = a;
                    this.buffer = a.createBuffer();
                    this.type = f || a.ARRAY_BUFFER;
                    this.drawType = e || a.STATIC_DRAW;
                    this.data = h;
                    d && this.upload(d)
                };
            n.prototype.upload =
                function(a, f, d) {
                    d || this.bind();
                    d = this.gl;
                    a = a || this.data;
                    this.data.byteLength >= a.byteLength ? d.bufferSubData(this.type, f || 0, a) : d.bufferData(this.type, a, this.drawType);
                    this.data = a
                };
            n.prototype.bind = function() {
                this.gl.bindBuffer(this.type, this.buffer)
            };
            n.createVertexBuffer = function(a, f, d) {
                return new n(a, a.ARRAY_BUFFER, f, d)
            };
            n.createIndexBuffer = function(a, f, d) {
                return new n(a, a.ELEMENT_ARRAY_BUFFER, f, d)
            };
            n.create = function(a, f, d, e) {
                return new n(a, f, d, e)
            };
            n.prototype.destroy = function() {
                this.gl.deleteBuffer(this.buffer)
            };
            c.exports = n
        }, {}],
        7: [function(a, c, g) {
            var h = a("./GLTexture"),
                n = function(a, f, d) {
                    this.gl = a;
                    this.framebuffer = a.createFramebuffer();
                    this.texture = this.stencil = null;
                    this.width = f || 100;
                    this.height = d || 100
                };
            n.prototype.enableTexture = function(a) {
                var f = this.gl;
                this.texture = a || new h(f);
                this.texture.bind();
                this.bind();
                f.framebufferTexture2D(f.FRAMEBUFFER, f.COLOR_ATTACHMENT0, f.TEXTURE_2D, this.texture.texture, 0)
            };
            n.prototype.enableStencil = function() {
                if (!this.stencil) {
                    var a = this.gl;
                    this.stencil = a.createRenderbuffer();
                    a.bindRenderbuffer(a.RENDERBUFFER, this.stencil);
                    a.framebufferRenderbuffer(a.FRAMEBUFFER, a.DEPTH_STENCIL_ATTACHMENT, a.RENDERBUFFER, this.stencil);
                    a.renderbufferStorage(a.RENDERBUFFER, a.DEPTH_STENCIL, this.width, this.height)
                }
            };
            n.prototype.clear = function(a, f, d, e) {
                this.bind();
                var b = this.gl;
                b.clearColor(a, f, d, e);
                b.clear(b.COLOR_BUFFER_BIT)
            };
            n.prototype.bind = function() {
                var a = this.gl;
                a.bindFramebuffer(a.FRAMEBUFFER, this.framebuffer)
            };
            n.prototype.unbind = function() {
                var a = this.gl;
                a.bindFramebuffer(a.FRAMEBUFFER,
                    null)
            };
            n.prototype.resize = function(a, f) {
                var d = this.gl;
                this.width = a;
                this.height = f;
                this.texture && this.texture.uploadData(null, a, f);
                this.stencil && (d.bindRenderbuffer(d.RENDERBUFFER, this.stencil), d.renderbufferStorage(d.RENDERBUFFER, d.DEPTH_STENCIL, a, f))
            };
            n.prototype.destroy = function() {
                var a = this.gl;
                this.texture && this.texture.destroy();
                a.deleteFramebuffer(this.framebuffer);
                this.texture = this.stencil = this.gl = null
            };
            n.createRGBA = function(a, f, d, e) {
                e = h.fromData(a, null, f, d);
                e.enableNearestScaling();
                e.enableWrapClamp();
                a = new n(a, f, d);
                a.enableTexture(e);
                a.unbind();
                return a
            };
            n.createFloat32 = function(a, f, d, e) {
                e = new h.fromData(a, e, f, d);
                e.enableNearestScaling();
                e.enableWrapClamp();
                a = new n(a, f, d);
                a.enableTexture(e);
                a.unbind();
                return a
            };
            c.exports = n
        }, {
            "./GLTexture": 9
        }],
        8: [function(a, c, g) {
            var h = a("./shader/compileProgram"),
                n = a("./shader/extractAttributes"),
                m = a("./shader/extractUniforms"),
                f = a("./shader/generateUniformAccessObject");
            a = function(a, e, b) {
                this.gl = a;
                this.program = h(a, e, b);
                this.attributes = n(a, this.program);
                e = m(a,
                    this.program);
                this.uniforms = f(a, e)
            };
            a.prototype.bind = function() {
                this.gl.useProgram(this.program)
            };
            a.prototype.destroy = function() {};
            c.exports = a
        }, {
            "./shader/compileProgram": 14,
            "./shader/extractAttributes": 16,
            "./shader/extractUniforms": 17,
            "./shader/generateUniformAccessObject": 18
        }],
        9: [function(a, c, g) {
            var h = function(a, f, d, e, b) {
                this.gl = a;
                this.texture = a.createTexture();
                this.premultiplyAlpha = this.mipmap = !1;
                this.width = f || -1;
                this.height = d || -1;
                this.format = e || a.RGBA;
                this.type = b || a.UNSIGNED_BYTE
            };
            h.prototype.upload =
                function(a) {
                    this.bind();
                    var f = this.gl;
                    f.pixelStorei(f.UNPACK_PREMULTIPLY_ALPHA_WEBGL, this.premultiplyAlpha);
                    var d = a.videoWidth || a.width,
                        e = a.videoHeight || a.height;
                    e !== this.height || d !== this.width ? f.texImage2D(f.TEXTURE_2D, 0, this.format, this.format, this.type, a) : f.texSubImage2D(f.TEXTURE_2D, 0, 0, 0, this.format, this.type, a);
                    this.width = d;
                    this.height = e
                };
            var n = !1;
            h.prototype.uploadData = function(a, f, d) {
                this.bind();
                var e = this.gl;
                if (a instanceof Float32Array) {
                    if (!n)
                        if (e.getExtension("OES_texture_float")) n = !0;
                        else throw Error("floating point textures not available");
                    this.type = e.FLOAT
                } else this.type = e.UNSIGNED_BYTE;
                e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL, this.premultiplyAlpha);
                f !== this.width || d !== this.height ? e.texImage2D(e.TEXTURE_2D, 0, this.format, f, d, 0, this.format, this.type, a || null) : e.texSubImage2D(e.TEXTURE_2D, 0, 0, 0, f, d, this.format, this.type, a || null);
                this.width = f;
                this.height = d
            };
            h.prototype.bind = function(a) {
                var f = this.gl;
                void 0 !== a && f.activeTexture(f.TEXTURE0 + a);
                f.bindTexture(f.TEXTURE_2D, this.texture)
            };
            h.prototype.unbind = function() {
                var a = this.gl;
                a.bindTexture(a.TEXTURE_2D, null)
            };
            h.prototype.minFilter = function(a) {
                var f = this.gl;
                this.bind();
                this.mipmap ? f.texParameteri(f.TEXTURE_2D, f.TEXTURE_MIN_FILTER, a ? f.LINEAR_MIPMAP_LINEAR : f.NEAREST_MIPMAP_NEAREST) : f.texParameteri(f.TEXTURE_2D, f.TEXTURE_MIN_FILTER, a ? f.LINEAR : f.NEAREST)
            };
            h.prototype.magFilter = function(a) {
                var f = this.gl;
                this.bind();
                f.texParameteri(f.TEXTURE_2D, f.TEXTURE_MAG_FILTER, a ? f.LINEAR : f.NEAREST)
            };
            h.prototype.enableMipmap = function() {
                var a = this.gl;
                this.bind();
                this.mipmap = !0;
                a.generateMipmap(a.TEXTURE_2D)
            };
            h.prototype.enableLinearScaling = function() {
                this.minFilter(!0);
                this.magFilter(!0)
            };
            h.prototype.enableNearestScaling = function() {
                this.minFilter(!1);
                this.magFilter(!1)
            };
            h.prototype.enableWrapClamp = function() {
                var a = this.gl;
                this.bind();
                a.texParameteri(a.TEXTURE_2D, a.TEXTURE_WRAP_S, a.CLAMP_TO_EDGE);
                a.texParameteri(a.TEXTURE_2D, a.TEXTURE_WRAP_T, a.CLAMP_TO_EDGE)
            };
            h.prototype.enableWrapRepeat = function() {
                var a = this.gl;
                this.bind();
                a.texParameteri(a.TEXTURE_2D,
                    a.TEXTURE_WRAP_S, a.REPEAT);
                a.texParameteri(a.TEXTURE_2D, a.TEXTURE_WRAP_T, a.REPEAT)
            };
            h.prototype.enableWrapMirrorRepeat = function() {
                var a = this.gl;
                this.bind();
                a.texParameteri(a.TEXTURE_2D, a.TEXTURE_WRAP_S, a.MIRRORED_REPEAT);
                a.texParameteri(a.TEXTURE_2D, a.TEXTURE_WRAP_T, a.MIRRORED_REPEAT)
            };
            h.prototype.destroy = function() {
                this.gl.deleteTexture(this.texture)
            };
            h.fromSource = function(a, f, d) {
                a = new h(a);
                a.premultiplyAlpha = d || !1;
                a.upload(f);
                return a
            };
            h.fromData = function(a, f, d, e) {
                a = new h(a);
                a.uploadData(f, d, e);
                return a
            };
            c.exports = h
        }, {}],
        10: [function(a, c, g) {
            function h(a, f) {
                this.nativeVaoExtension = null;
                h.FORCE_NATIVE || (this.nativeVaoExtension = a.getExtension("OES_vertex_array_object") || a.getExtension("MOZ_OES_vertex_array_object") || a.getExtension("WEBKIT_OES_vertex_array_object"));
                this.nativeState = f;
                if (this.nativeVaoExtension) {
                    this.nativeVao = this.nativeVaoExtension.createVertexArrayOES();
                    var d = a.getParameter(a.MAX_VERTEX_ATTRIBS);
                    this.nativeState = {
                        tempAttribState: Array(d),
                        attribState: Array(d)
                    }
                }
                this.gl = a;
                this.attributes = [];
                this.indexBuffer = null;
                this.dirty = !1
            }
            var n = a("./setVertexAttribArrays");
            h.prototype.constructor = h;
            c.exports = h;
            h.FORCE_NATIVE = !1;
            h.prototype.bind = function() {
                this.nativeVao ? (this.nativeVaoExtension.bindVertexArrayOES(this.nativeVao), this.dirty && (this.dirty = !1, this.activate())) : this.activate();
                return this
            };
            h.prototype.unbind = function() {
                this.nativeVao && this.nativeVaoExtension.bindVertexArrayOES(null);
                return this
            };
            h.prototype.activate = function() {
                for (var a = this.gl, f = null, d = 0; d < this.attributes.length; d++) {
                    var e =
                        this.attributes[d];
                    f !== e.buffer && (e.buffer.bind(), f = e.buffer);
                    a.vertexAttribPointer(e.attribute.location, e.attribute.size, e.type || a.FLOAT, e.normalized || !1, e.stride || 0, e.start || 0)
                }
                n(a, this.attributes, this.nativeState);
                this.indexBuffer.bind();
                return this
            };
            h.prototype.addAttribute = function(a, f, d, e, b, p) {
                this.attributes.push({
                    buffer: a,
                    attribute: f,
                    location: f.location,
                    type: d || this.gl.FLOAT,
                    normalized: e || !1,
                    stride: b || 0,
                    start: p || 0
                });
                this.dirty = !0;
                return this
            };
            h.prototype.addIndex = function(a) {
                this.indexBuffer =
                    a;
                this.dirty = !0;
                return this
            };
            h.prototype.clear = function() {
                this.nativeVao && this.nativeVaoExtension.bindVertexArrayOES(this.nativeVao);
                this.attributes.length = 0;
                this.indexBuffer = null;
                return this
            };
            h.prototype.draw = function(a, f, d) {
                var e = this.gl;
                e.drawElements(a, f, e.UNSIGNED_SHORT, d || 0);
                return this
            };
            h.prototype.destroy = function() {
                this.nativeState = this.attributes = this.indexBuffer = this.gl = null;
                this.nativeVao && this.nativeVaoExtension.deleteVertexArrayOES(this.nativeVao);
                this.nativeVao = this.nativeVaoExtension =
                    null
            }
        }, {
            "./setVertexAttribArrays": 13
        }],
        11: [function(a, c, g) {
            c.exports = function(a, c) {
                var m = a.getContext("webgl", c) || a.getContext("experimental-webgl", c);
                if (!m) throw Error("This browser does not support webGL. Try using the canvas renderer");
                return m
            }
        }, {}],
        12: [function(a, c, g) {
            a = {
                createContext: a("./createContext"),
                setVertexAttribArrays: a("./setVertexAttribArrays"),
                GLBuffer: a("./GLBuffer"),
                GLFramebuffer: a("./GLFramebuffer"),
                GLShader: a("./GLShader"),
                GLTexture: a("./GLTexture"),
                VertexArrayObject: a("./VertexArrayObject"),
                shader: a("./shader")
            };
            "undefined" !== typeof c && c.exports && (c.exports = a);
            "undefined" !== typeof window && (window.PIXI = window.PIXI || {}, window.PIXI.glCore = a)
        }, {
            "./GLBuffer": 6,
            "./GLFramebuffer": 7,
            "./GLShader": 8,
            "./GLTexture": 9,
            "./VertexArrayObject": 10,
            "./createContext": 11,
            "./setVertexAttribArrays": 13,
            "./shader": 19
        }],
        13: [function(a, c, g) {
            c.exports = function(a, c, m) {
                var f;
                if (m) {
                    var d = m.tempAttribState,
                        e = m.attribState;
                    for (f = 0; f < d.length; f++) d[f] = !1;
                    for (f = 0; f < c.length; f++) d[c[f].attribute.location] = !0;
                    for (f = 0; f <
                        e.length; f++) e[f] !== d[f] && (e[f] = d[f], m.attribState[f] ? a.enableVertexAttribArray(f) : a.disableVertexAttribArray(f))
                } else
                    for (f = 0; f < c.length; f++) a.enableVertexAttribArray(c[f].attribute.location)
            }
        }, {}],
        14: [function(a, c, g) {
            var h = function(a, m, f) {
                m = a.createShader(m);
                a.shaderSource(m, f);
                a.compileShader(m);
                return a.getShaderParameter(m, a.COMPILE_STATUS) ? m : (console.log(a.getShaderInfoLog(m)), null)
            };
            c.exports = function(a, m, f) {
                m = h(a, a.VERTEX_SHADER, m);
                f = h(a, a.FRAGMENT_SHADER, f);
                var d = a.createProgram();
                a.attachShader(d,
                    m);
                a.attachShader(d, f);
                a.linkProgram(d);
                a.getProgramParameter(d, a.LINK_STATUS) || (console.error("Pixi.js Error: Could not initialize shader."), console.error("gl.VALIDATE_STATUS", a.getProgramParameter(d, a.VALIDATE_STATUS)), console.error("gl.getError()", a.getError()), "" !== a.getProgramInfoLog(d) && console.warn("Pixi.js Warning: gl.getProgramInfoLog()", a.getProgramInfoLog(d)), a.deleteProgram(d), d = null);
                a.deleteShader(m);
                a.deleteShader(f);
                return d
            }
        }, {}],
        15: [function(a, c, g) {
            var h = function(a) {
                a = Array(a);
                for (var m =
                        0; m < a.length; m++) a[m] = !1;
                return a
            };
            c.exports = function(a, m) {
                switch (a) {
                    case "float":
                        return 0;
                    case "vec2":
                        return new Float32Array(2 * m);
                    case "vec3":
                        return new Float32Array(3 * m);
                    case "vec4":
                        return new Float32Array(4 * m);
                    case "int":
                    case "sampler2D":
                        return 0;
                    case "ivec2":
                        return new Int32Array(2 * m);
                    case "ivec3":
                        return new Int32Array(3 * m);
                    case "ivec4":
                        return new Int32Array(4 * m);
                    case "bool":
                        return !1;
                    case "bvec2":
                        return h(2 * m);
                    case "bvec3":
                        return h(3 * m);
                    case "bvec4":
                        return h(4 * m);
                    case "mat2":
                        return new Float32Array([1,
                            0, 0, 1
                        ]);
                    case "mat3":
                        return new Float32Array([1, 0, 0, 0, 1, 0, 0, 0, 1]);
                    case "mat4":
                        return new Float32Array([1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1])
                }
            }
        }, {}],
        16: [function(a, c, g) {
            var h = a("./mapType"),
                n = a("./mapSize"),
                m = function(a, d, e, b) {
                    gl.vertexAttribPointer(this.location, this.size, a || gl.FLOAT, d || !1, e || 0, b || 0)
                };
            c.exports = function(a, d) {
                for (var e = {}, b = a.getProgramParameter(d, a.ACTIVE_ATTRIBUTES), f = 0; f < b; f++) {
                    var c = a.getActiveAttrib(d, f),
                        q = h(a, c.type);
                    e[c.name] = {
                        type: q,
                        size: n(q),
                        location: a.getAttribLocation(d, c.name),
                        pointer: m
                    }
                }
                return e
            }
        }, {
            "./mapSize": 20,
            "./mapType": 21
        }],
        17: [function(a, c, g) {
            var h = a("./mapType"),
                n = a("./defaultValue");
            c.exports = function(a, f) {
                for (var d = {}, e = a.getProgramParameter(f, a.ACTIVE_UNIFORMS), b = 0; b < e; b++) {
                    var p = a.getActiveUniform(f, b),
                        m = p.name.replace(/\[.*?\]/, ""),
                        q = h(a, p.type);
                    d[m] = {
                        type: q,
                        size: p.size,
                        location: a.getUniformLocation(f, m),
                        value: n(q, p.size)
                    }
                }
                return d
            }
        }, {
            "./defaultValue": 15,
            "./mapType": 21
        }],
        18: [function(a, c, g) {
            var h = function(a) {
                    a = m.replace("%%", a);
                    return new Function(a)
                },
                n = function(a,
                    p) {
                    var b = f.replace(/%%/g, a),
                        m;
                    (m = 1 === p.size ? d[p.type] : e[p.type]) && (b += "\nthis.gl." + m + ";");
                    return new Function("value", b)
                },
                m = "return this.data.%%.value;",
                f = "this.data.%%.value = value;\nvar location = this.data.%%.location;",
                d = {
                    "float": "uniform1f(location, value)",
                    vec2: "uniform2f(location, value[0], value[1])",
                    vec3: "uniform3f(location, value[0], value[1], value[2])",
                    vec4: "uniform4f(location, value[0], value[1], value[2], value[3])",
                    "int": "uniform1i(location, value)",
                    ivec2: "uniform2i(location, value[0], value[1])",
                    ivec3: "uniform3i(location, value[0], value[1], value[2])",
                    ivec4: "uniform4i(location, value[0], value[1], value[2], value[3])",
                    bool: "uniform1i(location, value)",
                    bvec2: "uniform2i(location, value[0], value[1])",
                    bvec3: "uniform3i(location, value[0], value[1], value[2])",
                    bvec4: "uniform4i(location, value[0], value[1], value[2], value[3])",
                    mat2: "uniformMatrix2fv(location, false, value)",
                    mat3: "uniformMatrix3fv(location, false, value)",
                    mat4: "uniformMatrix4fv(location, false, value)",
                    sampler2D: "uniform1i(location, value)"
                },
                e = {
                    "float": "uniform1fv(location, value)",
                    vec2: "uniform2fv(location, value)",
                    vec3: "uniform3fv(location, value)",
                    vec4: "uniform4fv(location, value)",
                    "int": "uniform1iv(location, value)",
                    ivec2: "uniform2iv(location, value)",
                    ivec3: "uniform3iv(location, value)",
                    ivec4: "uniform4iv(location, value)",
                    bool: "uniform1iv(location, value)",
                    bvec2: "uniform2iv(location, value)",
                    bvec3: "uniform3iv(location, value)",
                    bvec4: "uniform4iv(location, value)",
                    sampler2D: "uniform1iv(location, value)"
                };
            c.exports = function(a, e) {
                var b = {
                    data: {}
                };
                b.gl = a;
                for (var d = Object.keys(e), f = 0; f < d.length; f++) {
                    for (var p = d[f], m = p.split("."), c = m[m.length - 1], g = b, z = 0; z < m.length - 1; z++) var r = g[m[z]] || {
                            data: {}
                        },
                        g = g[m[z]] = r;
                    m = g;
                    p = e[p];
                    m.data[c] = p;
                    m.gl = a;
                    Object.defineProperty(m, c, {
                        get: h(c),
                        set: n(c, p)
                    })
                }
                return b
            }
        }, {}],
        19: [function(a, c, g) {
            c.exports = {
                compileProgram: a("./compileProgram"),
                defaultValue: a("./defaultValue"),
                extractAttributes: a("./extractAttributes"),
                extractUniforms: a("./extractUniforms"),
                generateUniformAccessObject: a("./generateUniformAccessObject"),
                mapSize: a("./mapSize"),
                mapType: a("./mapType")
            }
        }, {
            "./compileProgram": 14,
            "./defaultValue": 15,
            "./extractAttributes": 16,
            "./extractUniforms": 17,
            "./generateUniformAccessObject": 18,
            "./mapSize": 20,
            "./mapType": 21
        }],
        20: [function(a, c, g) {
            var h = {
                "float": 1,
                vec2: 2,
                vec3: 3,
                vec4: 4,
                "int": 1,
                ivec2: 2,
                ivec3: 3,
                ivec4: 4,
                bool: 1,
                bvec2: 2,
                bvec3: 3,
                bvec4: 4,
                mat2: 4,
                mat3: 9,
                mat4: 16,
                sampler2D: 1
            };
            c.exports = function(a) {
                return h[a]
            }
        }, {}],
        21: [function(a, c, g) {
            var h = null,
                n = {
                    FLOAT: "float",
                    FLOAT_VEC2: "vec2",
                    FLOAT_VEC3: "vec3",
                    FLOAT_VEC4: "vec4",
                    INT: "int",
                    INT_VEC2: "ivec2",
                    INT_VEC3: "ivec3",
                    INT_VEC4: "ivec4",
                    BOOL: "bool",
                    BOOL_VEC2: "bvec2",
                    BOOL_VEC3: "bvec3",
                    BOOL_VEC4: "bvec4",
                    FLOAT_MAT2: "mat2",
                    FLOAT_MAT3: "mat3",
                    FLOAT_MAT4: "mat4",
                    SAMPLER_2D: "sampler2D"
                };
            c.exports = function(a, f) {
                if (!h) {
                    var d = Object.keys(n);
                    h = {};
                    for (var e = 0; e < d.length; ++e) {
                        var b = d[e];
                        h[a[b]] = n[b]
                    }
                }
                return h[f]
            }
        }, {}],
        22: [function(a, c, g) {
            (function(a) {
                function c(a, b) {
                    for (var e = 0, d = a.length - 1; 0 <= d; d--) {
                        var f = a[d];
                        "." === f ? a.splice(d, 1) : ".." === f ? (a.splice(d, 1), e++) : e && (a.splice(d, 1), e--)
                    }
                    if (b)
                        for (; e--; e) a.unshift("..");
                    return a
                }

                function m(a, b) {
                    if (a.filter) return a.filter(b);
                    for (var e = [], d = 0; d < a.length; d++) b(a[d], d, a) && e.push(a[d]);
                    return e
                }
                var f = /^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;
                g.resolve = function() {
                    for (var e = "", b = !1, d = arguments.length - 1; - 1 <= d && !b; d--) {
                        var f = 0 <= d ? arguments[d] : a.cwd();
                        if ("string" !== typeof f) throw new TypeError("Arguments to path.resolve must be strings");
                        f && (e = f + "/" + e, b = "/" === f.charAt(0))
                    }
                    e = c(m(e.split("/"), function(a) {
                        return !!a
                    }), !b).join("/");
                    return (b ? "/" : "") + e || "."
                };
                g.normalize = function(a) {
                    var b = g.isAbsolute(a),
                        e = "/" === d(a, -1);
                    (a = c(m(a.split("/"), function(a) {
                        return !!a
                    }), !b).join("/")) || b || (a = ".");
                    a && e && (a += "/");
                    return (b ? "/" : "") + a
                };
                g.isAbsolute = function(a) {
                    return "/" === a.charAt(0)
                };
                g.join = function() {
                    var a = Array.prototype.slice.call(arguments, 0);
                    return g.normalize(m(a, function(a, e) {
                        if ("string" !== typeof a) throw new TypeError("Arguments to path.join must be strings");
                        return a
                    }).join("/"))
                };
                g.relative = function(a, b) {
                    function e(a) {
                        for (var b = 0; b < a.length && "" === a[b]; b++);
                        for (var e = a.length - 1; 0 <= e && "" === a[e]; e--);
                        return b > e ? [] : a.slice(b, e - b + 1)
                    }
                    a = g.resolve(a).substr(1);
                    b = g.resolve(b).substr(1);
                    for (var d = e(a.split("/")), f = e(b.split("/")), m = Math.min(d.length, f.length), c = m, n = 0; n < m; n++)
                        if (d[n] !== f[n]) {
                            c = n;
                            break
                        } m = [];
                    for (n = c; n < d.length; n++) m.push("..");
                    m = m.concat(f.slice(c));
                    return m.join("/")
                };
                g.sep = "/";
                g.delimiter = ":";
                g.dirname = function(a) {
                    var b = f.exec(a).slice(1);
                    a = b[0];
                    b = b[1];
                    if (!a && !b) return ".";
                    b && (b = b.substr(0, b.length - 1));
                    return a + b
                };
                g.basename = function(a, b) {
                    var e =
                        f.exec(a).slice(1)[2];
                    b && e.substr(-1 * b.length) === b && (e = e.substr(0, e.length - b.length));
                    return e
                };
                g.extname = function(a) {
                    return f.exec(a).slice(1)[3]
                };
                var d = "b" === "ab".substr(-1) ? function(a, b, d) {
                    return a.substr(b, d)
                } : function(a, b, d) {
                    0 > b && (b = a.length + b);
                    return a.substr(b, d)
                }
            }).call(this, a("_process"))
        }, {
            _process: 23
        }],
        23: [function(a, c, g) {
            function h() {
                throw Error("setTimeout has not been defined");
            }

            function n() {
                throw Error("clearTimeout has not been defined");
            }

            function m(a) {
                if (u === setTimeout) return setTimeout(a,
                    0);
                if ((u === h || !u) && setTimeout) return u = setTimeout, setTimeout(a, 0);
                try {
                    return u(a, 0)
                } catch (z) {
                    try {
                        return u.call(null, a, 0)
                    } catch (r) {
                        return u.call(this, a, 0)
                    }
                }
            }

            function f(a) {
                if (q === clearTimeout) return clearTimeout(a);
                if ((q === n || !q) && clearTimeout) return q = clearTimeout, clearTimeout(a);
                try {
                    return q(a)
                } catch (z) {
                    try {
                        return q.call(null, a)
                    } catch (r) {
                        return q.call(this, a)
                    }
                }
            }

            function d() {
                y && w && (y = !1, w.length ? x = w.concat(x) : v = -1, x.length && e())
            }

            function e() {
                if (!y) {
                    var a = m(d);
                    y = !0;
                    for (var b = x.length; b;) {
                        w = x;
                        for (x = []; ++v < b;) w && w[v].run();
                        v = -1;
                        b = x.length
                    }
                    w = null;
                    y = !1;
                    f(a)
                }
            }

            function b(a, b) {
                this.fun = a;
                this.array = b
            }

            function p() {}
            a = c.exports = {};
            var u, q;
            try {
                u = "function" === typeof setTimeout ? setTimeout : h
            } catch (t) {
                u = h
            }
            try {
                q = "function" === typeof clearTimeout ? clearTimeout : n
            } catch (t) {
                q = n
            }
            var x = [],
                y = !1,
                w, v = -1;
            a.nextTick = function(a) {
                var d = Array(arguments.length - 1);
                if (1 < arguments.length)
                    for (var f = 1; f < arguments.length; f++) d[f - 1] = arguments[f];
                x.push(new b(a, d));
                1 !== x.length || y || m(e)
            };
            b.prototype.run = function() {
                this.fun.apply(null,
                    this.array)
            };
            a.title = "browser";
            a.browser = !0;
            a.env = {};
            a.argv = [];
            a.version = "";
            a.versions = {};
            a.on = p;
            a.addListener = p;
            a.once = p;
            a.off = p;
            a.removeListener = p;
            a.removeAllListeners = p;
            a.emit = p;
            a.binding = function(a) {
                throw Error("process.binding is not supported");
            };
            a.cwd = function() {
                return "/"
            };
            a.chdir = function(a) {
                throw Error("process.chdir is not supported");
            };
            a.umask = function() {
                return 0
            }
        }, {}],
        24: [function(a, c, g) {
            (function(a) {
                (function(n) {
                    function m(a) {
                        throw new RangeError(A[a]);
                    }

                    function f(a, b) {
                        for (var e = a.length,
                                d = []; e--;) d[e] = b(a[e]);
                        return d
                    }

                    function d(a, b) {
                        var e = a.split("@"),
                            d = "";
                        1 < e.length && (d = e[0] + "@", a = e[1]);
                        a = a.replace(r, ".");
                        e = a.split(".");
                        e = f(e, b).join(".");
                        return d + e
                    }

                    function e(a) {
                        for (var b = [], e = 0, d = a.length, f, m; e < d;) f = a.charCodeAt(e++), 55296 <= f && 56319 >= f && e < d ? (m = a.charCodeAt(e++), 56320 == (m & 64512) ? b.push(((f & 1023) << 10) + (m & 1023) + 65536) : (b.push(f), e--)) : b.push(f);
                        return b
                    }

                    function b(a) {
                        return f(a, function(a) {
                            var b = "";
                            65535 < a && (a -= 65536, b += D(a >>> 10 & 1023 | 55296), a = 56320 | a & 1023);
                            return b += D(a)
                        }).join("")
                    }

                    function p(a, b) {
                        return a + 22 + 75 * (26 > a) - ((0 != b) << 5)
                    }

                    function u(a, b, e) {
                        var d = 0;
                        a = e ? B(a / 700) : a >> 1;
                        for (a += B(a / b); 455 < a; d += 36) a = B(a / 35);
                        return B(d + 36 * a / (a + 38))
                    }

                    function q(a) {
                        var e = [],
                            d = a.length,
                            f, p = 0,
                            q = 128,
                            c = 72,
                            g, n, x, h, y;
                        g = a.lastIndexOf("-");
                        0 > g && (g = 0);
                        for (n = 0; n < g; ++n) 128 <= a.charCodeAt(n) && m("not-basic"), e.push(a.charCodeAt(n));
                        for (g = 0 < g ? g + 1 : 0; g < d;) {
                            n = p;
                            f = 1;
                            for (x = 36;; x += 36) {
                                g >= d && m("invalid-input");
                                h = a.charCodeAt(g++);
                                h = 10 > h - 48 ? h - 22 : 26 > h - 65 ? h - 65 : 26 > h - 97 ? h - 97 : 36;
                                (36 <= h || h > B((2147483647 - p) / f)) && m("overflow");
                                p += h * f;
                                y = x <= c ? 1 : x >= c + 26 ? 26 : x - c;
                                if (h < y) break;
                                h = 36 - y;
                                f > B(2147483647 / h) && m("overflow");
                                f *= h
                            }
                            f = e.length + 1;
                            c = u(p - n, f, 0 == n);
                            B(p / f) > 2147483647 - q && m("overflow");
                            q += B(p / f);
                            p %= f;
                            e.splice(p++, 0, q)
                        }
                        return b(e)
                    }

                    function x(a) {
                        var b, d, f, q, c, g, n, x, h, y = [],
                            w, v, r;
                        a = e(a);
                        w = a.length;
                        b = 128;
                        d = 0;
                        c = 72;
                        for (g = 0; g < w; ++g) h = a[g], 128 > h && y.push(D(h));
                        for ((f = q = y.length) && y.push("-"); f < w;) {
                            n = 2147483647;
                            for (g = 0; g < w; ++g) h = a[g], h >= b && h < n && (n = h);
                            v = f + 1;
                            n - b > B((2147483647 - d) / v) && m("overflow");
                            d += (n - b) * v;
                            b = n;
                            for (g = 0; g < w; ++g)
                                if (h = a[g], h < b &&
                                    2147483647 < ++d && m("overflow"), h == b) {
                                    x = d;
                                    for (n = 36;; n += 36) {
                                        h = n <= c ? 1 : n >= c + 26 ? 26 : n - c;
                                        if (x < h) break;
                                        r = x - h;
                                        x = 36 - h;
                                        y.push(D(p(h + r % x, 0)));
                                        x = B(r / x)
                                    }
                                    y.push(D(p(x, 0)));
                                    c = u(d, v, f == q);
                                    d = 0;
                                    ++f
                                }++ d;
                            ++b
                        }
                        return y.join("")
                    }
                    var h = "object" == typeof g && g && !g.nodeType && g,
                        w = "object" == typeof c && c && !c.nodeType && c,
                        v = "object" == typeof a && a;
                    if (v.global === v || v.window === v || v.self === v) n = v;
                    var t = /^xn--/,
                        z = /[^\x20-\x7E]/,
                        r = /[\x2E\u3002\uFF0E\uFF61]/g,
                        A = {
                            overflow: "Overflow: input needs wider integers to process",
                            "not-basic": "Illegal input >= 0x80 (not a basic code point)",
                            "invalid-input": "Invalid input"
                        },
                        B = Math.floor,
                        D = String.fromCharCode,
                        C, v = {
                            version: "1.4.1",
                            ucs2: {
                                decode: e,
                                encode: b
                            },
                            decode: q,
                            encode: x,
                            toASCII: function(a) {
                                return d(a, function(a) {
                                    return z.test(a) ? "xn--" + x(a) : a
                                })
                            },
                            toUnicode: function(a) {
                                return d(a, function(a) {
                                    return t.test(a) ? q(a.slice(4).toLowerCase()) : a
                                })
                            }
                        };
                    if (h && w)
                        if (c.exports == h) w.exports = v;
                        else
                            for (C in v) v.hasOwnProperty(C) && (h[C] = v[C]);
                    else n.punycode = v
                })(this)
            }).call(this, "undefined" !== typeof global ? global : "undefined" !== typeof self ? self : "undefined" !==
                typeof window ? window : {})
        }, {}],
        25: [function(a, c, g) {
            c.exports = function(a, m, f, d) {
                f = f || "=";
                var e = {};
                if ("string" !== typeof a || 0 === a.length) return e;
                var b = /\+/g;
                a = a.split(m || "&");
                m = 1E3;
                d && "number" === typeof d.maxKeys && (m = d.maxKeys);
                d = a.length;
                0 < m && d > m && (d = m);
                for (m = 0; m < d; ++m) {
                    var p = a[m].replace(b, "%20"),
                        c = p.indexOf(f),
                        q;
                    0 <= c ? (q = p.substr(0, c), p = p.substr(c + 1)) : (q = p, p = "");
                    q = decodeURIComponent(q);
                    p = decodeURIComponent(p);
                    Object.prototype.hasOwnProperty.call(e, q) ? h(e[q]) ? e[q].push(p) : e[q] = [e[q], p] : e[q] = p
                }
                return e
            };
            var h = Array.isArray || function(a) {
                return "[object Array]" === Object.prototype.toString.call(a)
            }
        }, {}],
        26: [function(a, c, g) {
            function h(a, e) {
                if (a.map) return a.map(e);
                for (var b = [], d = 0; d < a.length; d++) b.push(e(a[d], d));
                return b
            }
            var n = function(a) {
                switch (typeof a) {
                    case "string":
                        return a;
                    case "boolean":
                        return a ? "true" : "false";
                    case "number":
                        return isFinite(a) ? a : "";
                    default:
                        return ""
                }
            };
            c.exports = function(a, e, b, p) {
                e = e || "&";
                b = b || "=";
                null === a && (a = void 0);
                return "object" === typeof a ? h(f(a), function(d) {
                    var f = encodeURIComponent(n(d)) +
                        b;
                    return m(a[d]) ? h(a[d], function(a) {
                        return f + encodeURIComponent(n(a))
                    }).join(e) : f + encodeURIComponent(n(a[d]))
                }).join(e) : p ? encodeURIComponent(n(p)) + b + encodeURIComponent(n(a)) : ""
            };
            var m = Array.isArray || function(a) {
                    return "[object Array]" === Object.prototype.toString.call(a)
                },
                f = Object.keys || function(a) {
                    var e = [],
                        b;
                    for (b in a) Object.prototype.hasOwnProperty.call(a, b) && e.push(b);
                    return e
                }
        }, {}],
        27: [function(a, c, g) {
            g.decode = g.parse = a("./decode");
            g.encode = g.stringify = a("./encode")
        }, {
            "./decode": 25,
            "./encode": 26
        }],
        28: [function(a, c, g) {
            function h() {
                this.href = this.path = this.pathname = this.query = this.search = this.hash = this.hostname = this.port = this.host = this.auth = this.slashes = this.protocol = null
            }

            function n(a, b, e) {
                if (a && f.isObject(a) && a instanceof h) return a;
                var d = new h;
                d.parse(a, b, e);
                return d
            }
            var m = a("punycode"),
                f = a("./util");
            g.parse = n;
            g.resolve = function(a, b) {
                return n(a, !1, !0).resolve(b)
            };
            g.resolveObject = function(a, b) {
                return a ? n(a, !1, !0).resolveObject(b) : b
            };
            g.format = function(a) {
                f.isString(a) && (a = n(a));
                return a instanceof
                h ? a.format() : h.prototype.format.call(a)
            };
            g.Url = h;
            var d = /^([a-z0-9.+-]+:)/i,
                e = /:[0-9]*$/,
                b = /^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/;
            c = "{}|\\^`".split("").concat('<>"` \r\n\t'.split(""));
            var p = ["'"].concat(c),
                u = ["%", "/", "?", ";", "#"].concat(p),
                q = ["/", "?", "#"],
                x = /^[+a-z0-9A-Z_-]{0,63}$/,
                y = /^([+a-z0-9A-Z_-]{0,63})(.*)$/,
                w = {
                    javascript: !0,
                    "javascript:": !0
                },
                v = {
                    javascript: !0,
                    "javascript:": !0
                },
                t = {
                    http: !0,
                    https: !0,
                    ftp: !0,
                    gopher: !0,
                    file: !0,
                    "http:": !0,
                    "https:": !0,
                    "ftp:": !0,
                    "gopher:": !0,
                    "file:": !0
                },
                z = a("querystring");
            h.prototype.parse = function(a, e, c) {
                if (!f.isString(a)) throw new TypeError("Parameter 'url' must be a string, not " + typeof a);
                var g = a.indexOf("?"),
                    g = -1 !== g && g < a.indexOf("#") ? "?" : "#";
                a = a.split(g);
                a[0] = a[0].replace(/\\/g, "/");
                a = a.join(g);
                g = a.trim();
                if (!c && 1 === a.split("#").length && (a = b.exec(g))) return this.href = this.path = g, this.pathname = a[1], a[2] ? (this.search = a[2], this.query = e ? z.parse(this.search.substr(1)) : this.search.substr(1)) : e && (this.search = "", this.query = {}), this;
                if (a = d.exec(g)) {
                    a = a[0];
                    var n = a.toLowerCase();
                    this.protocol = n;
                    g = g.substr(a.length)
                }
                if (c || a || g.match(/^\/\/[^@\/]+@[^@\/]+/)) {
                    var h = "//" === g.substr(0, 2);
                    !h || a && v[a] || (g = g.substr(2), this.slashes = !0)
                }
                if (!v[a] && (h || a && !t[a])) {
                    h = -1;
                    for (c = 0; c < q.length; c++) a = g.indexOf(q[c]), -1 !== a && (-1 === h || a < h) && (h = a);
                    h = -1 === h ? g.lastIndexOf("@") : g.lastIndexOf("@", h); - 1 !== h && (c = g.slice(0, h), g = g.slice(h + 1), this.auth = decodeURIComponent(c));
                    h = -1;
                    for (c = 0; c < u.length; c++) a = g.indexOf(u[c]), -1 !== a && (-1 === h || a < h) && (h = a); - 1 === h && (h = g.length);
                    this.host = g.slice(0, h);
                    g = g.slice(h);
                    this.parseHost();
                    this.hostname = this.hostname || "";
                    h = "[" === this.hostname[0] && "]" === this.hostname[this.hostname.length - 1];
                    if (!h) {
                        var r = this.hostname.split(/\./);
                        c = 0;
                        for (a = r.length; c < a; c++) {
                            var A = r[c];
                            if (A && !A.match(x)) {
                                for (var B = "", H = 0, N = A.length; H < N; H++) B = 127 < A.charCodeAt(H) ? B + "x" : B + A[H];
                                if (!B.match(x)) {
                                    a = r.slice(0, c);
                                    c = r.slice(c + 1);
                                    if (A = A.match(y)) a.push(A[1]), c.unshift(A[2]);
                                    c.length && (g = "/" + c.join(".") + g);
                                    this.hostname = a.join(".");
                                    break
                                }
                            }
                        }
                    }
                    this.hostname = 255 < this.hostname.length ? "" : this.hostname.toLowerCase();
                    h || (this.hostname = m.toASCII(this.hostname));
                    c = this.port ? ":" + this.port : "";
                    this.host = (this.hostname || "") + c;
                    this.href += this.host;
                    h && (this.hostname = this.hostname.substr(1, this.hostname.length - 2), "/" !== g[0] && (g = "/" + g))
                }
                if (!w[n])
                    for (c = 0, a = p.length; c < a; c++) h = p[c], -1 !== g.indexOf(h) && (A = encodeURIComponent(h), A === h && (A = escape(h)), g = g.split(h).join(A));
                c = g.indexOf("#"); - 1 !== c && (this.hash = g.substr(c), g = g.slice(0, c));
                c = g.indexOf("?"); - 1 !== c ? (this.search = g.substr(c), this.query = g.substr(c + 1), e && (this.query = z.parse(this.query)),
                    g = g.slice(0, c)) : e && (this.search = "", this.query = {});
                g && (this.pathname = g);
                t[n] && this.hostname && !this.pathname && (this.pathname = "/");
                if (this.pathname || this.search) c = this.pathname || "", this.path = c + (this.search || "");
                this.href = this.format();
                return this
            };
            h.prototype.format = function() {
                var a = this.auth || "";
                a && (a = encodeURIComponent(a), a = a.replace(/%3A/i, ":"), a += "@");
                var b = this.protocol || "",
                    e = this.pathname || "",
                    d = this.hash || "",
                    m = !1,
                    p = "";
                this.host ? m = a + this.host : this.hostname && (m = a + (-1 === this.hostname.indexOf(":") ?
                    this.hostname : "[" + this.hostname + "]"), this.port && (m += ":" + this.port));
                this.query && f.isObject(this.query) && Object.keys(this.query).length && (p = z.stringify(this.query));
                a = this.search || p && "?" + p || "";
                b && ":" !== b.substr(-1) && (b += ":");
                this.slashes || (!b || t[b]) && !1 !== m ? (m = "//" + (m || ""), e && "/" !== e.charAt(0) && (e = "/" + e)) : m || (m = "");
                d && "#" !== d.charAt(0) && (d = "#" + d);
                a && "?" !== a.charAt(0) && (a = "?" + a);
                e = e.replace(/[?#]/g, function(a) {
                    return encodeURIComponent(a)
                });
                a = a.replace("#", "%23");
                return b + m + e + a + d
            };
            h.prototype.resolve =
                function(a) {
                    return this.resolveObject(n(a, !1, !0)).format()
                };
            h.prototype.resolveObject = function(a) {
                if (f.isString(a)) {
                    var b = new h;
                    b.parse(a, !1, !0);
                    a = b
                }
                for (var b = new h, e = Object.keys(this), d = 0; d < e.length; d++) {
                    var m = e[d];
                    b[m] = this[m]
                }
                b.hash = a.hash;
                if ("" === a.href) return b.href = b.format(), b;
                if (a.slashes && !a.protocol) {
                    e = Object.keys(a);
                    for (d = 0; d < e.length; d++) m = e[d], "protocol" !== m && (b[m] = a[m]);
                    t[b.protocol] && b.hostname && !b.pathname && (b.path = b.pathname = "/");
                    b.href = b.format();
                    return b
                }
                if (a.protocol && a.protocol !==
                    b.protocol) {
                    if (!t[a.protocol]) {
                        e = Object.keys(a);
                        for (d = 0; d < e.length; d++) m = e[d], b[m] = a[m];
                        b.href = b.format();
                        return b
                    }
                    b.protocol = a.protocol;
                    if (a.host || v[a.protocol]) b.pathname = a.pathname;
                    else {
                        for (var p = (a.pathname || "").split("/"); p.length && !(a.host = p.shift()););
                        a.host || (a.host = "");
                        a.hostname || (a.hostname = "");
                        "" !== p[0] && p.unshift("");
                        2 > p.length && p.unshift("");
                        b.pathname = p.join("/")
                    }
                    b.search = a.search;
                    b.query = a.query;
                    b.host = a.host || "";
                    b.auth = a.auth;
                    b.hostname = a.hostname || a.host;
                    b.port = a.port;
                    if (b.pathname ||
                        b.search) b.path = (b.pathname || "") + (b.search || "");
                    b.slashes = b.slashes || a.slashes;
                    b.href = b.format();
                    return b
                }
                var e = b.pathname && "/" === b.pathname.charAt(0),
                    q = a.host || a.pathname && "/" === a.pathname.charAt(0),
                    c = e = q || e || b.host && a.pathname,
                    d = b.pathname && b.pathname.split("/") || [],
                    p = a.pathname && a.pathname.split("/") || [];
                if (m = b.protocol && !t[b.protocol]) b.hostname = "", b.port = null, b.host && ("" === d[0] ? d[0] = b.host : d.unshift(b.host)), b.host = "", a.protocol && (a.hostname = null, a.port = null, a.host && ("" === p[0] ? p[0] = a.host : p.unshift(a.host)),
                    a.host = null), e = e && ("" === p[0] || "" === d[0]);
                if (q) b.host = a.host || "" === a.host ? a.host : b.host, b.hostname = a.hostname || "" === a.hostname ? a.hostname : b.hostname, b.search = a.search, b.query = a.query, d = p;
                else if (p.length) d || (d = []), d.pop(), d = d.concat(p), b.search = a.search, b.query = a.query;
                else if (!f.isNullOrUndefined(a.search)) return m && (b.hostname = b.host = d.shift(), m = b.host && 0 < b.host.indexOf("@") ? b.host.split("@") : !1) && (b.auth = m.shift(), b.host = b.hostname = m.shift()), b.search = a.search, b.query = a.query, f.isNull(b.pathname) &&
                    f.isNull(b.search) || (b.path = (b.pathname ? b.pathname : "") + (b.search ? b.search : "")), b.href = b.format(), b;
                if (!d.length) return b.pathname = null, b.path = b.search ? "/" + b.search : null, b.href = b.format(), b;
                for (var q = d.slice(-1)[0], p = (b.host || a.host || 1 < d.length) && ("." === q || ".." === q) || "" === q, g = 0, u = d.length; 0 <= u; u--) q = d[u], "." === q ? d.splice(u, 1) : ".." === q ? (d.splice(u, 1), g++) : g && (d.splice(u, 1), g--);
                if (!e && !c)
                    for (; g--; g) d.unshift("..");
                !e || "" === d[0] || d[0] && "/" === d[0].charAt(0) || d.unshift("");
                p && "/" !== d.join("/").substr(-1) &&
                    d.push("");
                c = "" === d[0] || d[0] && "/" === d[0].charAt(0);
                m && (b.hostname = b.host = c ? "" : d.length ? d.shift() : "", m = b.host && 0 < b.host.indexOf("@") ? b.host.split("@") : !1) && (b.auth = m.shift(), b.host = b.hostname = m.shift());
                (e = e || b.host && d.length) && !c && d.unshift("");
                d.length ? b.pathname = d.join("/") : (b.pathname = null, b.path = null);
                f.isNull(b.pathname) && f.isNull(b.search) || (b.path = (b.pathname ? b.pathname : "") + (b.search ? b.search : ""));
                b.auth = a.auth || b.auth;
                b.slashes = b.slashes || a.slashes;
                b.href = b.format();
                return b
            };
            h.prototype.parseHost =
                function() {
                    var a = this.host,
                        b = e.exec(a);
                    b && (b = b[0], ":" !== b && (this.port = b.substr(1)), a = a.substr(0, a.length - b.length));
                    a && (this.hostname = a)
                }
        }, {
            "./util": 29,
            punycode: 24,
            querystring: 27
        }],
        29: [function(a, c, g) {
            c.exports = {
                isString: function(a) {
                    return "string" === typeof a
                },
                isObject: function(a) {
                    return "object" === typeof a && null !== a
                },
                isNull: function(a) {
                    return null === a
                },
                isNullOrUndefined: function(a) {
                    return null == a
                }
            }
        }, {}],
        30: [function(a, c, g) {
            function h(a) {
                return a && a.__esModule ? a : {
                    "default": a
                }
            }
            g.__esModule = !0;
            var n =
                "function" === typeof Symbol && "symbol" === typeof Symbol.iterator ? function(a) {
                    return typeof a
                } : function(a) {
                    return a && "function" === typeof Symbol && a.constructor === Symbol && a !== Symbol.prototype ? "symbol" : typeof a
                };
            c = a("mini-signals");
            var m = h(c);
            c = a("parse-uri");
            var f = h(c),
                d = function(a) {
                    if (a && a.__esModule) return a;
                    var b = {};
                    if (null != a)
                        for (var d in a) Object.prototype.hasOwnProperty.call(a, d) && (b[d] = a[d]);
                    b["default"] = a;
                    return b
                }(a("./async"));
            a = a("./Resource");
            var e = h(a),
                b = /(#[\w-]+)?$/;
            a = function() {
                function a() {
                    var b =
                        this,
                        e = 0 < arguments.length && void 0 !== arguments[0] ? arguments[0] : "",
                        f = 1 < arguments.length && void 0 !== arguments[1] ? arguments[1] : 10;
                    if (!(this instanceof a)) throw new TypeError("Cannot call a class as a function");
                    this.baseUrl = e;
                    this.progress = 0;
                    this.loading = !1;
                    this.defaultQueryString = "";
                    this._beforeMiddleware = [];
                    this._afterMiddleware = [];
                    this._resourcesParsing = [];
                    this._boundLoadResource = function(a, d) {
                        return b._loadResource(a, d)
                    };
                    this._queue = d.queue(this._boundLoadResource, f);
                    this._queue.pause();
                    this.resources = {};
                    this.onProgress = new m["default"];
                    this.onError = new m["default"];
                    this.onLoad = new m["default"];
                    this.onStart = new m["default"];
                    this.onComplete = new m["default"]
                }
                a.prototype.add = function(a, b, d, f) {
                    if (Array.isArray(a)) {
                        for (b = 0; b < a.length; ++b) this.add(a[b]);
                        return this
                    }
                    "object" === ("undefined" === typeof a ? "undefined" : n(a)) && (f = b || a.callback || a.onComplete, d = a, b = a.url, a = a.name || a.key || a.url);
                    "string" !== typeof b && (f = d, d = b, b = a);
                    if ("string" !== typeof b) throw Error("No url passed to add resource to loader.");
                    "function" ===
                    typeof d && (f = d, d = null);
                    if (this.loading && (!d || !d.parentResource)) throw Error("Cannot add resources while the loader is running.");
                    if (this.resources[a]) throw Error('Resource named "' + a + '" already exists.');
                    b = this._prepareUrl(b);
                    this.resources[a] = new e["default"](a, b, d);
                    if ("function" === typeof f) this.resources[a].onAfterMiddleware.once(f);
                    if (this.loading) {
                        d = d.parentResource;
                        b = [];
                        for (f = 0; f < d.children.length; ++f) d.children[f].isComplete || b.push(d.children[f]);
                        f = d.progressChunk * (b.length + 1) / (b.length + 2);
                        d.children.push(this.resources[a]);
                        d.progressChunk = f;
                        for (d = 0; d < b.length; ++d) b[d].progressChunk = f
                    }
                    this._queue.push(this.resources[a]);
                    return this
                };
                a.prototype.pre = function(a) {
                    this._beforeMiddleware.push(a);
                    return this
                };
                a.prototype.use = function(a) {
                    this._afterMiddleware.push(a);
                    return this
                };
                a.prototype.reset = function() {
                    this.progress = 0;
                    this.loading = !1;
                    this._queue.kill();
                    this._queue.pause();
                    for (var a in this.resources) {
                        var b = this.resources[a];
                        b._onLoadBinding && b._onLoadBinding.detach();
                        b.isLoading && b.abort()
                    }
                    this.resources = {};
                    return this
                };
                a.prototype.load = function(a) {
                    if ("function" === typeof a) this.onComplete.once(a);
                    if (this.loading) return this;
                    a = 100 / this._queue._tasks.length;
                    for (var b = 0; b < this._queue._tasks.length; ++b) this._queue._tasks[b].data.progressChunk = a;
                    this.loading = !0;
                    this.onStart.dispatch(this);
                    this._queue.resume();
                    return this
                };
                a.prototype._prepareUrl = function(a) {
                    var d = (0, f["default"])(a, {
                        strictMode: !0
                    });
                    a = d.protocol || !d.path || 0 === a.indexOf("//") ? a : this.baseUrl.length && this.baseUrl.lastIndexOf("/") !== this.baseUrl.length -
                        1 && "/" !== a.charAt(0) ? this.baseUrl + "/" + a : this.baseUrl + a;
                    this.defaultQueryString && (d = b.exec(a)[0], a = a.substr(0, a.length - d.length), a = -1 !== a.indexOf("?") ? a + ("&" + this.defaultQueryString) : a + ("?" + this.defaultQueryString), a += d);
                    return a
                };
                a.prototype._loadResource = function(a, b) {
                    var e = this;
                    a._dequeue = b;
                    d.eachSeries(this._beforeMiddleware, function(b, d) {
                        b.call(e, a, function() {
                            d(a.isComplete ? {} : null)
                        })
                    }, function() {
                        a.isComplete ? e._onLoad(a) : (a._onLoadBinding = a.onComplete.once(e._onLoad, e), a.load())
                    })
                };
                a.prototype._onComplete =
                    function() {
                        this.loading = !1;
                        this.onComplete.dispatch(this, this.resources)
                    };
                a.prototype._onLoad = function(a) {
                    var b = this;
                    a._onLoadBinding = null;
                    a._dequeue();
                    this._resourcesParsing.push(a);
                    d.eachSeries(this._afterMiddleware, function(d, e) {
                        d.call(b, a, e)
                    }, function() {
                        a.onAfterMiddleware.dispatch(a);
                        b.progress += a.progressChunk;
                        b.onProgress.dispatch(b, a);
                        a.error ? b.onError.dispatch(a.error, b, a) : b.onLoad.dispatch(b, a);
                        b._resourcesParsing.splice(b._resourcesParsing.indexOf(a), 1);
                        b._queue.idle() && 0 === b._resourcesParsing.length &&
                            (b.progress = 100, b._onComplete())
                    })
                };
                return a
            }();
            g["default"] = a
        }, {
            "./Resource": 31,
            "./async": 32,
            "mini-signals": 36,
            "parse-uri": 37
        }],
        31: [function(a, c, g) {
            function h() {}

            function n(a, b, d) {
                b && 0 === b.indexOf(".") && (b = b.substring(1));
                b && (a[b] = d)
            }

            function m(a) {
                return a.toString().replace("object ", "")
            }
            g.__esModule = !0;
            var f = function() {
                    function a(a, b) {
                        for (var d = 0; d < b.length; d++) {
                            var e = b[d];
                            e.enumerable = e.enumerable || !1;
                            e.configurable = !0;
                            "value" in e && (e.writable = !0);
                            Object.defineProperty(a, e.key, e)
                        }
                    }
                    return function(b,
                        d, e) {
                        d && a(b.prototype, d);
                        e && a(b, e);
                        return b
                    }
                }(),
                d = (c = a("parse-uri")) && c.__esModule ? c : {
                    "default": c
                },
                e = (a = a("mini-signals")) && a.__esModule ? a : {
                    "default": a
                },
                b = !(!window.XDomainRequest || "withCredentials" in new XMLHttpRequest),
                p = null;
            a = function() {
                function a(b, d, f) {
                    if (!(this instanceof a)) throw new TypeError("Cannot call a class as a function");
                    if ("string" !== typeof b || "string" !== typeof d) throw Error("Both name and url are required for constructing a resource.");
                    f = f || {};
                    this._flags = 0;
                    this._setFlag(a.STATUS_FLAGS.DATA_URL,
                        0 === d.indexOf("data:"));
                    this.name = b;
                    this.url = d;
                    this.data = null;
                    this.crossOrigin = !0 === f.crossOrigin ? "anonymous" : f.crossOrigin;
                    this.loadType = f.loadType || this._determineLoadType();
                    this.xhrType = f.xhrType;
                    this.metadata = f.metadata || {};
                    this.xhr = this.error = null;
                    this.children = [];
                    this.type = a.TYPE.UNKNOWN;
                    this.progressChunk = 0;
                    this._dequeue = h;
                    this._onLoadBinding = null;
                    this._boundComplete = this.complete.bind(this);
                    this._boundOnError = this._onError.bind(this);
                    this._boundOnProgress = this._onProgress.bind(this);
                    this._boundXhrOnError =
                        this._xhrOnError.bind(this);
                    this._boundXhrOnAbort = this._xhrOnAbort.bind(this);
                    this._boundXhrOnLoad = this._xhrOnLoad.bind(this);
                    this._boundXdrOnTimeout = this._xdrOnTimeout.bind(this);
                    this.onStart = new e["default"];
                    this.onProgress = new e["default"];
                    this.onComplete = new e["default"];
                    this.onAfterMiddleware = new e["default"]
                }
                a.setExtensionLoadType = function(b, d) {
                    n(a._loadTypeMap, b, d)
                };
                a.setExtensionXhrType = function(b, d) {
                    n(a._xhrTypeMap, b, d)
                };
                a.prototype.complete = function() {
                    this.data && this.data.removeEventListener &&
                        (this.data.removeEventListener("error", this._boundOnError, !1), this.data.removeEventListener("load", this._boundComplete, !1), this.data.removeEventListener("progress", this._boundOnProgress, !1), this.data.removeEventListener("canplaythrough", this._boundComplete, !1));
                    this.xhr && (this.xhr.removeEventListener ? (this.xhr.removeEventListener("error", this._boundXhrOnError, !1), this.xhr.removeEventListener("abort", this._boundXhrOnAbort, !1), this.xhr.removeEventListener("progress", this._boundOnProgress, !1), this.xhr.removeEventListener("load",
                        this._boundXhrOnLoad, !1)) : (this.xhr.onerror = null, this.xhr.ontimeout = null, this.xhr.onprogress = null, this.xhr.onload = null));
                    if (this.isComplete) throw Error("Complete called again for an already completed resource.");
                    this._setFlag(a.STATUS_FLAGS.COMPLETE, !0);
                    this._setFlag(a.STATUS_FLAGS.LOADING, !1);
                    this.onComplete.dispatch(this)
                };
                a.prototype.abort = function(b) {
                    if (!this.error) {
                        this.error = Error(b);
                        if (this.xhr) this.xhr.abort();
                        else if (this.xdr) this.xdr.abort();
                        else if (this.data)
                            if (this.data.src) this.data.src =
                                a.EMPTY_GIF;
                            else
                                for (; this.data.firstChild;) this.data.removeChild(this.data.firstChild);
                        this.complete()
                    }
                };
                a.prototype.load = function(d) {
                    var e = this;
                    if (!this.isLoading)
                        if (this.isComplete) d && setTimeout(function() {
                            return d(e)
                        }, 1);
                        else {
                            if (d) this.onComplete.once(d);
                            this._setFlag(a.STATUS_FLAGS.LOADING, !0);
                            this.onStart.dispatch(this);
                            if (!1 === this.crossOrigin || "string" !== typeof this.crossOrigin) this.crossOrigin = this._determineCrossOrigin(this.url);
                            switch (this.loadType) {
                                case a.LOAD_TYPE.IMAGE:
                                    this.type = a.TYPE.IMAGE;
                                    this._loadElement("image");
                                    break;
                                case a.LOAD_TYPE.AUDIO:
                                    this.type = a.TYPE.AUDIO;
                                    this._loadSourceElement("audio");
                                    break;
                                case a.LOAD_TYPE.VIDEO:
                                    this.type = a.TYPE.VIDEO;
                                    this._loadSourceElement("video");
                                    break;
                                default:
                                    b && this.crossOrigin ? this._loadXdr() : this._loadXhr()
                            }
                        }
                };
                a.prototype._hasFlag = function(a) {
                    return !!(this._flags & a)
                };
                a.prototype._setFlag = function(a, b) {
                    this._flags = b ? this._flags | a : this._flags & ~a
                };
                a.prototype._loadElement = function(a) {
                    this.data = this.metadata.loadElement ? this.metadata.loadElement :
                        "image" === a && "undefined" !== typeof window.Image ? new Image : document.createElement(a);
                    this.crossOrigin && (this.data.crossOrigin = this.crossOrigin);
                    this.metadata.skipSource || (this.data.src = this.url);
                    this.data.addEventListener("error", this._boundOnError, !1);
                    this.data.addEventListener("load", this._boundComplete, !1);
                    this.data.addEventListener("progress", this._boundOnProgress, !1)
                };
                a.prototype._loadSourceElement = function(a) {
                    this.data = this.metadata.loadElement ? this.metadata.loadElement : "audio" === a && "undefined" !==
                        typeof window.Audio ? new Audio : document.createElement(a);
                    if (null === this.data) this.abort("Unsupported element: " + a);
                    else {
                        if (!this.metadata.skipSource)
                            if (navigator.isCocoonJS) this.data.src = Array.isArray(this.url) ? this.url[0] : this.url;
                            else if (Array.isArray(this.url))
                            for (var b = 0; b < this.url.length; ++b) this.data.appendChild(this._createSource(a, this.url[b]));
                        else this.data.appendChild(this._createSource(a, this.url));
                        this.data.addEventListener("error", this._boundOnError, !1);
                        this.data.addEventListener("load",
                            this._boundComplete, !1);
                        this.data.addEventListener("progress", this._boundOnProgress, !1);
                        this.data.addEventListener("canplaythrough", this._boundComplete, !1);
                        this.data.load()
                    }
                };
                a.prototype._loadXhr = function() {
                    "string" !== typeof this.xhrType && (this.xhrType = this._determineXhrType());
                    var b = this.xhr = new XMLHttpRequest;
                    b.open("GET", this.url, !0);
                    b.responseType = this.xhrType === a.XHR_RESPONSE_TYPE.JSON || this.xhrType === a.XHR_RESPONSE_TYPE.DOCUMENT ? a.XHR_RESPONSE_TYPE.TEXT : this.xhrType;
                    b.addEventListener("error",
                        this._boundXhrOnError, !1);
                    b.addEventListener("abort", this._boundXhrOnAbort, !1);
                    b.addEventListener("progress", this._boundOnProgress, !1);
                    b.addEventListener("load", this._boundXhrOnLoad, !1);
                    b.send()
                };
                a.prototype._loadXdr = function() {
                    "string" !== typeof this.xhrType && (this.xhrType = this._determineXhrType());
                    var a = this.xhr = new XDomainRequest;
                    a.timeout = 5E3;
                    a.onerror = this._boundXhrOnError;
                    a.ontimeout = this._boundXdrOnTimeout;
                    a.onprogress = this._boundOnProgress;
                    a.onload = this._boundXhrOnLoad;
                    a.open("GET", this.url,
                        !0);
                    setTimeout(function() {
                        return a.send()
                    }, 1)
                };
                a.prototype._createSource = function(a, b, d) {
                    d || (d = a + "/" + b.substr(b.lastIndexOf(".") + 1));
                    a = document.createElement("source");
                    a.src = b;
                    a.type = d;
                    return a
                };
                a.prototype._onError = function(a) {
                    this.abort("Failed to load element using: " + a.target.nodeName)
                };
                a.prototype._onProgress = function(a) {
                    a && a.lengthComputable && this.onProgress.dispatch(this, a.loaded / a.total)
                };
                a.prototype._xhrOnError = function() {
                    var a = this.xhr;
                    this.abort(m(a) + " Request failed. Status: " + a.status +
                        ', text: "' + a.statusText + '"')
                };
                a.prototype._xhrOnAbort = function() {
                    this.abort(m(this.xhr) + " Request was aborted by the user.")
                };
                a.prototype._xdrOnTimeout = function() {
                    this.abort(m(this.xhr) + " Request timed out.")
                };
                a.prototype._xhrOnLoad = function() {
                    var b = this.xhr,
                        d = "undefined" === typeof b.status ? b.status : 200;
                    if (200 === d || 204 === d || 0 === d && 0 < b.responseText.length) {
                        if (this.xhrType === a.XHR_RESPONSE_TYPE.TEXT) this.data = b.responseText, this.type = a.TYPE.TEXT;
                        else if (this.xhrType === a.XHR_RESPONSE_TYPE.JSON) try {
                            this.data =
                                JSON.parse(b.responseText), this.type = a.TYPE.JSON
                        } catch (w) {
                            this.abort("Error trying to parse loaded json: " + w);
                            return
                        } else if (this.xhrType === a.XHR_RESPONSE_TYPE.DOCUMENT) try {
                            if (window.DOMParser) this.data = (new DOMParser).parseFromString(b.responseText, "text/xml");
                            else {
                                var e = document.createElement("div");
                                e.innerHTML = b.responseText;
                                this.data = e
                            }
                            this.type = a.TYPE.XML
                        } catch (w) {
                            this.abort("Error trying to parse loaded xml: " + w);
                            return
                        } else this.data = b.response || b.responseText;
                        this.complete()
                    } else this.abort("[" +
                        b.status + "] " + b.statusText + ": " + b.responseURL)
                };
                a.prototype._determineCrossOrigin = function(a, b) {
                    if (0 === a.indexOf("data:")) return "";
                    b = b || window.location;
                    p || (p = document.createElement("a"));
                    p.href = a;
                    a = (0, d["default"])(p.href, {
                        strictMode: !0
                    });
                    var e = !a.port && "" === b.port || a.port === b.port,
                        f = a.protocol ? a.protocol + ":" : "";
                    return a.host === b.hostname && e && f === b.protocol ? "" : "anonymous"
                };
                a.prototype._determineXhrType = function() {
                    return a._xhrTypeMap[this._getExtension()] || a.XHR_RESPONSE_TYPE.TEXT
                };
                a.prototype._determineLoadType =
                    function() {
                        return a._loadTypeMap[this._getExtension()] || a.LOAD_TYPE.XHR
                    };
                a.prototype._getExtension = function() {
                    var a = this.url;
                    if (this.isDataUrl) var b = a.indexOf("/"),
                        a = a.substring(b + 1, a.indexOf(";", b));
                    else b = a.indexOf("?"), -1 !== b && (a = a.substring(0, b)), a = a.substring(a.lastIndexOf(".") + 1);
                    return a.toLowerCase()
                };
                a.prototype._getMimeFromXhrType = function(b) {
                    switch (b) {
                        case a.XHR_RESPONSE_TYPE.BUFFER:
                            return "application/octet-binary";
                        case a.XHR_RESPONSE_TYPE.BLOB:
                            return "application/blob";
                        case a.XHR_RESPONSE_TYPE.DOCUMENT:
                            return "application/xml";
                        case a.XHR_RESPONSE_TYPE.JSON:
                            return "application/json";
                        default:
                            return "text/plain"
                    }
                };
                f(a, [{
                    key: "isDataUrl",
                    get: function() {
                        return this._hasFlag(a.STATUS_FLAGS.DATA_URL)
                    }
                }, {
                    key: "isComplete",
                    get: function() {
                        return this._hasFlag(a.STATUS_FLAGS.COMPLETE)
                    }
                }, {
                    key: "isLoading",
                    get: function() {
                        return this._hasFlag(a.STATUS_FLAGS.LOADING)
                    }
                }]);
                return a
            }();
            g["default"] = a;
            a.STATUS_FLAGS = {
                NONE: 0,
                DATA_URL: 1,
                COMPLETE: 2,
                LOADING: 4
            };
            a.TYPE = {
                UNKNOWN: 0,
                JSON: 1,
                XML: 2,
                IMAGE: 3,
                AUDIO: 4,
                VIDEO: 5,
                TEXT: 6
            };
            a.LOAD_TYPE = {
                XHR: 1,
                IMAGE: 2,
                AUDIO: 3,
                VIDEO: 4
            };
            a.XHR_RESPONSE_TYPE = {
                DEFAULT: "text",
                BUFFER: "arraybuffer",
                BLOB: "blob",
                DOCUMENT: "document",
                JSON: "json",
                TEXT: "text"
            };
            a._loadTypeMap = {
                gif: a.LOAD_TYPE.IMAGE,
                png: a.LOAD_TYPE.IMAGE,
                bmp: a.LOAD_TYPE.IMAGE,
                jpg: a.LOAD_TYPE.IMAGE,
                jpeg: a.LOAD_TYPE.IMAGE,
                tif: a.LOAD_TYPE.IMAGE,
                tiff: a.LOAD_TYPE.IMAGE,
                webp: a.LOAD_TYPE.IMAGE,
                tga: a.LOAD_TYPE.IMAGE,
                svg: a.LOAD_TYPE.IMAGE,
                "svg+xml": a.LOAD_TYPE.IMAGE,
                mp3: a.LOAD_TYPE.AUDIO,
                ogg: a.LOAD_TYPE.AUDIO,
                wav: a.LOAD_TYPE.AUDIO,
                mp4: a.LOAD_TYPE.VIDEO,
                webm: a.LOAD_TYPE.VIDEO
            };
            a._xhrTypeMap = {
                xhtml: a.XHR_RESPONSE_TYPE.DOCUMENT,
                html: a.XHR_RESPONSE_TYPE.DOCUMENT,
                htm: a.XHR_RESPONSE_TYPE.DOCUMENT,
                xml: a.XHR_RESPONSE_TYPE.DOCUMENT,
                tmx: a.XHR_RESPONSE_TYPE.DOCUMENT,
                svg: a.XHR_RESPONSE_TYPE.DOCUMENT,
                tsx: a.XHR_RESPONSE_TYPE.DOCUMENT,
                gif: a.XHR_RESPONSE_TYPE.BLOB,
                png: a.XHR_RESPONSE_TYPE.BLOB,
                bmp: a.XHR_RESPONSE_TYPE.BLOB,
                jpg: a.XHR_RESPONSE_TYPE.BLOB,
                jpeg: a.XHR_RESPONSE_TYPE.BLOB,
                tif: a.XHR_RESPONSE_TYPE.BLOB,
                tiff: a.XHR_RESPONSE_TYPE.BLOB,
                webp: a.XHR_RESPONSE_TYPE.BLOB,
                tga: a.XHR_RESPONSE_TYPE.BLOB,
                json: a.XHR_RESPONSE_TYPE.JSON,
                text: a.XHR_RESPONSE_TYPE.TEXT,
                txt: a.XHR_RESPONSE_TYPE.TEXT,
                ttf: a.XHR_RESPONSE_TYPE.BUFFER,
                otf: a.XHR_RESPONSE_TYPE.BUFFER
            };
            a.EMPTY_GIF = "data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=="
        }, {
            "mini-signals": 36,
            "parse-uri": 37
        }],
        32: [function(a, c, g) {
            function h() {}

            function n(a) {
                return function() {
                    if (null === a) throw Error("Callback was already called.");
                    var f = a;
                    a = null;
                    f.apply(this, arguments)
                }
            }
            g.__esModule = !0;
            g.eachSeries = function(a, f, d) {
                var e = 0,
                    b = a.length;
                (function u(m) {
                    m || e === b ? d && d(m) : f(a[e++], u)
                })()
            };
            g.queue = function(a, f) {
                function d(a, b, d) {
                    if (null != d && "function" !== typeof d) throw Error("task callback must be a function");
                    m.started = !0;
                    null == a && m.idle() ? setTimeout(function() {
                        return m.drain()
                    }, 1) : (a = {
                        data: a,
                        callback: "function" === typeof d ? d : h
                    }, b ? m._tasks.unshift(a) : m._tasks.push(a), setTimeout(function() {
                        return m.process()
                    }, 1))
                }

                function e(a) {
                    return function() {
                        --b;
                        a.callback.apply(a, arguments);
                        null != arguments[0] && m.error(arguments[0], a.data);
                        b <= m.concurrency - m.buffer && m.unsaturated();
                        m.idle() && m.drain();
                        m.process()
                    }
                }
                if (null == f) f = 1;
                else if (0 === f) throw Error("Concurrency must not be zero");
                var b = 0,
                    m = {
                        _tasks: [],
                        concurrency: f,
                        saturated: h,
                        unsaturated: h,
                        buffer: f / 4,
                        empty: h,
                        drain: h,
                        error: h,
                        started: !1,
                        paused: !1,
                        push: function(a, b) {
                            d(a, !1, b)
                        },
                        kill: function() {
                            b = 0;
                            m.drain = h;
                            m.started = !1;
                            m._tasks = []
                        },
                        unshift: function(a, b) {
                            d(a, !0, b)
                        },
                        process: function() {
                            for (; !m.paused && b < m.concurrency && m._tasks.length;) {
                                var d = m._tasks.shift();
                                0 === m._tasks.length && m.empty();
                                b += 1;
                                b === m.concurrency && m.saturated();
                                a(d.data, n(e(d)))
                            }
                        },
                        length: function() {
                            return m._tasks.length
                        },
                        running: function() {
                            return b
                        },
                        idle: function() {
                            return 0 === m._tasks.length + b
                        },
                        pause: function() {
                            !0 !== m.paused && (m.paused = !0)
                        },
                        resume: function() {
                            if (!1 !== m.paused) {
                                m.paused = !1;
                                for (var a = 1; a <= m.concurrency; a++) m.process()
                            }
                        }
                    };
                return m
            }
        }, {}],
        33: [function(a, c, g) {
            g.__esModule = !0;
            g.encodeBinary = function(a) {
                for (var m = "", f = 0; f < a.length;) {
                    for (var d = [0, 0, 0], e = [0, 0, 0, 0], b = 0; b < d.length; ++b) d[b] = f < a.length ? a.charCodeAt(f++) &
                        255 : 0;
                    e[0] = d[0] >> 2;
                    e[1] = (d[0] & 3) << 4 | d[1] >> 4;
                    e[2] = (d[1] & 15) << 2 | d[2] >> 6;
                    e[3] = d[2] & 63;
                    switch (f - (a.length - 1)) {
                        case 2:
                            e[3] = 64;
                            e[2] = 64;
                            break;
                        case 1:
                            e[3] = 64
                    }
                    for (d = 0; d < e.length; ++d) m += h.charAt(e[d])
                }
                return m
            };
            var h = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="
        }, {}],
        34: [function(a, c, g) {
            function h(a) {
                if (a && a.__esModule) return a;
                var d = {};
                if (null != a)
                    for (var b in a) Object.prototype.hasOwnProperty.call(a, b) && (d[b] = a[b]);
                d["default"] = a;
                return d
            }
            g.__esModule = !0;
            var n = a("./Loader"),
                n = n && n.__esModule ?
                n : {
                    "default": n
                },
                m = a("./Resource"),
                m = m && m.__esModule ? m : {
                    "default": m
                },
                f = a("./async"),
                f = h(f);
            a = a("./b64");
            a = h(a);
            n["default"].Resource = m["default"];
            n["default"].async = f;
            n["default"].base64 = a;
            c.exports = n["default"];
            g["default"] = n["default"]
        }, {
            "./Loader": 30,
            "./Resource": 31,
            "./async": 32,
            "./b64": 33
        }],
        35: [function(a, c, g) {
            g.__esModule = !0;
            var h = "function" === typeof Symbol && "symbol" === typeof Symbol.iterator ? function(a) {
                return typeof a
            } : function(a) {
                return a && "function" === typeof Symbol && a.constructor === Symbol &&
                    a !== Symbol.prototype ? "symbol" : typeof a
            };
            g.blobMiddlewareFactory = function() {
                return function(a, e) {
                    if (a.data && a.xhr && a.xhrType === n["default"].XHR_RESPONSE_TYPE.BLOB)
                        if (!window.Blob || "string" === typeof a.data) {
                            var b = a.xhr.getResponseHeader("content-type");
                            if (b && 0 === b.indexOf("image")) {
                                a.data = new Image;
                                a.data.src = "data:" + b + ";base64," + m["default"].encodeBinary(a.xhr.responseText);
                                a.type = n["default"].TYPE.IMAGE;
                                a.data.onload = function() {
                                    a.data.onload = null;
                                    e()
                                };
                                return
                            }
                        } else if (0 === a.data.type.indexOf("image") &&
                        (b = function() {
                            var b = f.createObjectURL(a.data);
                            a.blob = a.data;
                            a.data = new Image;
                            a.data.src = b;
                            a.type = n["default"].TYPE.IMAGE;
                            a.data.onload = function() {
                                f.revokeObjectURL(b);
                                a.data.onload = null;
                                e()
                            };
                            return {
                                v: void 0
                            }
                        }(), "object" === ("undefined" === typeof b ? "undefined" : h(b)))) return b.v;
                    e()
                }
            };
            var n = (c = a("../../Resource")) && c.__esModule ? c : {
                    "default": c
                },
                m = (a = a("../../b64")) && a.__esModule ? a : {
                    "default": a
                },
                f = window.URL || window.webkitURL
        }, {
            "../../Resource": 31,
            "../../b64": 33
        }],
        36: [function(a, c, g) {
            function h(a, e) {
                if (!(a instanceof e)) throw new TypeError("Cannot call a class as a function");
            }

            function n(a, e) {
                a._head ? (a._tail._next = e, e._prev = a._tail) : a._head = e;
                a._tail = e;
                e._owner = a;
                return e
            }
            Object.defineProperty(g, "__esModule", {
                value: !0
            });
            var m = function() {
                    function a(a, b) {
                        for (var d = 0; d < b.length; d++) {
                            var e = b[d];
                            e.enumerable = e.enumerable || !1;
                            e.configurable = !0;
                            "value" in e && (e.writable = !0);
                            Object.defineProperty(a, e.key, e)
                        }
                    }
                    return function(d, b, f) {
                        b && a(d.prototype, b);
                        f && a(d, f);
                        return d
                    }
                }(),
                f = function() {
                    function a(d, b, f) {
                        void 0 === b && (b = !1);
                        h(this, a);
                        this._fn = d;
                        this._once = b;
                        this._thisArg = f;
                        this._next = this._prev = this._owner = null
                    }
                    m(a, [{
                        key: "detach",
                        value: function() {
                            if (null === this._owner) return !1;
                            this._owner.detach(this);
                            return !0
                        }
                    }]);
                    return a
                }();
            a = function() {
                function a() {
                    h(this, a);
                    this._head = this._tail = void 0
                }
                m(a, [{
                    key: "handlers",
                    value: function() {
                        var a = this._head;
                        if (0 >= arguments.length || void 0 === arguments[0] ? 0 : arguments[0]) return !!a;
                        for (var b = []; a;) b.push(a), a = a._next;
                        return b
                    }
                }, {
                    key: "has",
                    value: function(a) {
                        if (!(a instanceof f)) throw Error("MiniSignal#has(): First arg must be a MiniSignalBinding object.");
                        return a._owner === this
                    }
                }, {
                    key: "dispatch",
                    value: function() {
                        var a = this._head;
                        if (!a) return !1;
                        for (; a;) a._once && this.detach(a), a._fn.apply(a._thisArg, arguments), a = a._next;
                        return !0
                    }
                }, {
                    key: "add",
                    value: function(a) {
                        var b = 1 >= arguments.length || void 0 === arguments[1] ? null : arguments[1];
                        if ("function" !== typeof a) throw Error("MiniSignal#add(): First arg must be a Function.");
                        return n(this, new f(a, !1, b))
                    }
                }, {
                    key: "once",
                    value: function(a) {
                        var b = 1 >= arguments.length || void 0 === arguments[1] ? null : arguments[1];
                        if ("function" !==
                            typeof a) throw Error("MiniSignal#once(): First arg must be a Function.");
                        return n(this, new f(a, !0, b))
                    }
                }, {
                    key: "detach",
                    value: function(a) {
                        if (!(a instanceof f)) throw Error("MiniSignal#detach(): First arg must be a MiniSignalBinding object.");
                        if (a._owner !== this) return this;
                        a._prev && (a._prev._next = a._next);
                        a._next && (a._next._prev = a._prev);
                        a === this._head ? (this._head = a._next, null === a._next && (this._tail = null)) : a === this._tail && (this._tail = a._prev, this._tail._next = null);
                        a._owner = null;
                        return this
                    }
                }, {
                    key: "detachAll",
                    value: function() {
                        var a = this._head;
                        if (!a) return this;
                        for (this._head = this._tail = null; a;) a._owner = null, a = a._next;
                        return this
                    }
                }]);
                return a
            }();
            a.MiniSignalBinding = f;
            g["default"] = a;
            c.exports = g["default"]
        }, {}],
        37: [function(a, c, g) {
            c.exports = function(a, c) {
                c = c || {};
                for (var m = "source protocol authority userInfo user password host port relative path directory file query anchor".split(" "), f = {
                        strict: /^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,
                        loose: /^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/
                    } [c.strictMode ? "strict" : "loose"].exec(a), d = {}, e = 14; e--;) d[m[e]] = f[e] || "";
                d.queryKey = {};
                d[m[12]].replace(/(?:^|&)([^&=]*)=?([^&]*)/g, function(a, e, f) {
                    e && (d.queryKey[e] = f)
                });
                return d
            }
        }, {}],
        38: [function(a, c, g) {
            g.__esModule = !0;
            var h = function(a) {
                    if (a && a.__esModule) return a;
                    var f = {};
                    if (null != a)
                        for (var d in a) Object.prototype.hasOwnProperty.call(a,
                            d) && (f[d] = a[d]);
                    f["default"] = a;
                    return f
                }(a("../core")),
                n = (c = a("ismobilejs")) && c.__esModule ? c : {
                    "default": c
                };
            a = a("./accessibleTarget");
            Object.assign(h.DisplayObject.prototype, (a && a.__esModule ? a : {
                "default": a
            })["default"]);
            a = function() {
                function a(f) {
                    if (!(this instanceof a)) throw new TypeError("Cannot call a class as a function");
                    !n["default"].tablet && !n["default"].phone || navigator.isCocoonJS || this.createTouchHook();
                    var d = document.createElement("div");
                    d.style.width = "100px";
                    d.style.height = "100px";
                    d.style.position =
                        "absolute";
                    d.style.top = "0px";
                    d.style.left = "0px";
                    d.style.zIndex = 2;
                    this.div = d;
                    this.pool = [];
                    this.renderId = 0;
                    this.debug = !1;
                    this.renderer = f;
                    this.children = [];
                    this._onKeyDown = this._onKeyDown.bind(this);
                    this._onMouseMove = this._onMouseMove.bind(this);
                    this.isMobileAccessabillity = this.isActive = !1;
                    window.addEventListener("keydown", this._onKeyDown, !1)
                }
                a.prototype.createTouchHook = function() {
                    var a = this,
                        d = document.createElement("button");
                    d.style.width = "1px";
                    d.style.height = "1px";
                    d.style.position = "absolute";
                    d.style.top =
                        "-1000px";
                    d.style.left = "-1000px";
                    d.style.zIndex = 2;
                    d.style.backgroundColor = "#FF0000";
                    d.title = "HOOK DIV";
                    d.addEventListener("focus", function() {
                        a.isMobileAccessabillity = !0;
                        a.activate();
                        document.body.removeChild(d)
                    });
                    document.body.appendChild(d)
                };
                a.prototype.activate = function() {
                    this.isActive || (this.isActive = !0, window.document.addEventListener("mousemove", this._onMouseMove, !0), window.removeEventListener("keydown", this._onKeyDown, !1), this.renderer.on("postrender", this.update, this), this.renderer.view.parentNode &&
                        this.renderer.view.parentNode.appendChild(this.div))
                };
                a.prototype.deactivate = function() {
                    this.isActive && !this.isMobileAccessabillity && (this.isActive = !1, window.document.removeEventListener("mousemove", this._onMouseMove), window.addEventListener("keydown", this._onKeyDown, !1), this.renderer.off("postrender", this.update), this.div.parentNode && this.div.parentNode.removeChild(this.div))
                };
                a.prototype.updateAccessibleObjects = function(a) {
                    if (a.visible) {
                        a.accessible && a.interactive && (a._accessibleActive || this.addChild(a),
                            a.renderId = this.renderId);
                        a = a.children;
                        for (var d = a.length - 1; 0 <= d; d--) this.updateAccessibleObjects(a[d])
                    }
                };
                a.prototype.update = function() {
                    if (this.renderer.renderingToScreen) {
                        this.updateAccessibleObjects(this.renderer._lastObjectRendered);
                        var a = this.renderer.view.getBoundingClientRect(),
                            d = a.width / this.renderer.width,
                            e = a.height / this.renderer.height,
                            b = this.div;
                        b.style.left = a.left + "px";
                        b.style.top = a.top + "px";
                        b.style.width = this.renderer.width + "px";
                        b.style.height = this.renderer.height + "px";
                        for (a = 0; a < this.children.length; a++) {
                            var m =
                                this.children[a];
                            if (m.renderId !== this.renderId) m._accessibleActive = !1, h.utils.removeItems(this.children, a, 1), this.div.removeChild(m._accessibleDiv), this.pool.push(m._accessibleDiv), m._accessibleDiv = null, a--, 0 === this.children.length && this.deactivate();
                            else {
                                var b = m._accessibleDiv,
                                    c = m.hitArea,
                                    q = m.worldTransform;
                                m.hitArea ? (b.style.left = (q.tx + c.x * q.a) * d + "px", b.style.top = (q.ty + c.y * q.d) * e + "px", b.style.width = c.width * q.a * d + "px", b.style.height = c.height * q.d * e + "px") : (c = m.getBounds(), this.capHitArea(c), b.style.left =
                                    c.x * d + "px", b.style.top = c.y * e + "px", b.style.width = c.width * d + "px", b.style.height = c.height * e + "px")
                            }
                        }
                        this.renderId++
                    }
                };
                a.prototype.capHitArea = function(a) {
                    0 > a.x && (a.width += a.x, a.x = 0);
                    0 > a.y && (a.height += a.y, a.y = 0);
                    a.x + a.width > this.renderer.width && (a.width = this.renderer.width - a.x);
                    a.y + a.height > this.renderer.height && (a.height = this.renderer.height - a.y)
                };
                a.prototype.addChild = function(a) {
                    var d = this.pool.pop();
                    d || (d = document.createElement("button"), d.style.width = "100px", d.style.height = "100px", d.style.backgroundColor =
                        this.debug ? "rgba(255,0,0,0.5)" : "transparent", d.style.position = "absolute", d.style.zIndex = 2, d.style.borderStyle = "none", d.addEventListener("click", this._onClick.bind(this)), d.addEventListener("focus", this._onFocus.bind(this)), d.addEventListener("focusout", this._onFocusOut.bind(this)));
                    a.accessibleTitle ? d.title = a.accessibleTitle : a.accessibleTitle || a.accessibleHint || (d.title = "displayObject " + this.tabIndex);
                    a.accessibleHint && d.setAttribute("aria-label", a.accessibleHint);
                    a._accessibleActive = !0;
                    a._accessibleDiv =
                        d;
                    d.displayObject = a;
                    this.children.push(a);
                    this.div.appendChild(a._accessibleDiv);
                    a._accessibleDiv.tabIndex = a.tabIndex
                };
                a.prototype._onClick = function(a) {
                    var d = this.renderer.plugins.interaction;
                    d.dispatchEvent(a.target.displayObject, "click", d.eventData)
                };
                a.prototype._onFocus = function(a) {
                    var d = this.renderer.plugins.interaction;
                    d.dispatchEvent(a.target.displayObject, "mouseover", d.eventData)
                };
                a.prototype._onFocusOut = function(a) {
                    var d = this.renderer.plugins.interaction;
                    d.dispatchEvent(a.target.displayObject,
                        "mouseout", d.eventData)
                };
                a.prototype._onKeyDown = function(a) {
                    9 === a.keyCode && this.activate()
                };
                a.prototype._onMouseMove = function() {
                    this.deactivate()
                };
                a.prototype.destroy = function() {
                    this.div = null;
                    for (var a = 0; a < this.children.length; a++) this.children[a].div = null;
                    window.document.removeEventListener("mousemove", this._onMouseMove);
                    window.removeEventListener("keydown", this._onKeyDown);
                    this.renderer = this.children = this.pool = null
                };
                return a
            }();
            g["default"] = a;
            h.WebGLRenderer.registerPlugin("accessibility", a);
            h.CanvasRenderer.registerPlugin("accessibility",
                a)
        }, {
            "../core": 63,
            "./accessibleTarget": 39,
            ismobilejs: 4
        }],
        39: [function(a, c, g) {
            g.__esModule = !0;
            g["default"] = {
                accessible: !1,
                accessibleTitle: null,
                accessibleHint: null,
                tabIndex: 0,
                _accessibleActive: !1,
                _accessibleDiv: !1
            }
        }, {}],
        40: [function(a, c, g) {
            g.__esModule = !0;
            var h = a("./accessibleTarget");
            Object.defineProperty(g, "accessibleTarget", {
                enumerable: !0,
                get: function() {
                    return (h && h.__esModule ? h : {
                        "default": h
                    })["default"]
                }
            });
            var n = a("./AccessibilityManager");
            Object.defineProperty(g, "AccessibilityManager", {
                enumerable: !0,
                get: function() {
                    return (n && n.__esModule ? n : {
                        "default": n
                    })["default"]
                }
            })
        }, {
            "./AccessibilityManager": 38,
            "./accessibleTarget": 39
        }],
        41: [function(a, c, g) {
            g.__esModule = !0;
            var h = function() {
                    function a(a, b) {
                        for (var d = 0; d < b.length; d++) {
                            var e = b[d];
                            e.enumerable = e.enumerable || !1;
                            e.configurable = !0;
                            "value" in e && (e.writable = !0);
                            Object.defineProperty(a, e.key, e)
                        }
                    }
                    return function(d, b, f) {
                        b && a(d.prototype, b);
                        f && a(d, f);
                        return d
                    }
                }(),
                n = a("./autoDetectRenderer"),
                m = (c = a("./display/Container")) && c.__esModule ? c : {
                    "default": c
                },
                f =
                (a = a("./ticker/Ticker")) && a.__esModule ? a : {
                    "default": a
                };
            a = function() {
                function a(d, b, p, c) {
                    if (!(this instanceof a)) throw new TypeError("Cannot call a class as a function");
                    this.renderer = (0, n.autoDetectRenderer)(d, b, p, c);
                    this.stage = new m["default"];
                    this.ticker = new f["default"];
                    this.ticker.add(this.render, this);
                    this.start()
                }
                a.prototype.render = function() {
                    this.renderer.render(this.stage)
                };
                a.prototype.stop = function() {
                    this.ticker.stop()
                };
                a.prototype.start = function() {
                    this.ticker.start()
                };
                a.prototype.destroy =
                    function(a) {
                        this.stop();
                        this.ticker.remove(this.render, this);
                        this.ticker = null;
                        this.stage.destroy();
                        this.stage = null;
                        this.renderer.destroy(a);
                        this.renderer = null
                    };
                h(a, [{
                    key: "view",
                    get: function() {
                        return this.renderer.view
                    }
                }]);
                return a
            }();
            g["default"] = a
        }, {
            "./autoDetectRenderer": 43,
            "./display/Container": 46,
            "./ticker/Ticker": 114
        }],
        42: [function(a, c, g) {
            function h(a, d) {
                if ("function" !== typeof d && null !== d) throw new TypeError("Super expression must either be null or a function, not " + typeof d);
                a.prototype = Object.create(d &&
                    d.prototype, {
                        constructor: {
                            value: a,
                            enumerable: !1,
                            writable: !0,
                            configurable: !0
                        }
                    });
                d && (Object.setPrototypeOf ? Object.setPrototypeOf(a, d) : a.__proto__ = d)
            }

            function n(a) {
                if (a instanceof Array) "precision" !== a[0].substring(0, 9) && (a = a.slice(0), a.unshift("precision " + m + " float;"));
                else if ("precision" !== a.substring(0, 9)) return "precision " + m + " float;\n" + a;
                return a
            }
            g.__esModule = !0;
            c = a("pixi-gl-core");
            a = a("./settings");
            var m = (a && a.__esModule ? a : {
                "default": a
            })["default"].PRECISION;
            a = function(a) {
                function d(e, b, f) {
                    if (!(this instanceof d)) throw new TypeError("Cannot call a class as a function");
                    e = a.call(this, e, n(b), n(f));
                    if (!this) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                    return !e || "object" !== typeof e && "function" !== typeof e ? this : e
                }
                h(d, a);
                return d
            }(c.GLShader);
            g["default"] = a
        }, {
            "./settings": 99,
            "pixi-gl-core": 12
        }],
        43: [function(a, c, g) {
            g.__esModule = !0;
            g.autoDetectRenderer = function() {
                var a = 0 < arguments.length && void 0 !== arguments[0] ? arguments[0] : 800,
                    d = 1 < arguments.length && void 0 !== arguments[1] ?
                    arguments[1] : 600,
                    e = arguments[2];
                return !arguments[3] && h.isWebGLSupported() ? new m["default"](a, d, e) : new n["default"](a, d, e)
            };
            var h = function(a) {
                    if (a && a.__esModule) return a;
                    var d = {};
                    if (null != a)
                        for (var e in a) Object.prototype.hasOwnProperty.call(a, e) && (d[e] = a[e]);
                    d["default"] = a;
                    return d
                }(a("./utils")),
                n = (c = a("./renderers/canvas/CanvasRenderer")) && c.__esModule ? c : {
                    "default": c
                },
                m = (a = a("./renderers/webgl/WebGLRenderer")) && a.__esModule ? a : {
                    "default": a
                }
        }, {
            "./renderers/canvas/CanvasRenderer": 75,
            "./renderers/webgl/WebGLRenderer": 82,
            "./utils": 119
        }],
        44: [function(a, c, g) {
            g.__esModule = !0;
            g.VERSION = "4.3.4";
            g.PI_2 = 2 * Math.PI;
            g.RAD_TO_DEG = 180 / Math.PI;
            g.DEG_TO_RAD = Math.PI / 180;
            g.RENDERER_TYPE = {
                UNKNOWN: 0,
                WEBGL: 1,
                CANVAS: 2
            };
            g.BLEND_MODES = {
                NORMAL: 0,
                ADD: 1,
                MULTIPLY: 2,
                SCREEN: 3,
                OVERLAY: 4,
                DARKEN: 5,
                LIGHTEN: 6,
                COLOR_DODGE: 7,
                COLOR_BURN: 8,
                HARD_LIGHT: 9,
                SOFT_LIGHT: 10,
                DIFFERENCE: 11,
                EXCLUSION: 12,
                HUE: 13,
                SATURATION: 14,
                COLOR: 15,
                LUMINOSITY: 16
            };
            g.DRAW_MODES = {
                POINTS: 0,
                LINES: 1,
                LINE_LOOP: 2,
                LINE_STRIP: 3,
                TRIANGLES: 4,
                TRIANGLE_STRIP: 5,
                TRIANGLE_FAN: 6
            };
            g.SCALE_MODES = {
                LINEAR: 0,
                NEAREST: 1
            };
            g.WRAP_MODES = {
                CLAMP: 0,
                REPEAT: 1,
                MIRRORED_REPEAT: 2
            };
            g.GC_MODES = {
                AUTO: 0,
                MANUAL: 1
            };
            g.URL_FILE_EXTENSION = /\.(\w{3,4})(?:$|\?|#)/i;
            g.DATA_URI = /^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;(charset=[\w-]+|base64))?,(.*)/i;
            g.SVG_SIZE = /<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i;
            g.SHAPES = {
                POLY: 0,
                RECT: 1,
                CIRC: 2,
                ELIP: 3,
                RREC: 4
            };
            g.PRECISION = {
                LOW: "lowp",
                MEDIUM: "mediump",
                HIGH: "highp"
            };
            g.TRANSFORM_MODE = {
                STATIC: 0,
                DYNAMIC: 1
            };
            g.TEXT_GRADIENT = {
                LINEAR_VERTICAL: 0,
                LINEAR_HORIZONTAL: 1
            }
        }, {}],
        45: [function(a, c, g) {
            g.__esModule = !0;
            var h = a("../math");
            a = function() {
                function a() {
                    if (!(this instanceof a)) throw new TypeError("Cannot call a class as a function");
                    this.minY = this.minX = Infinity;
                    this.maxY = this.maxX = -Infinity;
                    this.rect = null
                }
                a.prototype.isEmpty = function() {
                    return this.minX > this.maxX || this.minY > this.maxY
                };
                a.prototype.clear = function() {
                    this.updateID++;
                    this.minY = this.minX = Infinity;
                    this.maxY = this.maxX = -Infinity
                };
                a.prototype.getRectangle =
                    function(a) {
                        if (this.minX > this.maxX || this.minY > this.maxY) return h.Rectangle.EMPTY;
                        a = a || new h.Rectangle(0, 0, 1, 1);
                        a.x = this.minX;
                        a.y = this.minY;
                        a.width = this.maxX - this.minX;
                        a.height = this.maxY - this.minY;
                        return a
                    };
                a.prototype.addPoint = function(a) {
                    this.minX = Math.min(this.minX, a.x);
                    this.maxX = Math.max(this.maxX, a.x);
                    this.minY = Math.min(this.minY, a.y);
                    this.maxY = Math.max(this.maxY, a.y)
                };
                a.prototype.addQuad = function(a) {
                    var f = this.minX,
                        d = this.minY,
                        e = this.maxX,
                        b = this.maxY,
                        m = a[0],
                        c = a[1],
                        f = m < f ? m : f,
                        d = c < d ? c : d,
                        e = m > e ? m :
                        e,
                        b = c > b ? c : b,
                        m = a[2],
                        c = a[3],
                        f = m < f ? m : f,
                        d = c < d ? c : d,
                        e = m > e ? m : e,
                        b = c > b ? c : b,
                        m = a[4],
                        c = a[5],
                        f = m < f ? m : f,
                        d = c < d ? c : d,
                        e = m > e ? m : e,
                        b = c > b ? c : b,
                        m = a[6],
                        c = a[7];
                    this.minX = m < f ? m : f;
                    this.minY = c < d ? c : d;
                    this.maxX = m > e ? m : e;
                    this.maxY = c > b ? c : b
                };
                a.prototype.addFrame = function(a, f, d, e, b) {
                    var m = a.worldTransform;
                    a = m.a;
                    var c = m.b,
                        q = m.c,
                        g = m.d,
                        h = m.tx,
                        m = m.ty,
                        n = this.minX,
                        v = this.minY,
                        t = this.maxX,
                        z = this.maxY,
                        r = a * f + q * d + h,
                        A = c * f + g * d + m,
                        n = r < n ? r : n,
                        v = A < v ? A : v,
                        t = r > t ? r : t,
                        z = A > z ? A : z,
                        r = a * e + q * d + h,
                        A = c * e + g * d + m,
                        n = r < n ? r : n,
                        v = A < v ? A : v,
                        t = r > t ? r : t,
                        z = A > z ? A : z,
                        r = a * f + q * b + h,
                        A = c * f + g * b + m,
                        n = r < n ? r : n,
                        v = A < v ? A : v,
                        t = r > t ? r : t,
                        z = A > z ? A : z,
                        r = a * e + q * b + h,
                        A = c * e + g * b + m;
                    this.minX = r < n ? r : n;
                    this.minY = A < v ? A : v;
                    this.maxX = r > t ? r : t;
                    this.maxY = A > z ? A : z
                };
                a.prototype.addVertices = function(a, f, d, e) {
                    var b = a.worldTransform;
                    a = b.a;
                    for (var m = b.b, c = b.c, q = b.d, g = b.tx, b = b.ty, h = this.minX, n = this.minY, v = this.maxX, t = this.maxY; d < e; d += 2) var z = f[d],
                        r = f[d + 1],
                        A = a * z + c * r + g,
                        z = q * r + m * z + b,
                        h = A < h ? A : h,
                        n = z < n ? z : n,
                        v = A > v ? A : v,
                        t = z > t ? z : t;
                    this.minX = h;
                    this.minY = n;
                    this.maxX = v;
                    this.maxY = t
                };
                a.prototype.addBounds = function(a) {
                    var f = this.minX,
                        d =
                        this.minY,
                        e = this.maxX,
                        b = this.maxY;
                    this.minX = a.minX < f ? a.minX : f;
                    this.minY = a.minY < d ? a.minY : d;
                    this.maxX = a.maxX > e ? a.maxX : e;
                    this.maxY = a.maxY > b ? a.maxY : b
                };
                a.prototype.addBoundsMask = function(a, f) {
                    var d = a.minX > f.minX ? a.minX : f.minX,
                        e = a.minY > f.minY ? a.minY : f.minY,
                        b = a.maxX < f.maxX ? a.maxX : f.maxX,
                        m = a.maxY < f.maxY ? a.maxY : f.maxY;
                    if (d <= b && e <= m) {
                        var c = this.minX,
                            q = this.minY,
                            g = this.maxX,
                            h = this.maxY;
                        this.minX = d < c ? d : c;
                        this.minY = e < q ? e : q;
                        this.maxX = b > g ? b : g;
                        this.maxY = m > h ? m : h
                    }
                };
                a.prototype.addBoundsArea = function(a, f) {
                    var d = a.minX >
                        f.x ? a.minX : f.x,
                        e = a.minY > f.y ? a.minY : f.y,
                        b = a.maxX < f.x + f.width ? a.maxX : f.x + f.width,
                        m = a.maxY < f.y + f.height ? a.maxY : f.y + f.height;
                    if (d <= b && e <= m) {
                        var c = this.minX,
                            q = this.minY,
                            g = this.maxX,
                            h = this.maxY;
                        this.minX = d < c ? d : c;
                        this.minY = e < q ? e : q;
                        this.maxX = b > g ? b : g;
                        this.maxY = m > h ? m : h
                    }
                };
                return a
            }();
            g["default"] = a
        }, {
            "../math": 68
        }],
        46: [function(a, c, g) {
            function h(a, d) {
                if ("function" !== typeof d && null !== d) throw new TypeError("Super expression must either be null or a function, not " + typeof d);
                a.prototype = Object.create(d && d.prototype, {
                    constructor: {
                        value: a,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                });
                d && (Object.setPrototypeOf ? Object.setPrototypeOf(a, d) : a.__proto__ = d)
            }
            g.__esModule = !0;
            var n = function() {
                    function a(a, e) {
                        for (var b = 0; b < e.length; b++) {
                            var d = e[b];
                            d.enumerable = d.enumerable || !1;
                            d.configurable = !0;
                            "value" in d && (d.writable = !0);
                            Object.defineProperty(a, d.key, d)
                        }
                    }
                    return function(d, e, b) {
                        e && a(d.prototype, e);
                        b && a(d, b);
                        return d
                    }
                }(),
                m = a("../utils");
            a = a("./DisplayObject");
            a = function(a) {
                function d() {
                    if (!(this instanceof d)) throw new TypeError("Cannot call a class as a function");
                    var e;
                    e = a.call(this);
                    if (!this) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                    e = !e || "object" !== typeof e && "function" !== typeof e ? this : e;
                    e.children = [];
                    return e
                }
                h(d, a);
                d.prototype.onChildrenChange = function() {};
                d.prototype.addChild = function(a) {
                    var b = arguments.length;
                    if (1 < b)
                        for (var d = 0; d < b; d++) this.addChild(arguments[d]);
                    else a.parent && a.parent.removeChild(a), a.parent = this, this.transform._parentID = -1, this._boundsID++, this.children.push(a), this.onChildrenChange(this.children.length -
                        1), a.emit("added", this);
                    return a
                };
                d.prototype.addChildAt = function(a, b) {
                    if (0 > b || b > this.children.length) throw Error(a + "addChildAt: The index " + b + " supplied is out of bounds " + this.children.length);
                    a.parent && a.parent.removeChild(a);
                    a.parent = this;
                    this.children.splice(b, 0, a);
                    this.onChildrenChange(b);
                    a.emit("added", this);
                    return a
                };
                d.prototype.swapChildren = function(a, b) {
                    if (a !== b) {
                        var d = this.getChildIndex(a),
                            e = this.getChildIndex(b);
                        this.children[d] = b;
                        this.children[e] = a;
                        this.onChildrenChange(d < e ? d : e)
                    }
                };
                d.prototype.getChildIndex =
                    function(a) {
                        a = this.children.indexOf(a);
                        if (-1 === a) throw Error("The supplied DisplayObject must be a child of the caller");
                        return a
                    };
                d.prototype.setChildIndex = function(a, b) {
                    if (0 > b || b >= this.children.length) throw Error("The supplied index is out of bounds");
                    var d = this.getChildIndex(a);
                    (0, m.removeItems)(this.children, d, 1);
                    this.children.splice(b, 0, a);
                    this.onChildrenChange(b)
                };
                d.prototype.getChildAt = function(a) {
                    if (0 > a || a >= this.children.length) throw Error("getChildAt: Index (" + a + ") does not exist.");
                    return this.children[a]
                };
                d.prototype.removeChild = function(a) {
                    var b = arguments.length;
                    if (1 < b)
                        for (var d = 0; d < b; d++) this.removeChild(arguments[d]);
                    else {
                        b = this.children.indexOf(a);
                        if (-1 === b) return null;
                        a.parent = null;
                        (0, m.removeItems)(this.children, b, 1);
                        this.transform._parentID = -1;
                        this._boundsID++;
                        this.onChildrenChange(b);
                        a.emit("removed", this)
                    }
                    return a
                };
                d.prototype.removeChildAt = function(a) {
                    var b = this.getChildAt(a);
                    b.parent = null;
                    (0, m.removeItems)(this.children, a, 1);
                    this.onChildrenChange(a);
                    b.emit("removed", this);
                    return b
                };
                d.prototype.removeChildren =
                    function() {
                        var a = 0 < arguments.length && void 0 !== arguments[0] ? arguments[0] : 0,
                            b = arguments[1],
                            b = "number" === typeof b ? b : this.children.length,
                            d = b - a;
                        if (0 < d && d <= b) {
                            b = this.children.splice(a, d);
                            for (d = 0; d < b.length; ++d) b[d].parent = null;
                            this.onChildrenChange(a);
                            for (a = 0; a < b.length; ++a) b[a].emit("removed", this);
                            return b
                        }
                        if (0 === d && 0 === this.children.length) return [];
                        throw new RangeError("removeChildren: numeric values are outside the acceptable range.");
                    };
                d.prototype.updateTransform = function() {
                    this._boundsID++;
                    this.transform.updateTransform(this.parent.transform);
                    this.worldAlpha = this.alpha * this.parent.worldAlpha;
                    for (var a = 0, b = this.children.length; a < b; ++a) {
                        var d = this.children[a];
                        d.visible && d.updateTransform()
                    }
                };
                d.prototype.calculateBounds = function() {
                    this._bounds.clear();
                    this._calculateBounds();
                    for (var a = 0; a < this.children.length; a++) {
                        var b = this.children[a];
                        b.visible && b.renderable && (b.calculateBounds(), b._mask ? (b._mask.calculateBounds(), this._bounds.addBoundsMask(b._bounds, b._mask._bounds)) : b.filterArea ? this._bounds.addBoundsArea(b._bounds, b.filterArea) : this._bounds.addBounds(b._bounds))
                    }
                    this._lastBoundsID =
                        this._boundsID
                };
                d.prototype._calculateBounds = function() {};
                d.prototype.renderWebGL = function(a) {
                    if (this.visible && !(0 >= this.worldAlpha) && this.renderable)
                        if (this._mask || this._filters) this.renderAdvancedWebGL(a);
                        else {
                            this._renderWebGL(a);
                            for (var b = 0, d = this.children.length; b < d; ++b) this.children[b].renderWebGL(a)
                        }
                };
                d.prototype.renderAdvancedWebGL = function(a) {
                    a.flush();
                    var b = this._filters,
                        d = this._mask;
                    if (b) {
                        this._enabledFilters || (this._enabledFilters = []);
                        for (var e = this._enabledFilters.length = 0; e < b.length; e++) b[e].enabled &&
                            this._enabledFilters.push(b[e]);
                        this._enabledFilters.length && a.filterManager.pushFilter(this, this._enabledFilters)
                    }
                    d && a.maskManager.pushMask(this, this._mask);
                    this._renderWebGL(a);
                    for (var e = 0, f = this.children.length; e < f; e++) this.children[e].renderWebGL(a);
                    a.flush();
                    d && a.maskManager.popMask(this, this._mask);
                    b && this._enabledFilters && this._enabledFilters.length && a.filterManager.popFilter()
                };
                d.prototype._renderWebGL = function(a) {};
                d.prototype._renderCanvas = function(a) {};
                d.prototype.renderCanvas = function(a) {
                    if (this.visible &&
                        !(0 >= this.worldAlpha) && this.renderable) {
                        this._mask && a.maskManager.pushMask(this._mask);
                        this._renderCanvas(a);
                        for (var b = 0, d = this.children.length; b < d; ++b) this.children[b].renderCanvas(a);
                        this._mask && a.maskManager.popMask(a)
                    }
                };
                d.prototype.destroy = function(d) {
                    a.prototype.destroy.call(this);
                    var b = "boolean" === typeof d ? d : d && d.children,
                        e = this.removeChildren(0, this.children.length);
                    if (b)
                        for (b = 0; b < e.length; ++b) e[b].destroy(d)
                };
                n(d, [{
                    key: "width",
                    get: function() {
                        return this.scale.x * this.getLocalBounds().width
                    },
                    set: function(a) {
                        var b = this.getLocalBounds().width;
                        this.scale.x = 0 !== b ? a / b : 1;
                        this._width = a
                    }
                }, {
                    key: "height",
                    get: function() {
                        return this.scale.y * this.getLocalBounds().height
                    },
                    set: function(a) {
                        var b = this.getLocalBounds().height;
                        this.scale.y = 0 !== b ? a / b : 1;
                        this._height = a
                    }
                }]);
                return d
            }((a && a.__esModule ? a : {
                "default": a
            })["default"]);
            g["default"] = a;
            a.prototype.containerUpdateTransform = a.prototype.updateTransform
        }, {
            "../utils": 119,
            "./DisplayObject": 47
        }],
        47: [function(a, c, g) {
            function h(a) {
                return a && a.__esModule ? a : {
                    "default": a
                }
            }

            function n(a, b) {
                if ("function" !== typeof b && null !== b) throw new TypeError("Super expression must either be null or a function, not " + typeof b);
                a.prototype = Object.create(b && b.prototype, {
                    constructor: {
                        value: a,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                });
                b && (Object.setPrototypeOf ? Object.setPrototypeOf(a, b) : a.__proto__ = b)
            }
            g.__esModule = !0;
            var m = function() {
                function a(a, b) {
                    for (var d = 0; d < b.length; d++) {
                        var e = b[d];
                        e.enumerable = e.enumerable || !1;
                        e.configurable = !0;
                        "value" in e && (e.writable = !0);
                        Object.defineProperty(a,
                            e.key, e)
                    }
                }
                return function(b, d, e) {
                    d && a(b.prototype, d);
                    e && a(b, e);
                    return b
                }
            }();
            c = a("eventemitter3");
            c = h(c);
            var f = a("../const"),
                d = a("../settings"),
                e = h(d),
                d = a("./TransformStatic"),
                b = h(d),
                d = a("./Transform"),
                p = h(d),
                d = a("./Bounds"),
                u = h(d),
                q = a("../math");
            a = function(a) {
                function d() {
                    if (!(this instanceof d)) throw new TypeError("Cannot call a class as a function");
                    var m;
                    m = a.call(this);
                    if (!this) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                    m = !m || "object" !== typeof m && "function" !==
                        typeof m ? this : m;
                    var c = e["default"].TRANSFORM_MODE === f.TRANSFORM_MODE.STATIC ? b["default"] : p["default"];
                    m.tempDisplayObjectParent = null;
                    m.transform = new c;
                    m.alpha = 1;
                    m.visible = !0;
                    m.renderable = !0;
                    m.parent = null;
                    m.worldAlpha = 1;
                    m.filterArea = null;
                    m._filters = null;
                    m._enabledFilters = null;
                    m._bounds = new u["default"];
                    m._boundsID = 0;
                    m._lastBoundsID = -1;
                    m._boundsRect = null;
                    m._localBoundsRect = null;
                    m._mask = null;
                    return m
                }
                n(d, a);
                d.prototype.updateTransform = function() {
                    this.transform.updateTransform(this.parent.transform);
                    this.worldAlpha = this.alpha * this.parent.worldAlpha;
                    this._bounds.updateID++
                };
                d.prototype._recursivePostUpdateTransform = function() {
                    this.parent ? (this.parent._recursivePostUpdateTransform(), this.transform.updateTransform(this.parent.transform)) : this.transform.updateTransform(this._tempDisplayObjectParent.transform)
                };
                d.prototype.getBounds = function(a, b) {
                    a || (this.parent ? (this._recursivePostUpdateTransform(), this.updateTransform()) : (this.parent = this._tempDisplayObjectParent, this.updateTransform(), this.parent =
                        null));
                    this._boundsID !== this._lastBoundsID && this.calculateBounds();
                    b || (this._boundsRect || (this._boundsRect = new q.Rectangle), b = this._boundsRect);
                    return this._bounds.getRectangle(b)
                };
                d.prototype.getLocalBounds = function(a) {
                    var b = this.transform,
                        d = this.parent;
                    this.parent = null;
                    this.transform = this._tempDisplayObjectParent.transform;
                    a || (this._localBoundsRect || (this._localBoundsRect = new q.Rectangle), a = this._localBoundsRect);
                    a = this.getBounds(!1, a);
                    this.parent = d;
                    this.transform = b;
                    return a
                };
                d.prototype.toGlobal =
                    function(a, b) {
                        2 < arguments.length && void 0 !== arguments[2] && arguments[2] || (this._recursivePostUpdateTransform(), this.parent ? this.displayObjectUpdateTransform() : (this.parent = this._tempDisplayObjectParent, this.displayObjectUpdateTransform(), this.parent = null));
                        return this.worldTransform.apply(a, b)
                    };
                d.prototype.toLocal = function(a, b, d, e) {
                    b && (a = b.toGlobal(a, d, e));
                    e || (this._recursivePostUpdateTransform(), this.parent ? this.displayObjectUpdateTransform() : (this.parent = this._tempDisplayObjectParent, this.displayObjectUpdateTransform(),
                        this.parent = null));
                    return this.worldTransform.applyInverse(a, d)
                };
                d.prototype.renderWebGL = function(a) {};
                d.prototype.renderCanvas = function(a) {};
                d.prototype.setParent = function(a) {
                    if (!a || !a.addChild) throw Error("setParent: Argument must be a Container");
                    a.addChild(this);
                    return a
                };
                d.prototype.setTransform = function() {
                    var a = 1 < arguments.length && void 0 !== arguments[1] ? arguments[1] : 0,
                        b = 2 < arguments.length && void 0 !== arguments[2] ? arguments[2] : 1,
                        d = 3 < arguments.length && void 0 !== arguments[3] ? arguments[3] : 1,
                        e = 4 < arguments.length &&
                        void 0 !== arguments[4] ? arguments[4] : 0,
                        f = 5 < arguments.length && void 0 !== arguments[5] ? arguments[5] : 0,
                        m = 6 < arguments.length && void 0 !== arguments[6] ? arguments[6] : 0,
                        c = 7 < arguments.length && void 0 !== arguments[7] ? arguments[7] : 0,
                        p = 8 < arguments.length && void 0 !== arguments[8] ? arguments[8] : 0;
                    this.position.x = 0 < arguments.length && void 0 !== arguments[0] ? arguments[0] : 0;
                    this.position.y = a;
                    this.scale.x = b ? b : 1;
                    this.scale.y = d ? d : 1;
                    this.rotation = e;
                    this.skew.x = f;
                    this.skew.y = m;
                    this.pivot.x = c;
                    this.pivot.y = p;
                    return this
                };
                d.prototype.destroy =
                    function() {
                        this.removeAllListeners();
                        this.parent && this.parent.removeChild(this);
                        this.filterArea = this._mask = this._currentBounds = this._bounds = this.parent = this.transform = null;
                        this.interactiveChildren = this.interactive = !1
                    };
                m(d, [{
                        key: "_tempDisplayObjectParent",
                        get: function() {
                            null === this.tempDisplayObjectParent && (this.tempDisplayObjectParent = new d);
                            return this.tempDisplayObjectParent
                        }
                    }, {
                        key: "x",
                        get: function() {
                            return this.position.x
                        },
                        set: function(a) {
                            this.transform.position.x = a
                        }
                    }, {
                        key: "y",
                        get: function() {
                            return this.position.y
                        },
                        set: function(a) {
                            this.transform.position.y = a
                        }
                    }, {
                        key: "worldTransform",
                        get: function() {
                            return this.transform.worldTransform
                        }
                    }, {
                        key: "localTransform",
                        get: function() {
                            return this.transform.localTransform
                        }
                    }, {
                        key: "position",
                        get: function() {
                            return this.transform.position
                        },
                        set: function(a) {
                            this.transform.position.copy(a)
                        }
                    }, {
                        key: "scale",
                        get: function() {
                            return this.transform.scale
                        },
                        set: function(a) {
                            this.transform.scale.copy(a)
                        }
                    }, {
                        key: "pivot",
                        get: function() {
                            return this.transform.pivot
                        },
                        set: function(a) {
                            this.transform.pivot.copy(a)
                        }
                    },
                    {
                        key: "skew",
                        get: function() {
                            return this.transform.skew
                        },
                        set: function(a) {
                            this.transform.skew.copy(a)
                        }
                    }, {
                        key: "rotation",
                        get: function() {
                            return this.transform.rotation
                        },
                        set: function(a) {
                            this.transform.rotation = a
                        }
                    }, {
                        key: "worldVisible",
                        get: function() {
                            var a = this;
                            do {
                                if (!a.visible) return !1;
                                a = a.parent
                            } while (a);
                            return !0
                        }
                    }, {
                        key: "mask",
                        get: function() {
                            return this._mask
                        },
                        set: function(a) {
                            this._mask && (this._mask.renderable = !0);
                            if (this._mask = a) this._mask.renderable = !1
                        }
                    }, {
                        key: "filters",
                        get: function() {
                            return this._filters &&
                                this._filters.slice()
                        },
                        set: function(a) {
                            this._filters = a && a.slice()
                        }
                    }
                ]);
                return d
            }(c["default"]);
            g["default"] = a;
            a.prototype.displayObjectUpdateTransform = a.prototype.updateTransform
        }, {
            "../const": 44,
            "../math": 68,
            "../settings": 99,
            "./Bounds": 45,
            "./Transform": 48,
            "./TransformStatic": 50,
            eventemitter3: 3
        }],
        48: [function(a, c, g) {
            function h(a, d) {
                if ("function" !== typeof d && null !== d) throw new TypeError("Super expression must either be null or a function, not " + typeof d);
                a.prototype = Object.create(d && d.prototype, {
                    constructor: {
                        value: a,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                });
                d && (Object.setPrototypeOf ? Object.setPrototypeOf(a, d) : a.__proto__ = d)
            }
            g.__esModule = !0;
            var n = function() {
                    function a(a, e) {
                        for (var b = 0; b < e.length; b++) {
                            var d = e[b];
                            d.enumerable = d.enumerable || !1;
                            d.configurable = !0;
                            "value" in d && (d.writable = !0);
                            Object.defineProperty(a, d.key, d)
                        }
                    }
                    return function(d, e, b) {
                        e && a(d.prototype, e);
                        b && a(d, b);
                        return d
                    }
                }(),
                m = a("../math");
            a = a("./TransformBase");
            a = function(a) {
                function d() {
                    if (!(this instanceof d)) throw new TypeError("Cannot call a class as a function");
                    var e;
                    e = a.call(this);
                    if (!this) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                    e = !e || "object" !== typeof e && "function" !== typeof e ? this : e;
                    e.position = new m.Point(0, 0);
                    e.scale = new m.Point(1, 1);
                    e.skew = new m.ObservablePoint(e.updateSkew, e, 0, 0);
                    e.pivot = new m.Point(0, 0);
                    e._rotation = 0;
                    e._cx = 1;
                    e._sx = 0;
                    e._cy = 0;
                    e._sy = 1;
                    return e
                }
                h(d, a);
                d.prototype.updateSkew = function() {
                    this._cx = Math.cos(this._rotation + this.skew._y);
                    this._sx = Math.sin(this._rotation + this.skew._y);
                    this._cy = -Math.sin(this._rotation -
                        this.skew._x);
                    this._sy = Math.cos(this._rotation - this.skew._x)
                };
                d.prototype.updateLocalTransform = function() {
                    var a = this.localTransform;
                    a.a = this._cx * this.scale.x;
                    a.b = this._sx * this.scale.x;
                    a.c = this._cy * this.scale.y;
                    a.d = this._sy * this.scale.y;
                    a.tx = this.position.x - (this.pivot.x * a.a + this.pivot.y * a.c);
                    a.ty = this.position.y - (this.pivot.x * a.b + this.pivot.y * a.d)
                };
                d.prototype.updateTransform = function(a) {
                    var b = this.localTransform;
                    b.a = this._cx * this.scale.x;
                    b.b = this._sx * this.scale.x;
                    b.c = this._cy * this.scale.y;
                    b.d = this._sy *
                        this.scale.y;
                    b.tx = this.position.x - (this.pivot.x * b.a + this.pivot.y * b.c);
                    b.ty = this.position.y - (this.pivot.x * b.b + this.pivot.y * b.d);
                    a = a.worldTransform;
                    var d = this.worldTransform;
                    d.a = b.a * a.a + b.b * a.c;
                    d.b = b.a * a.b + b.b * a.d;
                    d.c = b.c * a.a + b.d * a.c;
                    d.d = b.c * a.b + b.d * a.d;
                    d.tx = b.tx * a.a + b.ty * a.c + a.tx;
                    d.ty = b.tx * a.b + b.ty * a.d + a.ty;
                    this._worldID++
                };
                d.prototype.setFromMatrix = function(a) {
                    a.decompose(this)
                };
                n(d, [{
                    key: "rotation",
                    get: function() {
                        return this._rotation
                    },
                    set: function(a) {
                        this._rotation = a;
                        this.updateSkew()
                    }
                }]);
                return d
            }((a &&
                a.__esModule ? a : {
                    "default": a
                })["default"]);
            g["default"] = a
        }, {
            "../math": 68,
            "./TransformBase": 49
        }],
        49: [function(a, c, g) {
            g.__esModule = !0;
            var h = a("../math");
            a = function() {
                function a() {
                    if (!(this instanceof a)) throw new TypeError("Cannot call a class as a function");
                    this.worldTransform = new h.Matrix;
                    this.localTransform = new h.Matrix;
                    this._parentID = this._worldID = 0
                }
                a.prototype.updateLocalTransform = function() {};
                a.prototype.updateTransform = function(a) {
                    a = a.worldTransform;
                    var f = this.worldTransform,
                        d = this.localTransform;
                    f.a = d.a * a.a + d.b * a.c;
                    f.b = d.a * a.b + d.b * a.d;
                    f.c = d.c * a.a + d.d * a.c;
                    f.d = d.c * a.b + d.d * a.d;
                    f.tx = d.tx * a.a + d.ty * a.c + a.tx;
                    f.ty = d.tx * a.b + d.ty * a.d + a.ty;
                    this._worldID++
                };
                return a
            }();
            g["default"] = a;
            a.prototype.updateWorldTransform = a.prototype.updateTransform;
            a.IDENTITY = new a
        }, {
            "../math": 68
        }],
        50: [function(a, c, g) {
            function h(a, d) {
                if ("function" !== typeof d && null !== d) throw new TypeError("Super expression must either be null or a function, not " + typeof d);
                a.prototype = Object.create(d && d.prototype, {
                    constructor: {
                        value: a,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                });
                d && (Object.setPrototypeOf ? Object.setPrototypeOf(a, d) : a.__proto__ = d)
            }
            g.__esModule = !0;
            var n = function() {
                    function a(a, e) {
                        for (var b = 0; b < e.length; b++) {
                            var d = e[b];
                            d.enumerable = d.enumerable || !1;
                            d.configurable = !0;
                            "value" in d && (d.writable = !0);
                            Object.defineProperty(a, d.key, d)
                        }
                    }
                    return function(d, e, b) {
                        e && a(d.prototype, e);
                        b && a(d, b);
                        return d
                    }
                }(),
                m = a("../math");
            a = a("./TransformBase");
            a = function(a) {
                function d() {
                    if (!(this instanceof d)) throw new TypeError("Cannot call a class as a function");
                    var e;
                    e = a.call(this);
                    if (!this) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                    e = !e || "object" !== typeof e && "function" !== typeof e ? this : e;
                    e.position = new m.ObservablePoint(e.onChange, e, 0, 0);
                    e.scale = new m.ObservablePoint(e.onChange, e, 1, 1);
                    e.pivot = new m.ObservablePoint(e.onChange, e, 0, 0);
                    e.skew = new m.ObservablePoint(e.updateSkew, e, 0, 0);
                    e._rotation = 0;
                    e._cx = 1;
                    e._sx = 0;
                    e._cy = 0;
                    e._sy = 1;
                    e._localID = 0;
                    e._currentLocalID = 0;
                    return e
                }
                h(d, a);
                d.prototype.onChange = function() {
                    this._localID++
                };
                d.prototype.updateSkew = function() {
                    this._cx = Math.cos(this._rotation + this.skew._y);
                    this._sx = Math.sin(this._rotation + this.skew._y);
                    this._cy = -Math.sin(this._rotation - this.skew._x);
                    this._sy = Math.cos(this._rotation - this.skew._x);
                    this._localID++
                };
                d.prototype.updateLocalTransform = function() {
                    var a = this.localTransform;
                    this._localID !== this._currentLocalID && (a.a = this._cx * this.scale._x, a.b = this._sx * this.scale._x, a.c = this._cy * this.scale._y, a.d = this._sy * this.scale._y, a.tx = this.position._x - (this.pivot._x * a.a + this.pivot._y *
                        a.c), a.ty = this.position._y - (this.pivot._x * a.b + this.pivot._y * a.d), this._currentLocalID = this._localID, this._parentID = -1)
                };
                d.prototype.updateTransform = function(a) {
                    var b = this.localTransform;
                    this._localID !== this._currentLocalID && (b.a = this._cx * this.scale._x, b.b = this._sx * this.scale._x, b.c = this._cy * this.scale._y, b.d = this._sy * this.scale._y, b.tx = this.position._x - (this.pivot._x * b.a + this.pivot._y * b.c), b.ty = this.position._y - (this.pivot._x * b.b + this.pivot._y * b.d), this._currentLocalID = this._localID, this._parentID = -1);
                    if (this._parentID !== a._worldID) {
                        var d = a.worldTransform,
                            e = this.worldTransform;
                        e.a = b.a * d.a + b.b * d.c;
                        e.b = b.a * d.b + b.b * d.d;
                        e.c = b.c * d.a + b.d * d.c;
                        e.d = b.c * d.b + b.d * d.d;
                        e.tx = b.tx * d.a + b.ty * d.c + d.tx;
                        e.ty = b.tx * d.b + b.ty * d.d + d.ty;
                        this._parentID = a._worldID;
                        this._worldID++
                    }
                };
                d.prototype.setFromMatrix = function(a) {
                    a.decompose(this);
                    this._localID++
                };
                n(d, [{
                    key: "rotation",
                    get: function() {
                        return this._rotation
                    },
                    set: function(a) {
                        this._rotation = a;
                        this.updateSkew()
                    }
                }]);
                return d
            }((a && a.__esModule ? a : {
                "default": a
            })["default"]);
            g["default"] = a
        }, {
            "../math": 68,
            "./TransformBase": 49
        }],
        51: [function(a, c, g) {
            function h(a) {
                return a && a.__esModule ? a : {
                    "default": a
                }
            }

            function n(a, b) {
                if ("function" !== typeof b && null !== b) throw new TypeError("Super expression must either be null or a function, not " + typeof b);
                a.prototype = Object.create(b && b.prototype, {
                    constructor: {
                        value: a,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                });
                b && (Object.setPrototypeOf ? Object.setPrototypeOf(a, b) : a.__proto__ = b)
            }
            g.__esModule = !0;
            c = a("../display/Container");
            c = h(c);
            var m = a("../textures/RenderTexture"),
                f = h(m),
                m = a("../textures/Texture"),
                d = h(m),
                m = a("./GraphicsData"),
                e = h(m),
                m = a("../sprites/Sprite"),
                b = h(m),
                p = a("../math"),
                u = a("../utils"),
                q = a("../const"),
                m = a("../display/Bounds"),
                x = h(m),
                m = a("./utils/bezierCurveTo"),
                y = h(m);
            a = a("../renderers/canvas/CanvasRenderer");
            var w = h(a),
                v = void 0,
                t = new p.Matrix,
                z = new p.Point,
                r = new Float32Array(4),
                A = new Float32Array(4);
            a = function(a) {
                function m() {
                    if (!(this instanceof m)) throw new TypeError("Cannot call a class as a function");
                    var b;
                    b = a.call(this);
                    if (!this) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                    b = !b || "object" !== typeof b && "function" !== typeof b ? this : b;
                    b.fillAlpha = 1;
                    b.lineWidth = 0;
                    b.lineColor = 0;
                    b.graphicsData = [];
                    b.tint = 16777215;
                    b._prevTint = 16777215;
                    b.blendMode = q.BLEND_MODES.NORMAL;
                    b.currentPath = null;
                    b._webGL = {};
                    b.isMask = !1;
                    b.boundsPadding = 0;
                    b._localBounds = new x["default"];
                    b.dirty = 0;
                    b.fastRectDirty = -1;
                    b.clearDirty = 0;
                    b.boundsDirty = -1;
                    b.cachedSpriteDirty = !1;
                    b._spriteRect = null;
                    b._fastRect = !1;
                    return b
                }
                n(m, a);
                m.prototype.clone = function() {
                    var a = new m;
                    a.renderable = this.renderable;
                    a.fillAlpha = this.fillAlpha;
                    a.lineWidth = this.lineWidth;
                    a.lineColor = this.lineColor;
                    a.tint = this.tint;
                    a.blendMode = this.blendMode;
                    a.isMask = this.isMask;
                    a.boundsPadding = this.boundsPadding;
                    a.dirty = 0;
                    a.cachedSpriteDirty = this.cachedSpriteDirty;
                    for (var b = 0; b < this.graphicsData.length; ++b) a.graphicsData.push(this.graphicsData[b].clone());
                    a.currentPath = a.graphicsData[a.graphicsData.length - 1];
                    a.updateLocalBounds();
                    return a
                };
                m.prototype.lineStyle = function() {
                    var a = 1 < arguments.length && void 0 !== arguments[1] ? arguments[1] : 0,
                        b = 2 < arguments.length &&
                        void 0 !== arguments[2] ? arguments[2] : 1;
                    this.lineWidth = 0 < arguments.length && void 0 !== arguments[0] ? arguments[0] : 0;
                    this.lineColor = a;
                    this.lineAlpha = b;
                    this.currentPath && (this.currentPath.shape.points.length ? (a = new p.Polygon(this.currentPath.shape.points.slice(-2)), a.closed = !1, this.drawShape(a)) : (this.currentPath.lineWidth = this.lineWidth, this.currentPath.lineColor = this.lineColor, this.currentPath.lineAlpha = this.lineAlpha));
                    return this
                };
                m.prototype.moveTo = function(a, b) {
                    var d = new p.Polygon([a, b]);
                    d.closed = !1;
                    this.drawShape(d);
                    return this
                };
                m.prototype.lineTo = function(a, b) {
                    this.currentPath.shape.points.push(a, b);
                    this.dirty++;
                    return this
                };
                m.prototype.quadraticCurveTo = function(a, b, d, e) {
                    this.currentPath ? 0 === this.currentPath.shape.points.length && (this.currentPath.shape.points = [0, 0]) : this.moveTo(0, 0);
                    var f = this.currentPath.shape.points,
                        m, c;
                    0 === f.length && this.moveTo(0, 0);
                    for (var q = f[f.length - 2], p = f[f.length - 1], g = 1; 20 >= g; ++g) {
                        var h = g / 20;
                        m = q + (a - q) * h;
                        c = p + (b - p) * h;
                        f.push(m + (a + (d - a) * h - m) * h, c + (b + (e - b) * h - c) * h)
                    }
                    this.dirty++;
                    return this
                };
                m.prototype.bezierCurveTo = function(a, b, d, e, f, m) {
                    this.currentPath ? 0 === this.currentPath.shape.points.length && (this.currentPath.shape.points = [0, 0]) : this.moveTo(0, 0);
                    var c = this.currentPath.shape.points,
                        q = c[c.length - 2],
                        p = c[c.length - 1];
                    c.length -= 2;
                    (0, y["default"])(q, p, a, b, d, e, f, m, c);
                    this.dirty++;
                    return this
                };
                m.prototype.arcTo = function(a, b, d, e, f) {
                    this.currentPath ? 0 === this.currentPath.shape.points.length && this.currentPath.shape.points.push(a, b) : this.moveTo(a, b);
                    var m = this.currentPath.shape.points,
                        c = m[m.length - 1] - b,
                        q = m[m.length - 2] - a;
                    e -= b;
                    d -= a;
                    var p = Math.abs(c * d - q * e);
                    if (1E-8 > p || 0 === f) m[m.length - 2] === a && m[m.length - 1] === b || m.push(a, b);
                    else {
                        var g = c * c + q * q,
                            h = e * e + d * d,
                            n = c * e + q * d,
                            m = f * Math.sqrt(g) / p,
                            p = f * Math.sqrt(h) / p,
                            g = m * n / g,
                            h = p * n / h,
                            n = m * d + p * q,
                            x = m * e + p * c;
                        this.arc(n + a, x + b, f, Math.atan2(c * (p + g) - x, q * (p + g) - n), Math.atan2(e * (m + h) - x, d * (m + h) - n), q * e > d * c)
                    }
                    this.dirty++;
                    return this
                };
                m.prototype.arc = function(a, b, d, e, f) {
                    var m = 5 < arguments.length && void 0 !== arguments[5] ? arguments[5] : !1;
                    if (e === f) return this;
                    !m && f <= e ? f +=
                        2 * Math.PI : m && e <= f && (e += 2 * Math.PI);
                    var c = f - e,
                        q = 40 * Math.ceil(Math.abs(c) / (2 * Math.PI));
                    if (0 === c) return this;
                    var p = a + Math.cos(e) * d,
                        g = b + Math.sin(e) * d;
                    (m = this.currentPath ? this.currentPath.shape.points : null) ? m[m.length - 2] === p && m[m.length - 1] === g || m.push(p, g): (this.moveTo(p, g), m = this.currentPath.shape.points);
                    for (var c = c / (2 * q), p = 2 * c, g = Math.cos(c), h = Math.sin(c), q = q - 1, n = q % 1 / q, x = 0; x <= q; ++x) {
                        var u = c + e + p * (x + n * x),
                            y = Math.cos(u),
                            u = -Math.sin(u);
                        m.push((g * y + h * u) * d + a, (g * -u + h * y) * d + b)
                    }
                    this.dirty++;
                    return this
                };
                m.prototype.beginFill =
                    function() {
                        var a = 0 < arguments.length && void 0 !== arguments[0] ? arguments[0] : 0,
                            b = 1 < arguments.length && void 0 !== arguments[1] ? arguments[1] : 1;
                        this.filling = !0;
                        this.fillColor = a;
                        this.fillAlpha = b;
                        this.currentPath && 2 >= this.currentPath.shape.points.length && (this.currentPath.fill = this.filling, this.currentPath.fillColor = this.fillColor, this.currentPath.fillAlpha = this.fillAlpha);
                        return this
                    };
                m.prototype.endFill = function() {
                    this.filling = !1;
                    this.fillColor = null;
                    this.fillAlpha = 1;
                    return this
                };
                m.prototype.drawRect = function(a,
                    b, d, e) {
                    this.drawShape(new p.Rectangle(a, b, d, e));
                    return this
                };
                m.prototype.drawRoundedRect = function(a, b, d, e, f) {
                    this.drawShape(new p.RoundedRectangle(a, b, d, e, f));
                    return this
                };
                m.prototype.drawCircle = function(a, b, d) {
                    this.drawShape(new p.Circle(a, b, d));
                    return this
                };
                m.prototype.drawEllipse = function(a, b, d, e) {
                    this.drawShape(new p.Ellipse(a, b, d, e));
                    return this
                };
                m.prototype.drawPolygon = function(a) {
                    var b = a,
                        d = !0;
                    b instanceof p.Polygon && (d = b.closed, b = b.points);
                    if (!Array.isArray(b))
                        for (var b = Array(arguments.length),
                                e = 0; e < b.length; ++e) b[e] = arguments[e];
                    b = new p.Polygon(b);
                    b.closed = d;
                    this.drawShape(b);
                    return this
                };
                m.prototype.clear = function() {
                    if (this.lineWidth || this.filling || 0 < this.graphicsData.length) this.lineWidth = 0, this.filling = !1, this.boundsDirty = -1, this.dirty++, this.clearDirty++, this.graphicsData.length = 0;
                    this._spriteRect = this.currentPath = null;
                    return this
                };
                m.prototype.isFastRect = function() {
                    return 1 === this.graphicsData.length && this.graphicsData[0].shape.type === q.SHAPES.RECT && !this.graphicsData[0].lineWidth
                };
                m.prototype._renderWebGL = function(a) {
                    this.dirty !== this.fastRectDirty && (this.fastRectDirty = this.dirty, this._fastRect = this.isFastRect());
                    this._fastRect ? this._renderSpriteRect(a) : (a.setObjectRenderer(a.plugins.graphics), a.plugins.graphics.render(this))
                };
                m.prototype._renderSpriteRect = function(a) {
                    var e = this.graphicsData[0].shape;
                    if (!this._spriteRect) {
                        if (!m._SPRITE_TEXTURE) {
                            m._SPRITE_TEXTURE = f["default"].create(10, 10);
                            var c = document.createElement("canvas");
                            c.width = 10;
                            c.height = 10;
                            var q = c.getContext("2d");
                            q.fillStyle = "white";
                            q.fillRect(0, 0, 10, 10);
                            m._SPRITE_TEXTURE = d["default"].fromCanvas(c)
                        }
                        this._spriteRect = new b["default"](m._SPRITE_TEXTURE)
                    }
                    16777215 === this.tint ? this._spriteRect.tint = this.graphicsData[0].fillColor : ((0, u.hex2rgb)(this.graphicsData[0].fillColor, r), (0, u.hex2rgb)(this.tint, A), r[0] *= A[0], r[1] *= A[1], r[2] *= A[2], this._spriteRect.tint = (0, u.rgb2hex)(r));
                    this._spriteRect.alpha = this.graphicsData[0].fillAlpha;
                    this._spriteRect.worldAlpha = this.worldAlpha * this._spriteRect.alpha;
                    m._SPRITE_TEXTURE._frame.width =
                        e.width;
                    m._SPRITE_TEXTURE._frame.height = e.height;
                    this._spriteRect.transform.worldTransform = this.transform.worldTransform;
                    this._spriteRect.anchor.set(-e.x / e.width, -e.y / e.height);
                    this._spriteRect._onAnchorUpdate();
                    this._spriteRect._renderWebGL(a)
                };
                m.prototype._renderCanvas = function(a) {
                    !0 !== this.isMask && a.plugins.graphics.render(this)
                };
                m.prototype._calculateBounds = function() {
                    this.boundsDirty !== this.dirty && (this.boundsDirty = this.dirty, this.updateLocalBounds(), this.cachedSpriteDirty = !0);
                    var a = this._localBounds;
                    this._bounds.addFrame(this.transform, a.minX, a.minY, a.maxX, a.maxY)
                };
                m.prototype.containsPoint = function(a) {
                    this.worldTransform.applyInverse(a, z);
                    a = this.graphicsData;
                    for (var b = 0; b < a.length; ++b) {
                        var d = a[b];
                        if (d.fill && d.shape && d.shape.contains(z.x, z.y)) return !0
                    }
                    return !1
                };
                m.prototype.updateLocalBounds = function() {
                    var a = Infinity,
                        b = -Infinity,
                        d = Infinity,
                        e = -Infinity;
                    if (this.graphicsData.length)
                        for (var f, m, c, p, g, h = 0; h < this.graphicsData.length; h++) {
                            f = this.graphicsData[h];
                            c = f.type;
                            var n = f.lineWidth;
                            f = f.shape;
                            if (c ===
                                q.SHAPES.RECT || c === q.SHAPES.RREC) m = f.x - n / 2, c = f.y - n / 2, p = f.width + n, g = f.height + n, a = m < a ? m : a, b = m + p > b ? m + p : b, d = c < d ? c : d, e = c + g > e ? c + g : e;
                            else if (c === q.SHAPES.CIRC) m = f.x, c = f.y, p = f.radius + n / 2, g = f.radius + n / 2, a = m - p < a ? m - p : a, b = m + p > b ? m + p : b, d = c - g < d ? c - g : d, e = c + g > e ? c + g : e;
                            else if (c === q.SHAPES.ELIP) m = f.x, c = f.y, p = f.width + n / 2, g = f.height + n / 2, a = m - p < a ? m - p : a, b = m + p > b ? m + p : b, d = c - g < d ? c - g : d, e = c + g > e ? c + g : e;
                            else {
                                f = f.points;
                                for (var x, u, y, v, w, t = 0; t + 2 < f.length; t += 2) m = f[t], c = f[t + 1], x = f[t + 2], u = f[t + 3], y = Math.abs(x - m), v = Math.abs(u - c), g = n, p =
                                    Math.sqrt(y * y + v * v), 1E-9 > p || (w = (g / p * v + y) / 2, p = (g / p * y + v) / 2, m = (x + m) / 2, c = (u + c) / 2, a = m - w < a ? m - w : a, b = m + w > b ? m + w : b, d = c - p < d ? c - p : d, e = c + p > e ? c + p : e)
                            }
                        } else e = d = b = a = 0;
                    h = this.boundsPadding;
                    this._localBounds.minX = a - h;
                    this._localBounds.maxX = b + 2 * h;
                    this._localBounds.minY = d - h;
                    this._localBounds.maxY = e + 2 * h
                };
                m.prototype.drawShape = function(a) {
                    this.currentPath && 2 >= this.currentPath.shape.points.length && this.graphicsData.pop();
                    this.currentPath = null;
                    a = new e["default"](this.lineWidth, this.lineColor, this.lineAlpha, this.fillColor,
                        this.fillAlpha, this.filling, a);
                    this.graphicsData.push(a);
                    a.type === q.SHAPES.POLY && (a.shape.closed = a.shape.closed || this.filling, this.currentPath = a);
                    this.dirty++;
                    return a
                };
                m.prototype.generateCanvasTexture = function(a) {
                    var b = 1 < arguments.length && void 0 !== arguments[1] ? arguments[1] : 1,
                        e = this.getLocalBounds(),
                        m = f["default"].create(e.width, e.height, a, b);
                    v || (v = new w["default"]);
                    t.tx = -e.x;
                    t.ty = -e.y;
                    v.render(this, m, !1, t);
                    e = d["default"].fromCanvas(m.baseTexture._canvasRenderTarget.canvas, a);
                    e.baseTexture.resolution =
                        b;
                    e.baseTexture.update();
                    return e
                };
                m.prototype.closePath = function() {
                    var a = this.currentPath;
                    a && a.shape && a.shape.close();
                    return this
                };
                m.prototype.addHole = function() {
                    var a = this.graphicsData.pop();
                    this.currentPath = this.graphicsData[this.graphicsData.length - 1];
                    this.currentPath.addHole(a.shape);
                    this.currentPath = null;
                    return this
                };
                m.prototype.destroy = function(b) {
                    a.prototype.destroy.call(this, b);
                    for (b = 0; b < this.graphicsData.length; ++b) this.graphicsData[b].destroy();
                    for (var d in this._webgl)
                        for (b = 0; b < this._webgl[d].data.length; ++b) this._webgl[d].data[b].destroy();
                    this._spriteRect && this._spriteRect.destroy();
                    this._localBounds = this._webgl = this.currentPath = this.graphicsData = null
                };
                return m
            }(c["default"]);
            g["default"] = a;
            a._SPRITE_TEXTURE = null
        }, {
            "../const": 44,
            "../display/Bounds": 45,
            "../display/Container": 46,
            "../math": 68,
            "../renderers/canvas/CanvasRenderer": 75,
            "../sprites/Sprite": 100,
            "../textures/RenderTexture": 110,
            "../textures/Texture": 111,
            "../utils": 119,
            "./GraphicsData": 52,
            "./utils/bezierCurveTo": 54
        }],
        52: [function(a, c, g) {
            g.__esModule = !0;
            a = function() {
                function a(c,
                    m, f, d, e, b, p) {
                    if (!(this instanceof a)) throw new TypeError("Cannot call a class as a function");
                    this.lineWidth = c;
                    this.lineColor = m;
                    this.lineAlpha = f;
                    this._lineTint = m;
                    this.fillColor = d;
                    this.fillAlpha = e;
                    this._fillTint = d;
                    this.fill = b;
                    this.holes = [];
                    this.shape = p;
                    this.type = p.type
                }
                a.prototype.clone = function() {
                    return new a(this.lineWidth, this.lineColor, this.lineAlpha, this.fillColor, this.fillAlpha, this.fill, this.shape)
                };
                a.prototype.addHole = function(a) {
                    this.holes.push(a)
                };
                a.prototype.destroy = function() {
                    this.holes =
                        this.shape = null
                };
                return a
            }();
            g["default"] = a
        }, {}],
        53: [function(a, c, g) {
            g.__esModule = !0;
            c = (c = a("../../renderers/canvas/CanvasRenderer")) && c.__esModule ? c : {
                "default": c
            };
            var h = a("../../const");
            a = function() {
                function a(m) {
                    if (!(this instanceof a)) throw new TypeError("Cannot call a class as a function");
                    this.renderer = m
                }
                a.prototype.render = function(a) {
                    var f = this.renderer,
                        d = f.context,
                        e = a.worldAlpha,
                        b = a.transform.worldTransform,
                        m = f.resolution;
                    this._prevTint !== this.tint && (this.dirty = !0);
                    d.setTransform(b.a * m, b.b *
                        m, b.c * m, b.d * m, b.tx * m, b.ty * m);
                    a.dirty && (this.updateGraphicsTint(a), a.dirty = !1);
                    f.setBlendMode(a.blendMode);
                    for (f = 0; f < a.graphicsData.length; f++) {
                        var b = a.graphicsData[f],
                            c = b.shape,
                            m = b._fillTint,
                            q = b._lineTint;
                        d.lineWidth = b.lineWidth;
                        if (b.type === h.SHAPES.POLY) {
                            d.beginPath();
                            this.renderPolygon(c.points, c.closed, d);
                            for (var g = 0; g < b.holes.length; g++) this.renderPolygon(b.holes[g].points, !0, d);
                            b.fill && (d.globalAlpha = b.fillAlpha * e, d.fillStyle = "#" + ("00000" + (m | 0).toString(16)).substr(-6), d.fill());
                            b.lineWidth &&
                                (d.globalAlpha = b.lineAlpha * e, d.strokeStyle = "#" + ("00000" + (q | 0).toString(16)).substr(-6), d.stroke())
                        } else if (b.type === h.SHAPES.RECT) {
                            if (b.fillColor || 0 === b.fillColor) d.globalAlpha = b.fillAlpha * e, d.fillStyle = "#" + ("00000" + (m | 0).toString(16)).substr(-6), d.fillRect(c.x, c.y, c.width, c.height);
                            b.lineWidth && (d.globalAlpha = b.lineAlpha * e, d.strokeStyle = "#" + ("00000" + (q | 0).toString(16)).substr(-6), d.strokeRect(c.x, c.y, c.width, c.height))
                        } else if (b.type === h.SHAPES.CIRC) d.beginPath(), d.arc(c.x, c.y, c.radius, 0, 2 * Math.PI),
                            d.closePath(), b.fill && (d.globalAlpha = b.fillAlpha * e, d.fillStyle = "#" + ("00000" + (m | 0).toString(16)).substr(-6), d.fill()), b.lineWidth && (d.globalAlpha = b.lineAlpha * e, d.strokeStyle = "#" + ("00000" + (q | 0).toString(16)).substr(-6), d.stroke());
                        else if (b.type === h.SHAPES.ELIP) {
                            var n = 2 * c.width,
                                w = 2 * c.height,
                                g = c.x - n / 2,
                                c = c.y - w / 2;
                            d.beginPath();
                            var v = n / 2 * .5522848,
                                t = w / 2 * .5522848,
                                z = g + n,
                                r = c + w,
                                n = g + n / 2,
                                w = c + w / 2;
                            d.moveTo(g, w);
                            d.bezierCurveTo(g, w - t, n - v, c, n, c);
                            d.bezierCurveTo(n + v, c, z, w - t, z, w);
                            d.bezierCurveTo(z, w + t, n + v, r, n, r);
                            d.bezierCurveTo(n -
                                v, r, g, w + t, g, w);
                            d.closePath();
                            b.fill && (d.globalAlpha = b.fillAlpha * e, d.fillStyle = "#" + ("00000" + (m | 0).toString(16)).substr(-6), d.fill());
                            b.lineWidth && (d.globalAlpha = b.lineAlpha * e, d.strokeStyle = "#" + ("00000" + (q | 0).toString(16)).substr(-6), d.stroke())
                        } else if (b.type === h.SHAPES.RREC) {
                            g = c.x;
                            w = c.y;
                            v = c.width;
                            t = c.height;
                            c = c.radius;
                            z = Math.min(v, t) / 2 | 0;
                            c = c > z ? z : c;
                            d.beginPath();
                            d.moveTo(g, w + c);
                            d.lineTo(g, w + t - c);
                            d.quadraticCurveTo(g, w + t, g + c, w + t);
                            d.lineTo(g + v - c, w + t);
                            d.quadraticCurveTo(g + v, w + t, g + v, w + t - c);
                            d.lineTo(g +
                                v, w + c);
                            d.quadraticCurveTo(g + v, w, g + v - c, w);
                            d.lineTo(g + c, w);
                            d.quadraticCurveTo(g, w, g, w + c);
                            d.closePath();
                            if (b.fillColor || 0 === b.fillColor) d.globalAlpha = b.fillAlpha * e, d.fillStyle = "#" + ("00000" + (m | 0).toString(16)).substr(-6), d.fill();
                            b.lineWidth && (d.globalAlpha = b.lineAlpha * e, d.strokeStyle = "#" + ("00000" + (q | 0).toString(16)).substr(-6), d.stroke())
                        }
                    }
                };
                a.prototype.updateGraphicsTint = function(a) {
                    a._prevTint = a.tint;
                    for (var f = (a.tint >> 16 & 255) / 255, d = (a.tint >> 8 & 255) / 255, e = (a.tint & 255) / 255, b = 0; b < a.graphicsData.length; ++b) {
                        var m =
                            a.graphicsData[b],
                            c = m.fillColor | 0,
                            g = m.lineColor | 0;
                        m._fillTint = ((c >> 16 & 255) / 255 * f * 255 << 16) + ((c >> 8 & 255) / 255 * d * 255 << 8) + (c & 255) / 255 * e * 255;
                        m._lineTint = ((g >> 16 & 255) / 255 * f * 255 << 16) + ((g >> 8 & 255) / 255 * d * 255 << 8) + (g & 255) / 255 * e * 255
                    }
                };
                a.prototype.renderPolygon = function(a, f, d) {
                    d.moveTo(a[0], a[1]);
                    for (var e = 1; e < a.length / 2; ++e) d.lineTo(a[2 * e], a[2 * e + 1]);
                    f && d.closePath()
                };
                a.prototype.destroy = function() {
                    this.renderer = null
                };
                return a
            }();
            g["default"] = a;
            c["default"].registerPlugin("graphics", a)
        }, {
            "../../const": 44,
            "../../renderers/canvas/CanvasRenderer": 75
        }],
        54: [function(a, c, g) {
            g.__esModule = !0;
            g["default"] = function(a, c, m, f, d, e, b, g) {
                var p = 8 < arguments.length && void 0 !== arguments[8] ? arguments[8] : [],
                    q, h, n, w, v;
                p.push(a, c);
                for (var t = 1, z; 20 >= t; ++t) z = t / 20, q = 1 - z, h = q * q, n = h * q, w = z * z, v = w * z, p.push(n * a + 3 * h * z * m + 3 * q * w * d + v * b, n * c + 3 * h * z * f + 3 * q * w * e + v * g);
                return p
            }
        }, {}],
        55: [function(a, c, g) {
            function h(a) {
                return a && a.__esModule ? a : {
                    "default": a
                }
            }

            function n(a, b) {
                if ("function" !== typeof b && null !== b) throw new TypeError("Super expression must either be null or a function, not " + typeof b);
                a.prototype = Object.create(b && b.prototype, {
                    constructor: {
                        value: a,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                });
                b && (Object.setPrototypeOf ? Object.setPrototypeOf(a, b) : a.__proto__ = b)
            }
            g.__esModule = !0;
            var m = a("../../utils"),
                f = a("../../const");
            c = a("../../renderers/webgl/utils/ObjectRenderer");
            var d = h(c);
            c = a("../../renderers/webgl/WebGLRenderer");
            c = h(c);
            var e = a("./WebGLGraphicsData"),
                b = h(e),
                e = a("./shaders/PrimitiveShader"),
                p = h(e),
                e = a("./utils/buildPoly"),
                u = h(e),
                e = a("./utils/buildRectangle"),
                q = h(e),
                e = a("./utils/buildRoundedRectangle"),
                x = h(e);
            a = a("./utils/buildCircle");
            var y = h(a);
            a = function(a) {
                function e(b) {
                    if (!(this instanceof e)) throw new TypeError("Cannot call a class as a function");
                    var d;
                    d = a.call(this, b);
                    if (!this) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                    d = !d || "object" !== typeof d && "function" !== typeof d ? this : d;
                    d.graphicsDataPool = [];
                    d.primitiveShader = null;
                    d.gl = b.gl;
                    d.CONTEXT_UID = 0;
                    return d
                }
                n(e, a);
                e.prototype.onContextChange = function() {
                    this.gl = this.renderer.gl;
                    this.CONTEXT_UID = this.renderer.CONTEXT_UID;
                    this.primitiveShader = new p["default"](this.gl)
                };
                e.prototype.destroy = function() {
                    d["default"].prototype.destroy.call(this);
                    for (var a = 0; a < this.graphicsDataPool.length; ++a) this.graphicsDataPool[a].destroy();
                    this.graphicsDataPool = null
                };
                e.prototype.render = function(a) {
                    var b = this.renderer,
                        d = b.gl,
                        e, f = a._webGL[this.CONTEXT_UID];
                    f && a.dirty === f.dirty || (this.updateGraphics(a), f = a._webGL[this.CONTEXT_UID]);
                    b.bindShader(this.primitiveShader);
                    b.state.setBlendMode(a.blendMode);
                    for (var c = 0, g = f.data.length; c < g; c++) {
                        e =
                            f.data[c];
                        var p = e.shader;
                        b.bindShader(p);
                        p.uniforms.translationMatrix = a.transform.worldTransform.toArray(!0);
                        p.uniforms.tint = (0, m.hex2rgb)(a.tint);
                        p.uniforms.alpha = a.worldAlpha;
                        b.bindVao(e.vao);
                        e.vao.draw(d.TRIANGLE_STRIP, e.indices.length)
                    }
                };
                e.prototype.updateGraphics = function(a) {
                    var b = this.renderer.gl,
                        d = a._webGL[this.CONTEXT_UID];
                    d || (d = a._webGL[this.CONTEXT_UID] = {
                        lastIndex: 0,
                        data: [],
                        gl: b,
                        clearDirty: -1,
                        dirty: -1
                    });
                    d.dirty = a.dirty;
                    if (a.clearDirty !== d.clearDirty) {
                        d.clearDirty = a.clearDirty;
                        for (b = 0; b <
                            d.data.length; b++) this.graphicsDataPool.push(d.data[b]);
                        d.data.length = 0;
                        d.lastIndex = 0
                    }
                    for (var e = d.lastIndex; e < a.graphicsData.length; e++) {
                        var m = a.graphicsData[e],
                            b = this.getWebGLData(d, 0);
                        m.type === f.SHAPES.POLY && (0, u["default"])(m, b);
                        m.type === f.SHAPES.RECT ? (0, q["default"])(m, b) : m.type === f.SHAPES.CIRC || m.type === f.SHAPES.ELIP ? (0, y["default"])(m, b) : m.type === f.SHAPES.RREC && (0, x["default"])(m, b);
                        d.lastIndex++
                    }
                    this.renderer.bindVao(null);
                    for (a = 0; a < d.data.length; a++) b = d.data[a], b.dirty && b.upload()
                };
                e.prototype.getWebGLData =
                    function(a, d) {
                        var e = a.data[a.data.length - 1];
                        if (!e || 32E4 < e.points.length) e = this.graphicsDataPool.pop() || new b["default"](this.renderer.gl, this.primitiveShader, this.renderer.state.attribsState), e.reset(d), a.data.push(e);
                        e.dirty = !0;
                        return e
                    };
                return e
            }(d["default"]);
            g["default"] = a;
            c["default"].registerPlugin("graphics", a)
        }, {
            "../../const": 44,
            "../../renderers/webgl/WebGLRenderer": 82,
            "../../renderers/webgl/utils/ObjectRenderer": 92,
            "../../utils": 119,
            "./WebGLGraphicsData": 56,
            "./shaders/PrimitiveShader": 57,
            "./utils/buildCircle": 58,
            "./utils/buildPoly": 60,
            "./utils/buildRectangle": 61,
            "./utils/buildRoundedRectangle": 62
        }],
        56: [function(a, c, g) {
            g.__esModule = !0;
            var h = (a = a("pixi-gl-core")) && a.__esModule ? a : {
                "default": a
            };
            a = function() {
                function a(m, f, d) {
                    if (!(this instanceof a)) throw new TypeError("Cannot call a class as a function");
                    this.gl = m;
                    this.color = [0, 0, 0];
                    this.points = [];
                    this.indices = [];
                    this.buffer = h["default"].GLBuffer.createVertexBuffer(m);
                    this.indexBuffer = h["default"].GLBuffer.createIndexBuffer(m);
                    this.dirty = !0;
                    this.glIndices = this.glPoints = null;
                    this.shader = f;
                    this.vao = (new h["default"].VertexArrayObject(m, d)).addIndex(this.indexBuffer).addAttribute(this.buffer, f.attributes.aVertexPosition, m.FLOAT, !1, 24, 0).addAttribute(this.buffer, f.attributes.aColor, m.FLOAT, !1, 24, 8)
                }
                a.prototype.reset = function() {
                    this.points.length = 0;
                    this.indices.length = 0
                };
                a.prototype.upload = function() {
                    this.glPoints = new Float32Array(this.points);
                    this.buffer.upload(this.glPoints);
                    this.glIndices = new Uint16Array(this.indices);
                    this.indexBuffer.upload(this.glIndices);
                    this.dirty = !1
                };
                a.prototype.destroy = function() {
                    this.indices = this.points = this.color = null;
                    this.vao.destroy();
                    this.buffer.destroy();
                    this.indexBuffer.destroy();
                    this.glIndices = this.glPoints = this.indexBuffer = this.buffer = this.gl = null
                };
                return a
            }();
            g["default"] = a
        }, {
            "pixi-gl-core": 12
        }],
        57: [function(a, c, g) {
            function h(a, m) {
                if ("function" !== typeof m && null !== m) throw new TypeError("Super expression must either be null or a function, not " + typeof m);
                a.prototype = Object.create(m && m.prototype, {
                    constructor: {
                        value: a,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                });
                m && (Object.setPrototypeOf ? Object.setPrototypeOf(a, m) : a.__proto__ = m)
            }
            g.__esModule = !0;
            a = a("../../../Shader");
            a = function(a) {
                function m(f) {
                    if (!(this instanceof m)) throw new TypeError("Cannot call a class as a function");
                    f = a.call(this, f, "attribute vec2 aVertexPosition;\nattribute vec4 aColor;\nuniform mat3 translationMatrix;\nuniform mat3 projectionMatrix;\nuniform float alpha;\nuniform vec3 tint;\nvarying vec4 vColor;\nvoid main(void){\n   gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vColor = aColor * vec4(tint * alpha, alpha);\n}",
                        "varying vec4 vColor;\nvoid main(void){\n   gl_FragColor = vColor;\n}");
                    if (!this) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                    return !f || "object" !== typeof f && "function" !== typeof f ? this : f
                }
                h(m, a);
                return m
            }((a && a.__esModule ? a : {
                "default": a
            })["default"]);
            g["default"] = a
        }, {
            "../../../Shader": 42
        }],
        58: [function(a, c, g) {
            g.__esModule = !0;
            g["default"] = function(a, d) {
                var e = a.shape,
                    b = e.x,
                    f = e.y,
                    c, g;
                a.type === n.SHAPES.CIRC ? g = c = e.radius : (c = e.width, g = e.height);
                var e = Math.floor(30 *
                        Math.sqrt(e.radius)) || Math.floor(15 * Math.sqrt(e.width + e.height)),
                    x = 2 * Math.PI / e;
                if (a.fill) {
                    var y = (0, m.hex2rgb)(a.fillColor),
                        w = a.fillAlpha,
                        v = y[0] * w,
                        t = y[1] * w,
                        y = y[2] * w,
                        z = d.points,
                        r = d.indices,
                        A = z.length / 6;
                    r.push(A);
                    for (var B = 0; B < e + 1; B++) z.push(b, f, v, t, y, w), z.push(b + Math.sin(x * B) * c, f + Math.cos(x * B) * g, v, t, y, w), r.push(A++, A++);
                    r.push(A - 1)
                }
                if (a.lineWidth) {
                    w = a.points;
                    a.points = [];
                    for (v = 0; v < e + 1; v++) a.points.push(b + Math.sin(x * v) * c, f + Math.cos(x * v) * g);
                    (0, h["default"])(a, d);
                    a.points = w
                }
            };
            var h = (c = a("./buildLine")) &&
                c.__esModule ? c : {
                    "default": c
                },
                n = a("../../../const"),
                m = a("../../../utils")
        }, {
            "../../../const": 44,
            "../../../utils": 119,
            "./buildLine": 59
        }],
        59: [function(a, c, g) {
            g.__esModule = !0;
            g["default"] = function(a, f) {
                var d = a.points;
                if (0 !== d.length) {
                    var e = new h.Point(d[0], d[1]),
                        b = new h.Point(d[d.length - 2], d[d.length - 1]);
                    if (e.x === b.x && e.y === b.y) {
                        d = d.slice();
                        d.pop();
                        d.pop();
                        var b = new h.Point(d[d.length - 2], d[d.length - 1]),
                            m = b.x + .5 * (e.x - b.x),
                            e = b.y + .5 * (e.y - b.y);
                        d.unshift(m, e);
                        d.push(m, e)
                    }
                    var c = f.points,
                        m = f.indices,
                        g = d.length /
                        2,
                        e = d.length,
                        b = c.length / 6,
                        x = a.lineWidth / 2,
                        y = (0, n.hex2rgb)(a.lineColor),
                        w = a.lineAlpha,
                        v = y[0] * w,
                        t = y[1] * w,
                        y = y[2] * w,
                        z = d[0],
                        r = d[1],
                        A = d[2],
                        B = d[3],
                        D, C, F = -(r - B),
                        E = z - A,
                        G, I, H = Math.sqrt(F * F + E * E),
                        F = F / H * x,
                        E = E / H * x;
                    c.push(z - F, r - E, v, t, y, w);
                    c.push(z + F, r + E, v, t, y, w);
                    for (var N = 1; N < g - 1; ++N) {
                        z = d[2 * (N - 1)];
                        r = d[2 * (N - 1) + 1];
                        A = d[2 * N];
                        B = d[2 * N + 1];
                        D = d[2 * (N + 1)];
                        C = d[2 * (N + 1) + 1];
                        F = -(r - B);
                        E = z - A;
                        H = Math.sqrt(F * F + E * E);
                        F /= H;
                        E /= H;
                        F *= x;
                        E *= x;
                        G = -(B - C);
                        I = A - D;
                        H = Math.sqrt(G * G + I * I);
                        G /= H;
                        I /= H;
                        G *= x;
                        I *= x;
                        var H = -E + r - (-E + B),
                            P = -F + A - (-F + z),
                            z = (-F + z) * (-E +
                                B) - (-F + A) * (-E + r),
                            r = -I + C - (-I + B),
                            R = -G + A - (-G + D);
                        D = (-G + D) * (-I + B) - (-G + A) * (-I + C);
                        C = H * R - r * P;
                        .1 > Math.abs(C) ? (c.push(A - F, B - E, v, t, y, w), c.push(A + F, B + E, v, t, y, w)) : (P = (P * D - R * z) / C, H = (r * z - H * D) / C, (P - A) * (P - A) + (H - B) * (H - B) > 196 * x * x ? (F -= G, E -= I, H = Math.sqrt(F * F + E * E), F /= H, E /= H, F *= x, E *= x, c.push(A - F, B - E), c.push(v, t, y, w), c.push(A + F, B + E), c.push(v, t, y, w), c.push(A - F, B - E), c.push(v, t, y, w), e++) : (c.push(P, H), c.push(v, t, y, w), c.push(A - (P - A), B - (H - B)), c.push(v, t, y, w)))
                    }
                    z = d[2 * (g - 2)];
                    r = d[2 * (g - 2) + 1];
                    A = d[2 * (g - 1)];
                    B = d[2 * (g - 1) + 1];
                    F = -(r - B);
                    E =
                        z - A;
                    H = Math.sqrt(F * F + E * E);
                    F = F / H * x;
                    E = E / H * x;
                    c.push(A - F, B - E);
                    c.push(v, t, y, w);
                    c.push(A + F, B + E);
                    c.push(v, t, y, w);
                    m.push(b);
                    for (d = 0; d < e; ++d) m.push(b++);
                    m.push(b - 1)
                }
            };
            var h = a("../../../math"),
                n = a("../../../utils")
        }, {
            "../../../math": 68,
            "../../../utils": 119
        }],
        60: [function(a, c, g) {
            g.__esModule = !0;
            g["default"] = function(a, d) {
                a.points = a.shape.points.slice();
                var e = a.points;
                if (a.fill && 6 <= e.length) {
                    for (var b = [], f = a.holes, c = 0; c < f.length; c++) {
                        var g = f[c];
                        b.push(e.length / 2);
                        e = e.concat(g.points)
                    }
                    var f = d.points,
                        x = d.indices,
                        c = e.length / 2,
                        y = (0, n.hex2rgb)(a.fillColor),
                        g = a.fillAlpha,
                        w = y[0] * g,
                        v = y[1] * g,
                        y = y[2] * g,
                        b = (0, m["default"])(e, b, 2);
                    if (!b) return;
                    for (var t = f.length / 6, z = 0; z < b.length; z += 3) x.push(b[z] + t), x.push(b[z] + t), x.push(b[z + 1] + t), x.push(b[z + 2] + t), x.push(b[z + 2] + t);
                    for (b = 0; b < c; b++) f.push(e[2 * b], e[2 * b + 1], w, v, y, g)
                }
                0 < a.lineWidth && (0, h["default"])(a, d)
            };
            var h = (c = a("./buildLine")) && c.__esModule ? c : {
                    "default": c
                },
                n = a("../../../utils"),
                m = (a = a("earcut")) && a.__esModule ? a : {
                    "default": a
                }
        }, {
            "../../../utils": 119,
            "./buildLine": 59,
            earcut: 2
        }],
        61: [function(a, c, g) {
            g.__esModule = !0;
            g["default"] = function(a, f) {
                var d = a.shape,
                    e = d.x,
                    b = d.y,
                    m = d.width,
                    d = d.height;
                if (a.fill) {
                    var c = (0, n.hex2rgb)(a.fillColor),
                        g = a.fillAlpha,
                        x = c[0] * g,
                        y = c[1] * g,
                        c = c[2] * g,
                        w = f.points,
                        v = f.indices,
                        t = w.length / 6;
                    w.push(e, b);
                    w.push(x, y, c, g);
                    w.push(e + m, b);
                    w.push(x, y, c, g);
                    w.push(e, b + d);
                    w.push(x, y, c, g);
                    w.push(e + m, b + d);
                    w.push(x, y, c, g);
                    v.push(t, t, t + 1, t + 2, t + 3, t + 3)
                }
                a.lineWidth && (g = a.points, a.points = [e, b, e + m, b, e + m, b + d, e, b + d, e, b], (0, h["default"])(a, f), a.points = g)
            };
            var h = (c = a("./buildLine")) &&
                c.__esModule ? c : {
                    "default": c
                },
                n = a("../../../utils")
        }, {
            "../../../utils": 119,
            "./buildLine": 59
        }],
        62: [function(a, c, g) {
            function h(a, e, b, f, m, c) {
                for (var d = 6 < arguments.length && void 0 !== arguments[6] ? arguments[6] : [], g, p, q, h, n = 0, u; 20 >= n; ++n) u = n / 20, g = a + (b - a) * u, p = e + (f - e) * u, q = b + (m - b) * u, h = f + (c - f) * u, g += (q - g) * u, p += (h - p) * u, d.push(g, p);
                return d
            }
            g.__esModule = !0;
            g["default"] = function(a, e) {
                var b = a.shape,
                    d = b.x,
                    c = b.y,
                    g = b.width,
                    x = b.height,
                    y = b.radius,
                    b = [];
                b.push(d, c + y);
                h(d, c + x - y, d, c + x, d + y, c + x, b);
                h(d + g - y, c + x, d + g, c + x, d + g, c + x -
                    y, b);
                h(d + g, c + y, d + g, c, d + g - y, c, b);
                h(d + y, c, d, c, d, c + y + 1E-10, b);
                if (a.fill) {
                    for (var x = (0, f.hex2rgb)(a.fillColor), d = a.fillAlpha, c = x[0] * d, g = x[1] * d, x = x[2] * d, y = e.points, w = e.indices, v = y.length / 6, t = (0, n["default"])(b, null, 2), z = 0, r = t.length; z < r; z += 3) w.push(t[z] + v), w.push(t[z] + v), w.push(t[z + 1] + v), w.push(t[z + 2] + v), w.push(t[z + 2] + v);
                    w = 0;
                    for (v = b.length; w < v; w++) y.push(b[w], b[++w], c, g, x, d)
                }
                a.lineWidth && (d = a.points, a.points = b, (0, m["default"])(a, e), a.points = d)
            };
            var n = (c = a("earcut")) && c.__esModule ? c : {
                    "default": c
                },
                m = (c =
                    a("./buildLine")) && c.__esModule ? c : {
                    "default": c
                },
                f = a("../../../utils")
        }, {
            "../../../utils": 119,
            "./buildLine": 59,
            earcut: 2
        }],
        63: [function(a, c, g) {
            function h(a) {
                if (a && a.__esModule) return a;
                var b = {};
                if (null != a)
                    for (var d in a) Object.prototype.hasOwnProperty.call(a, d) && (b[d] = a[d]);
                b["default"] = a;
                return b
            }

            function n(a) {
                return a && a.__esModule ? a : {
                    "default": a
                }
            }
            g.__esModule = !0;
            g.autoDetectRenderer = g.Application = g.Filter = g.SpriteMaskFilter = g.Quad = g.RenderTarget = g.ObjectRenderer = g.WebGLManager = g.Shader = g.CanvasRenderTarget =
                g.TextureUvs = g.VideoBaseTexture = g.BaseRenderTexture = g.RenderTexture = g.BaseTexture = g.Texture = g.CanvasGraphicsRenderer = g.GraphicsRenderer = g.GraphicsData = g.Graphics = g.TextStyle = g.Text = g.SpriteRenderer = g.CanvasTinter = g.CanvasSpriteRenderer = g.Sprite = g.TransformBase = g.TransformStatic = g.Transform = g.Container = g.DisplayObject = g.Bounds = g.glCore = g.WebGLRenderer = g.CanvasRenderer = g.ticker = g.utils = g.settings = void 0;
            var m = a("./const");
            Object.keys(m).forEach(function(a) {
                "default" !== a && "__esModule" !== a && Object.defineProperty(g,
                    a, {
                        enumerable: !0,
                        get: function() {
                            return m[a]
                        }
                    })
            });
            var f = a("./math");
            Object.keys(f).forEach(function(a) {
                "default" !== a && "__esModule" !== a && Object.defineProperty(g, a, {
                    enumerable: !0,
                    get: function() {
                        return f[a]
                    }
                })
            });
            var d = a("pixi-gl-core");
            Object.defineProperty(g, "glCore", {
                enumerable: !0,
                get: function() {
                    return n(d)["default"]
                }
            });
            var e = a("./display/Bounds");
            Object.defineProperty(g, "Bounds", {
                enumerable: !0,
                get: function() {
                    return n(e)["default"]
                }
            });
            var b = a("./display/DisplayObject");
            Object.defineProperty(g, "DisplayObject", {
                enumerable: !0,
                get: function() {
                    return n(b)["default"]
                }
            });
            var p = a("./display/Container");
            Object.defineProperty(g, "Container", {
                enumerable: !0,
                get: function() {
                    return n(p)["default"]
                }
            });
            var u = a("./display/Transform");
            Object.defineProperty(g, "Transform", {
                enumerable: !0,
                get: function() {
                    return n(u)["default"]
                }
            });
            var q = a("./display/TransformStatic");
            Object.defineProperty(g, "TransformStatic", {
                enumerable: !0,
                get: function() {
                    return n(q)["default"]
                }
            });
            var x = a("./display/TransformBase");
            Object.defineProperty(g, "TransformBase", {
                enumerable: !0,
                get: function() {
                    return n(x)["default"]
                }
            });
            var y = a("./sprites/Sprite");
            Object.defineProperty(g, "Sprite", {
                enumerable: !0,
                get: function() {
                    return n(y)["default"]
                }
            });
            var w = a("./sprites/canvas/CanvasSpriteRenderer");
            Object.defineProperty(g, "CanvasSpriteRenderer", {
                enumerable: !0,
                get: function() {
                    return n(w)["default"]
                }
            });
            var v = a("./sprites/canvas/CanvasTinter");
            Object.defineProperty(g, "CanvasTinter", {
                enumerable: !0,
                get: function() {
                    return n(v)["default"]
                }
            });
            var t = a("./sprites/webgl/SpriteRenderer");
            Object.defineProperty(g, "SpriteRenderer", {
                enumerable: !0,
                get: function() {
                    return n(t)["default"]
                }
            });
            var z = a("./text/Text");
            Object.defineProperty(g, "Text", {
                enumerable: !0,
                get: function() {
                    return n(z)["default"]
                }
            });
            var r = a("./text/TextStyle");
            Object.defineProperty(g, "TextStyle", {
                enumerable: !0,
                get: function() {
                    return n(r)["default"]
                }
            });
            var A = a("./graphics/Graphics");
            Object.defineProperty(g, "Graphics", {
                enumerable: !0,
                get: function() {
                    return n(A)["default"]
                }
            });
            var B = a("./graphics/GraphicsData");
            Object.defineProperty(g,
                "GraphicsData", {
                    enumerable: !0,
                    get: function() {
                        return n(B)["default"]
                    }
                });
            var D = a("./graphics/webgl/GraphicsRenderer");
            Object.defineProperty(g, "GraphicsRenderer", {
                enumerable: !0,
                get: function() {
                    return n(D)["default"]
                }
            });
            var C = a("./graphics/canvas/CanvasGraphicsRenderer");
            Object.defineProperty(g, "CanvasGraphicsRenderer", {
                enumerable: !0,
                get: function() {
                    return n(C)["default"]
                }
            });
            var F = a("./textures/Texture");
            Object.defineProperty(g, "Texture", {
                enumerable: !0,
                get: function() {
                    return n(F)["default"]
                }
            });
            var E = a("./textures/BaseTexture");
            Object.defineProperty(g, "BaseTexture", {
                enumerable: !0,
                get: function() {
                    return n(E)["default"]
                }
            });
            var G = a("./textures/RenderTexture");
            Object.defineProperty(g, "RenderTexture", {
                enumerable: !0,
                get: function() {
                    return n(G)["default"]
                }
            });
            var I = a("./textures/BaseRenderTexture");
            Object.defineProperty(g, "BaseRenderTexture", {
                enumerable: !0,
                get: function() {
                    return n(I)["default"]
                }
            });
            var H = a("./textures/VideoBaseTexture");
            Object.defineProperty(g, "VideoBaseTexture", {
                enumerable: !0,
                get: function() {
                    return n(H)["default"]
                }
            });
            var N = a("./textures/TextureUvs");
            Object.defineProperty(g, "TextureUvs", {
                enumerable: !0,
                get: function() {
                    return n(N)["default"]
                }
            });
            var P = a("./renderers/canvas/utils/CanvasRenderTarget");
            Object.defineProperty(g, "CanvasRenderTarget", {
                enumerable: !0,
                get: function() {
                    return n(P)["default"]
                }
            });
            var R = a("./Shader");
            Object.defineProperty(g, "Shader", {
                enumerable: !0,
                get: function() {
                    return n(R)["default"]
                }
            });
            var S = a("./renderers/webgl/managers/WebGLManager");
            Object.defineProperty(g, "WebGLManager", {
                enumerable: !0,
                get: function() {
                    return n(S)["default"]
                }
            });
            var M = a("./renderers/webgl/utils/ObjectRenderer");
            Object.defineProperty(g, "ObjectRenderer", {
                enumerable: !0,
                get: function() {
                    return n(M)["default"]
                }
            });
            var J = a("./renderers/webgl/utils/RenderTarget");
            Object.defineProperty(g, "RenderTarget", {
                enumerable: !0,
                get: function() {
                    return n(J)["default"]
                }
            });
            var O = a("./renderers/webgl/utils/Quad");
            Object.defineProperty(g, "Quad", {
                enumerable: !0,
                get: function() {
                    return n(O)["default"]
                }
            });
            var T = a("./renderers/webgl/filters/spriteMask/SpriteMaskFilter");
            Object.defineProperty(g,
                "SpriteMaskFilter", {
                    enumerable: !0,
                    get: function() {
                        return n(T)["default"]
                    }
                });
            var K = a("./renderers/webgl/filters/Filter");
            Object.defineProperty(g, "Filter", {
                enumerable: !0,
                get: function() {
                    return n(K)["default"]
                }
            });
            var Q = a("./Application");
            Object.defineProperty(g, "Application", {
                enumerable: !0,
                get: function() {
                    return n(Q)["default"]
                }
            });
            var L = a("./autoDetectRenderer");
            Object.defineProperty(g, "autoDetectRenderer", {
                enumerable: !0,
                get: function() {
                    return L.autoDetectRenderer
                }
            });
            c = a("./utils");
            c = h(c);
            var U = a("./ticker"),
                U = h(U),
                V = a("./settings"),
                V = n(V),
                W = a("./renderers/canvas/CanvasRenderer"),
                W = n(W);
            a = a("./renderers/webgl/WebGLRenderer");
            a = n(a);
            g.settings = V["default"];
            g.utils = c;
            g.ticker = U;
            g.CanvasRenderer = W["default"];
            g.WebGLRenderer = a["default"]
        }, {
            "./Application": 41,
            "./Shader": 42,
            "./autoDetectRenderer": 43,
            "./const": 44,
            "./display/Bounds": 45,
            "./display/Container": 46,
            "./display/DisplayObject": 47,
            "./display/Transform": 48,
            "./display/TransformBase": 49,
            "./display/TransformStatic": 50,
            "./graphics/Graphics": 51,
            "./graphics/GraphicsData": 52,
            "./graphics/canvas/CanvasGraphicsRenderer": 53,
            "./graphics/webgl/GraphicsRenderer": 55,
            "./math": 68,
            "./renderers/canvas/CanvasRenderer": 75,
            "./renderers/canvas/utils/CanvasRenderTarget": 77,
            "./renderers/webgl/WebGLRenderer": 82,
            "./renderers/webgl/filters/Filter": 84,
            "./renderers/webgl/filters/spriteMask/SpriteMaskFilter": 87,
            "./renderers/webgl/managers/WebGLManager": 91,
            "./renderers/webgl/utils/ObjectRenderer": 92,
            "./renderers/webgl/utils/Quad": 93,
            "./renderers/webgl/utils/RenderTarget": 94,
            "./settings": 99,
            "./sprites/Sprite": 100,
            "./sprites/canvas/CanvasSpriteRenderer": 101,
            "./sprites/canvas/CanvasTinter": 102,
            "./sprites/webgl/SpriteRenderer": 104,
            "./text/Text": 106,
            "./text/TextStyle": 107,
            "./textures/BaseRenderTexture": 108,
            "./textures/BaseTexture": 109,
            "./textures/RenderTexture": 110,
            "./textures/Texture": 111,
            "./textures/TextureUvs": 112,
            "./textures/VideoBaseTexture": 113,
            "./ticker": 115,
            "./utils": 119,
            "pixi-gl-core": 12
        }],
        64: [function(a, c, g) {
            function h(a) {
                return 0 > a ? -1 : 0 < a ? 1 : 0
            }
            g.__esModule = !0;
            var n = (a = a("./Matrix")) && a.__esModule ? a : {
                    "default": a
                },
                m = [1, 1, 0, -1, -1, -1, 0, 1, 1, 1, 0, -1, -1, -1, 0, 1],
                f = [0, 1, 1, 1, 0, -1, -1, -1, 0, 1, 1, 1, 0, -1, -1, -1],
                d = [0, -1, -1, -1, 0, 1, 1, 1, 0, 1, 1, 1, 0, -1, -1, -1],
                e = [1, 1, 0, -1, -1, -1, 0, 1, -1, -1, 0, 1, 1, 1, 0, -1],
                b = [],
                p = [];
            (function() {
                for (var a = 0; 16 > a; a++) {
                    var c = [];
                    p.push(c);
                    for (var g = 0; 16 > g; g++)
                        for (var u = h(m[a] * m[g] + d[a] * f[g]), v = h(f[a] * m[g] + e[a] * f[g]), t = h(m[a] * d[g] + d[a] * e[g]), z = h(f[a] * d[g] + e[a] * e[g]), r = 0; 16 > r; r++)
                            if (m[r] === u && f[r] === v && d[r] === t && e[r] === z) {
                                c.push(r);
                                break
                            }
                }
                for (a = 0; 16 > a; a++) c = new n["default"], c.set(m[a], f[a], d[a],
                    e[a], 0, 0), b.push(c)
            })();
            var u = {
                E: 0,
                SE: 1,
                S: 2,
                SW: 3,
                W: 4,
                NW: 5,
                N: 6,
                NE: 7,
                MIRROR_VERTICAL: 8,
                MIRROR_HORIZONTAL: 12,
                uX: function(a) {
                    return m[a]
                },
                uY: function(a) {
                    return f[a]
                },
                vX: function(a) {
                    return d[a]
                },
                vY: function(a) {
                    return e[a]
                },
                inv: function(a) {
                    return a & 8 ? a & 15 : -a & 7
                },
                add: function(a, b) {
                    return p[a][b]
                },
                sub: function(a, b) {
                    return p[a][u.inv(b)]
                },
                rotate180: function(a) {
                    return a ^ 4
                },
                isSwapWidthHeight: function(a) {
                    return 2 === (a & 3)
                },
                byDirection: function(a, b) {
                    return 2 * Math.abs(a) <= Math.abs(b) ? 0 <= b ? u.S : u.N : 2 * Math.abs(b) <=
                        Math.abs(a) ? 0 < a ? u.E : u.W : 0 < b ? 0 < a ? u.SE : u.SW : 0 < a ? u.NE : u.NW
                },
                matrixAppendRotationInv: function(a, d) {
                    var e = 2 < arguments.length && void 0 !== arguments[2] ? arguments[2] : 0,
                        f = 3 < arguments.length && void 0 !== arguments[3] ? arguments[3] : 0,
                        m = b[u.inv(d)];
                    m.tx = e;
                    m.ty = f;
                    a.append(m)
                }
            };
            g["default"] = u
        }, {
            "./Matrix": 65
        }],
        65: [function(a, c, g) {
            g.__esModule = !0;
            var h = function() {
                    function a(a, d) {
                        for (var e = 0; e < d.length; e++) {
                            var b = d[e];
                            b.enumerable = b.enumerable || !1;
                            b.configurable = !0;
                            "value" in b && (b.writable = !0);
                            Object.defineProperty(a,
                                b.key, b)
                        }
                    }
                    return function(f, d, e) {
                        d && a(f.prototype, d);
                        e && a(f, e);
                        return f
                    }
                }(),
                n = (a = a("./Point")) && a.__esModule ? a : {
                    "default": a
                };
            a = function() {
                function a() {
                    if (!(this instanceof a)) throw new TypeError("Cannot call a class as a function");
                    this.a = 1;
                    this.c = this.b = 0;
                    this.d = 1;
                    this.ty = this.tx = 0;
                    this.array = null
                }
                a.prototype.fromArray = function(a) {
                    this.a = a[0];
                    this.b = a[1];
                    this.c = a[3];
                    this.d = a[4];
                    this.tx = a[2];
                    this.ty = a[5]
                };
                a.prototype.set = function(a, d, e, b, m, c) {
                    this.a = a;
                    this.b = d;
                    this.c = e;
                    this.d = b;
                    this.tx = m;
                    this.ty =
                        c;
                    return this
                };
                a.prototype.toArray = function(a, d) {
                    this.array || (this.array = new Float32Array(9));
                    var e = d || this.array;
                    a ? (e[0] = this.a, e[1] = this.b, e[2] = 0, e[3] = this.c, e[4] = this.d, e[5] = 0, e[6] = this.tx, e[7] = this.ty) : (e[0] = this.a, e[1] = this.c, e[2] = this.tx, e[3] = this.b, e[4] = this.d, e[5] = this.ty, e[6] = 0, e[7] = 0);
                    e[8] = 1;
                    return e
                };
                a.prototype.apply = function(a, d) {
                    d = d || new n["default"];
                    var e = a.x,
                        b = a.y;
                    d.x = this.a * e + this.c * b + this.tx;
                    d.y = this.b * e + this.d * b + this.ty;
                    return d
                };
                a.prototype.applyInverse = function(a, d) {
                    d = d || new n["default"];
                    var e = 1 / (this.a * this.d + this.c * -this.b),
                        b = a.x,
                        f = a.y;
                    d.x = this.d * e * b + -this.c * e * f + (this.ty * this.c - this.tx * this.d) * e;
                    d.y = this.a * e * f + -this.b * e * b + (-this.ty * this.a + this.tx * this.b) * e;
                    return d
                };
                a.prototype.translate = function(a, d) {
                    this.tx += a;
                    this.ty += d;
                    return this
                };
                a.prototype.scale = function(a, d) {
                    this.a *= a;
                    this.d *= d;
                    this.c *= a;
                    this.b *= d;
                    this.tx *= a;
                    this.ty *= d;
                    return this
                };
                a.prototype.rotate = function(a) {
                    var d = Math.cos(a);
                    a = Math.sin(a);
                    var e = this.a,
                        b = this.c,
                        f = this.tx;
                    this.a = e * d - this.b * a;
                    this.b = e * a + this.b * d;
                    this.c =
                        b * d - this.d * a;
                    this.d = b * a + this.d * d;
                    this.tx = f * d - this.ty * a;
                    this.ty = f * a + this.ty * d;
                    return this
                };
                a.prototype.append = function(a) {
                    var d = this.a,
                        e = this.b,
                        b = this.c,
                        f = this.d;
                    this.a = a.a * d + a.b * b;
                    this.b = a.a * e + a.b * f;
                    this.c = a.c * d + a.d * b;
                    this.d = a.c * e + a.d * f;
                    this.tx = a.tx * d + a.ty * b + this.tx;
                    this.ty = a.tx * e + a.ty * f + this.ty;
                    return this
                };
                a.prototype.setTransform = function(a, d, e, b, m, c, g, h, n) {
                    var f = Math.sin(g),
                        p = Math.cos(g);
                    g = Math.cos(n);
                    n = Math.sin(n);
                    var q = -Math.sin(h);
                    h = Math.cos(h);
                    var x = p * m;
                    m *= f;
                    f = -f * c;
                    c *= p;
                    this.a = g * x + n * f;
                    this.b =
                        g * m + n * c;
                    this.c = q * x + h * f;
                    this.d = q * m + h * c;
                    this.tx = a + (e * x + b * f);
                    this.ty = d + (e * m + b * c);
                    return this
                };
                a.prototype.prepend = function(a) {
                    var d = this.tx;
                    if (1 !== a.a || 0 !== a.b || 0 !== a.c || 1 !== a.d) {
                        var e = this.a,
                            b = this.c;
                        this.a = e * a.a + this.b * a.c;
                        this.b = e * a.b + this.b * a.d;
                        this.c = b * a.a + this.d * a.c;
                        this.d = b * a.b + this.d * a.d
                    }
                    this.tx = d * a.a + this.ty * a.c + a.tx;
                    this.ty = d * a.b + this.ty * a.d + a.ty;
                    return this
                };
                a.prototype.decompose = function(a) {
                    var d = this.a,
                        e = this.b,
                        b = this.c,
                        f = this.d,
                        m = -Math.atan2(-b, f),
                        c = Math.atan2(e, d);
                    1E-5 > Math.abs(m + c) ? (a.rotation =
                        c, 0 > d && 0 <= f && (a.rotation += 0 >= a.rotation ? Math.PI : -Math.PI), a.skew.x = a.skew.y = 0) : (a.skew.x = m, a.skew.y = c);
                    a.scale.x = Math.sqrt(d * d + e * e);
                    a.scale.y = Math.sqrt(b * b + f * f);
                    a.position.x = this.tx;
                    a.position.y = this.ty;
                    return a
                };
                a.prototype.invert = function() {
                    var a = this.a,
                        d = this.b,
                        e = this.c,
                        b = this.d,
                        m = this.tx,
                        c = a * b - d * e;
                    this.a = b / c;
                    this.b = -d / c;
                    this.c = -e / c;
                    this.d = a / c;
                    this.tx = (e * this.ty - b * m) / c;
                    this.ty = -(a * this.ty - d * m) / c;
                    return this
                };
                a.prototype.identity = function() {
                    this.a = 1;
                    this.c = this.b = 0;
                    this.d = 1;
                    this.ty = this.tx = 0;
                    return this
                };
                a.prototype.clone = function() {
                    var f = new a;
                    f.a = this.a;
                    f.b = this.b;
                    f.c = this.c;
                    f.d = this.d;
                    f.tx = this.tx;
                    f.ty = this.ty;
                    return f
                };
                a.prototype.copy = function(a) {
                    a.a = this.a;
                    a.b = this.b;
                    a.c = this.c;
                    a.d = this.d;
                    a.tx = this.tx;
                    a.ty = this.ty;
                    return a
                };
                h(a, null, [{
                    key: "IDENTITY",
                    get: function() {
                        return new a
                    }
                }, {
                    key: "TEMP_MATRIX",
                    get: function() {
                        return new a
                    }
                }]);
                return a
            }();
            g["default"] = a
        }, {
            "./Point": 67
        }],
        66: [function(a, c, g) {
            g.__esModule = !0;
            var h = function() {
                function a(a, f) {
                    for (var d = 0; d < f.length; d++) {
                        var e = f[d];
                        e.enumerable =
                            e.enumerable || !1;
                        e.configurable = !0;
                        "value" in e && (e.writable = !0);
                        Object.defineProperty(a, e.key, e)
                    }
                }
                return function(m, f, d) {
                    f && a(m.prototype, f);
                    d && a(m, d);
                    return m
                }
            }();
            a = function() {
                function a(m, f) {
                    var d = 2 < arguments.length && void 0 !== arguments[2] ? arguments[2] : 0,
                        e = 3 < arguments.length && void 0 !== arguments[3] ? arguments[3] : 0;
                    if (!(this instanceof a)) throw new TypeError("Cannot call a class as a function");
                    this._x = d;
                    this._y = e;
                    this.cb = m;
                    this.scope = f
                }
                a.prototype.set = function(a, f) {
                    var d = a || 0,
                        e = f || (0 !== f ? d : 0);
                    if (this._x !==
                        d || this._y !== e) this._x = d, this._y = e, this.cb.call(this.scope)
                };
                a.prototype.copy = function(a) {
                    if (this._x !== a.x || this._y !== a.y) this._x = a.x, this._y = a.y, this.cb.call(this.scope)
                };
                h(a, [{
                    key: "x",
                    get: function() {
                        return this._x
                    },
                    set: function(a) {
                        this._x !== a && (this._x = a, this.cb.call(this.scope))
                    }
                }, {
                    key: "y",
                    get: function() {
                        return this._y
                    },
                    set: function(a) {
                        this._y !== a && (this._y = a, this.cb.call(this.scope))
                    }
                }]);
                return a
            }();
            g["default"] = a
        }, {}],
        67: [function(a, c, g) {
            g.__esModule = !0;
            a = function() {
                function a() {
                    var c = 0 < arguments.length &&
                        void 0 !== arguments[0] ? arguments[0] : 0,
                        m = 1 < arguments.length && void 0 !== arguments[1] ? arguments[1] : 0;
                    if (!(this instanceof a)) throw new TypeError("Cannot call a class as a function");
                    this.x = c;
                    this.y = m
                }
                a.prototype.clone = function() {
                    return new a(this.x, this.y)
                };
                a.prototype.copy = function(a) {
                    this.set(a.x, a.y)
                };
                a.prototype.equals = function(a) {
                    return a.x === this.x && a.y === this.y
                };
                a.prototype.set = function(a, m) {
                    this.x = a || 0;
                    this.y = m || (0 !== m ? this.x : 0)
                };
                return a
            }();
            g["default"] = a
        }, {}],
        68: [function(a, c, g) {
            function h(a) {
                return a &&
                    a.__esModule ? a : {
                        "default": a
                    }
            }
            g.__esModule = !0;
            var n = a("./Point");
            Object.defineProperty(g, "Point", {
                enumerable: !0,
                get: function() {
                    return h(n)["default"]
                }
            });
            var m = a("./ObservablePoint");
            Object.defineProperty(g, "ObservablePoint", {
                enumerable: !0,
                get: function() {
                    return h(m)["default"]
                }
            });
            var f = a("./Matrix");
            Object.defineProperty(g, "Matrix", {
                enumerable: !0,
                get: function() {
                    return h(f)["default"]
                }
            });
            var d = a("./GroupD8");
            Object.defineProperty(g, "GroupD8", {
                enumerable: !0,
                get: function() {
                    return h(d)["default"]
                }
            });
            var e =
                a("./shapes/Circle");
            Object.defineProperty(g, "Circle", {
                enumerable: !0,
                get: function() {
                    return h(e)["default"]
                }
            });
            var b = a("./shapes/Ellipse");
            Object.defineProperty(g, "Ellipse", {
                enumerable: !0,
                get: function() {
                    return h(b)["default"]
                }
            });
            var p = a("./shapes/Polygon");
            Object.defineProperty(g, "Polygon", {
                enumerable: !0,
                get: function() {
                    return h(p)["default"]
                }
            });
            var u = a("./shapes/Rectangle");
            Object.defineProperty(g, "Rectangle", {
                enumerable: !0,
                get: function() {
                    return h(u)["default"]
                }
            });
            var q = a("./shapes/RoundedRectangle");
            Object.defineProperty(g, "RoundedRectangle", {
                enumerable: !0,
                get: function() {
                    return h(q)["default"]
                }
            })
        }, {
            "./GroupD8": 64,
            "./Matrix": 65,
            "./ObservablePoint": 66,
            "./Point": 67,
            "./shapes/Circle": 69,
            "./shapes/Ellipse": 70,
            "./shapes/Polygon": 71,
            "./shapes/Rectangle": 72,
            "./shapes/RoundedRectangle": 73
        }],
        69: [function(a, c, g) {
            g.__esModule = !0;
            var h = (c = a("./Rectangle")) && c.__esModule ? c : {
                    "default": c
                },
                n = a("../../const");
            a = function() {
                function a() {
                    var f = 0 < arguments.length && void 0 !== arguments[0] ? arguments[0] : 0,
                        d = 1 < arguments.length &&
                        void 0 !== arguments[1] ? arguments[1] : 0,
                        e = 2 < arguments.length && void 0 !== arguments[2] ? arguments[2] : 0;
                    if (!(this instanceof a)) throw new TypeError("Cannot call a class as a function");
                    this.x = f;
                    this.y = d;
                    this.radius = e;
                    this.type = n.SHAPES.CIRC
                }
                a.prototype.clone = function() {
                    return new a(this.x, this.y, this.radius)
                };
                a.prototype.contains = function(a, d) {
                    if (0 >= this.radius) return !1;
                    var e = this.x - a,
                        b = this.y - d;
                    return e * e + b * b <= this.radius * this.radius
                };
                a.prototype.getBounds = function() {
                    return new h["default"](this.x - this.radius,
                        this.y - this.radius, 2 * this.radius, 2 * this.radius)
                };
                return a
            }();
            g["default"] = a
        }, {
            "../../const": 44,
            "./Rectangle": 72
        }],
        70: [function(a, c, g) {
            g.__esModule = !0;
            var h = (c = a("./Rectangle")) && c.__esModule ? c : {
                    "default": c
                },
                n = a("../../const");
            a = function() {
                function a() {
                    var f = 0 < arguments.length && void 0 !== arguments[0] ? arguments[0] : 0,
                        d = 1 < arguments.length && void 0 !== arguments[1] ? arguments[1] : 0,
                        e = 2 < arguments.length && void 0 !== arguments[2] ? arguments[2] : 0,
                        b = 3 < arguments.length && void 0 !== arguments[3] ? arguments[3] : 0;
                    if (!(this instanceof a)) throw new TypeError("Cannot call a class as a function");
                    this.x = f;
                    this.y = d;
                    this.width = e;
                    this.height = b;
                    this.type = n.SHAPES.ELIP
                }
                a.prototype.clone = function() {
                    return new a(this.x, this.y, this.width, this.height)
                };
                a.prototype.contains = function(a, d) {
                    if (0 >= this.width || 0 >= this.height) return !1;
                    var e = (a - this.x) / this.width,
                        b = (d - this.y) / this.height;
                    return 1 >= e * e + b * b
                };
                a.prototype.getBounds = function() {
                    return new h["default"](this.x - this.width, this.y - this.height, this.width, this.height)
                };
                return a
            }();
            g["default"] =
                a
        }, {
            "../../const": 44,
            "./Rectangle": 72
        }],
        71: [function(a, c, g) {
            g.__esModule = !0;
            var h = (c = a("../Point")) && c.__esModule ? c : {
                    "default": c
                },
                n = a("../../const");
            a = function() {
                function a() {
                    for (var f = arguments.length, d = Array(f), e = 0; e < f; e++) d[e] = arguments[e];
                    if (!(this instanceof a)) throw new TypeError("Cannot call a class as a function");
                    Array.isArray(d[0]) && (d = d[0]);
                    if (d[0] instanceof h["default"]) {
                        for (var f = [], e = 0, b = d.length; e < b; e++) f.push(d[e].x, d[e].y);
                        d = f
                    }
                    this.closed = !0;
                    this.points = d;
                    this.type = n.SHAPES.POLY
                }
                a.prototype.clone = function() {
                    return new a(this.points.slice())
                };
                a.prototype.close = function() {
                    var a = this.points;
                    a[0] === a[a.length - 2] && a[1] === a[a.length - 1] || a.push(a[0], a[1])
                };
                a.prototype.contains = function(a, d) {
                    for (var e = !1, b = this.points.length / 2, f = 0, c = b - 1; f < b; c = f++) {
                        var m = this.points[2 * f],
                            g = this.points[2 * f + 1],
                            h = this.points[2 * c],
                            c = this.points[2 * c + 1];
                        g > d !== c > d && a < (d - g) / (c - g) * (h - m) + m && (e = !e)
                    }
                    return e
                };
                return a
            }();
            g["default"] = a
        }, {
            "../../const": 44,
            "../Point": 67
        }],
        72: [function(a, c, g) {
            g.__esModule = !0;
            var h =
                function() {
                    function a(a, d) {
                        for (var e = 0; e < d.length; e++) {
                            var b = d[e];
                            b.enumerable = b.enumerable || !1;
                            b.configurable = !0;
                            "value" in b && (b.writable = !0);
                            Object.defineProperty(a, b.key, b)
                        }
                    }
                    return function(f, d, e) {
                        d && a(f.prototype, d);
                        e && a(f, e);
                        return f
                    }
                }(),
                n = a("../../const");
            a = function() {
                function a() {
                    var f = 0 < arguments.length && void 0 !== arguments[0] ? arguments[0] : 0,
                        d = 1 < arguments.length && void 0 !== arguments[1] ? arguments[1] : 0,
                        e = 2 < arguments.length && void 0 !== arguments[2] ? arguments[2] : 0,
                        b = 3 < arguments.length && void 0 !== arguments[3] ?
                        arguments[3] : 0;
                    if (!(this instanceof a)) throw new TypeError("Cannot call a class as a function");
                    this.x = f;
                    this.y = d;
                    this.width = e;
                    this.height = b;
                    this.type = n.SHAPES.RECT
                }
                a.prototype.clone = function() {
                    return new a(this.x, this.y, this.width, this.height)
                };
                a.prototype.copy = function(a) {
                    this.x = a.x;
                    this.y = a.y;
                    this.width = a.width;
                    this.height = a.height;
                    return this
                };
                a.prototype.contains = function(a, d) {
                    return 0 >= this.width || 0 >= this.height ? !1 : a >= this.x && a < this.x + this.width && d >= this.y && d < this.y + this.height ? !0 : !1
                };
                a.prototype.pad =
                    function(a, d) {
                        a = a || 0;
                        d = d || (0 !== d ? a : 0);
                        this.x -= a;
                        this.y -= d;
                        this.width += 2 * a;
                        this.height += 2 * d
                    };
                a.prototype.fit = function(a) {
                    this.x < a.x && (this.width += this.x, 0 > this.width && (this.width = 0), this.x = a.x);
                    this.y < a.y && (this.height += this.y, 0 > this.height && (this.height = 0), this.y = a.y);
                    this.x + this.width > a.x + a.width && (this.width = a.width - this.x, 0 > this.width && (this.width = 0));
                    this.y + this.height > a.y + a.height && (this.height = a.height - this.y, 0 > this.height && (this.height = 0))
                };
                a.prototype.enlarge = function(a) {
                    var d = Math.min(this.x,
                            a.x),
                        e = Math.max(this.x + this.width, a.x + a.width),
                        b = Math.min(this.y, a.y);
                    a = Math.max(this.y + this.height, a.y + a.height);
                    this.x = d;
                    this.width = e - d;
                    this.y = b;
                    this.height = a - b
                };
                h(a, [{
                    key: "left",
                    get: function() {
                        return this.x
                    }
                }, {
                    key: "right",
                    get: function() {
                        return this.x + this.width
                    }
                }, {
                    key: "top",
                    get: function() {
                        return this.y
                    }
                }, {
                    key: "bottom",
                    get: function() {
                        return this.y + this.height
                    }
                }], [{
                    key: "EMPTY",
                    get: function() {
                        return new a(0, 0, 0, 0)
                    }
                }]);
                return a
            }();
            g["default"] = a
        }, {
            "../../const": 44
        }],
        73: [function(a, c, g) {
            g.__esModule = !0;
            var h = a("../../const");
            a = function() {
                function a() {
                    var c = 0 < arguments.length && void 0 !== arguments[0] ? arguments[0] : 0,
                        f = 1 < arguments.length && void 0 !== arguments[1] ? arguments[1] : 0,
                        d = 2 < arguments.length && void 0 !== arguments[2] ? arguments[2] : 0,
                        e = 3 < arguments.length && void 0 !== arguments[3] ? arguments[3] : 0,
                        b = 4 < arguments.length && void 0 !== arguments[4] ? arguments[4] : 20;
                    if (!(this instanceof a)) throw new TypeError("Cannot call a class as a function");
                    this.x = c;
                    this.y = f;
                    this.width = d;
                    this.height = e;
                    this.radius = b;
                    this.type =
                        h.SHAPES.RREC
                }
                a.prototype.clone = function() {
                    return new a(this.x, this.y, this.width, this.height, this.radius)
                };
                a.prototype.contains = function(a, f) {
                    if (0 >= this.width || 0 >= this.height) return !1;
                    if (a >= this.x && a <= this.x + this.width && f >= this.y && f <= this.y + this.height) {
                        if (f >= this.y + this.radius && f <= this.y + this.height - this.radius || a >= this.x + this.radius && a <= this.x + this.width - this.radius) return !0;
                        var d = a - (this.x + this.radius),
                            e = f - (this.y + this.radius),
                            b = this.radius * this.radius;
                        if (d * d + e * e <= b) return !0;
                        d = a - (this.x + this.width -
                            this.radius);
                        if (d * d + e * e <= b) return !0;
                        e = f - (this.y + this.height - this.radius);
                        if (d * d + e * e <= b) return !0;
                        d = a - (this.x + this.radius);
                        if (d * d + e * e <= b) return !0
                    }
                    return !1
                };
                return a
            }();
            g["default"] = a
        }, {
            "../../const": 44
        }],
        74: [function(a, c, g) {
            function h(a) {
                return a && a.__esModule ? a : {
                    "default": a
                }
            }

            function n(a, b) {
                if ("function" !== typeof b && null !== b) throw new TypeError("Super expression must either be null or a function, not " + typeof b);
                a.prototype = Object.create(b && b.prototype, {
                    constructor: {
                        value: a,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                });
                b && (Object.setPrototypeOf ? Object.setPrototypeOf(a, b) : a.__proto__ = b)
            }
            g.__esModule = !0;
            var m = function() {
                    function a(a, b) {
                        for (var d = 0; d < b.length; d++) {
                            var e = b[d];
                            e.enumerable = e.enumerable || !1;
                            e.configurable = !0;
                            "value" in e && (e.writable = !0);
                            Object.defineProperty(a, e.key, e)
                        }
                    }
                    return function(b, d, e) {
                        d && a(b.prototype, d);
                        e && a(b, e);
                        return b
                    }
                }(),
                f = a("../utils");
            c = a("../math");
            var d = a("../const"),
                e = a("../settings"),
                b = h(e),
                e = a("../display/Container"),
                p = h(e),
                e = a("../textures/RenderTexture"),
                u = h(e);
            a = a("eventemitter3");
            a = h(a);
            var q = new c.Matrix;
            c = function(a) {
                function e(c, m, g, q) {
                    if (!(this instanceof e)) throw new TypeError("Cannot call a class as a function");
                    var h;
                    h = a.call(this);
                    if (!this) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                    h = !h || "object" !== typeof h && "function" !== typeof h ? this : h;
                    (0, f.sayHello)(c);
                    if (q)
                        for (var n in b["default"].RENDER_OPTIONS) "undefined" === typeof q[n] && (q[n] = b["default"].RENDER_OPTIONS[n]);
                    else q = b["default"].RENDER_OPTIONS;
                    h.type =
                        d.RENDERER_TYPE.UNKNOWN;
                    h.width = m || 800;
                    h.height = g || 600;
                    h.view = q.view || document.createElement("canvas");
                    h.resolution = q.resolution || b["default"].RESOLUTION;
                    h.transparent = q.transparent;
                    h.autoResize = q.autoResize || !1;
                    h.blendModes = null;
                    h.preserveDrawingBuffer = q.preserveDrawingBuffer;
                    h.clearBeforeRender = q.clearBeforeRender;
                    h.roundPixels = q.roundPixels;
                    h._backgroundColor = 0;
                    h._backgroundColorRgba = [0, 0, 0, 0];
                    h._backgroundColorString = "#000000";
                    h.backgroundColor = q.backgroundColor || h._backgroundColor;
                    h._tempDisplayObjectParent =
                        new p["default"];
                    h._lastObjectRendered = h._tempDisplayObjectParent;
                    return h
                }
                n(e, a);
                e.prototype.resize = function(a, b) {
                    this.width = a * this.resolution;
                    this.height = b * this.resolution;
                    this.view.width = this.width;
                    this.view.height = this.height;
                    this.autoResize && (this.view.style.width = this.width / this.resolution + "px", this.view.style.height = this.height / this.resolution + "px")
                };
                e.prototype.generateTexture = function(a, b, d) {
                    var e = a.getLocalBounds();
                    b = u["default"].create(e.width | 0, e.height | 0, b, d);
                    q.tx = -e.x;
                    q.ty = -e.y;
                    this.render(a,
                        b, !1, q, !0);
                    return b
                };
                e.prototype.destroy = function(a) {
                    a && this.view.parentNode && this.view.parentNode.removeChild(this.view);
                    this.type = d.RENDERER_TYPE.UNKNOWN;
                    this.height = this.width = 0;
                    this.view = null;
                    this.resolution = 0;
                    this.autoResize = this.transparent = !1;
                    this.blendModes = null;
                    this.roundPixels = this.clearBeforeRender = this.preserveDrawingBuffer = !1;
                    this._backgroundColor = 0;
                    this._backgroundColorString = this._backgroundColorRgba = null;
                    this.backgroundColor = 0;
                    this._lastObjectRendered = this._tempDisplayObjectParent =
                        null
                };
                m(e, [{
                    key: "backgroundColor",
                    get: function() {
                        return this._backgroundColor
                    },
                    set: function(a) {
                        this._backgroundColor = a;
                        this._backgroundColorString = (0, f.hex2string)(a);
                        (0, f.hex2rgb)(a, this._backgroundColorRgba)
                    }
                }]);
                return e
            }(a["default"]);
            g["default"] = c
        }, {
            "../const": 44,
            "../display/Container": 46,
            "../math": 68,
            "../settings": 99,
            "../textures/RenderTexture": 110,
            "../utils": 119,
            eventemitter3: 3
        }],
        75: [function(a, c, g) {
            function h(a) {
                return a && a.__esModule ? a : {
                    "default": a
                }
            }

            function n(a, b) {
                if ("function" !== typeof b &&
                    null !== b) throw new TypeError("Super expression must either be null or a function, not " + typeof b);
                a.prototype = Object.create(b && b.prototype, {
                    constructor: {
                        value: a,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                });
                b && (Object.setPrototypeOf ? Object.setPrototypeOf(a, b) : a.__proto__ = b)
            }
            g.__esModule = !0;
            c = a("../SystemRenderer");
            c = h(c);
            var m = a("./utils/CanvasMaskManager"),
                f = h(m),
                m = a("./utils/CanvasRenderTarget"),
                d = h(m),
                m = a("./utils/mapCanvasBlendModesToPixi"),
                e = h(m),
                m = a("../../utils"),
                b = a("../../const");
            a = a("../../settings");
            var p = h(a);
            a = function(a) {
                function c(d, m) {
                    var g = 2 < arguments.length && void 0 !== arguments[2] ? arguments[2] : {};
                    if (!(this instanceof c)) throw new TypeError("Cannot call a class as a function");
                    g = a.call(this, "Canvas", d, m, g);
                    if (!this) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                    g = !g || "object" !== typeof g && "function" !== typeof g ? this : g;
                    g.type = b.RENDERER_TYPE.CANVAS;
                    g.rootContext = g.view.getContext("2d", {
                        alpha: g.transparent
                    });
                    g.refresh = !0;
                    g.maskManager = new f["default"](g);
                    g.smoothProperty = "imageSmoothingEnabled";
                    g.rootContext.imageSmoothingEnabled || (g.rootContext.webkitImageSmoothingEnabled ? g.smoothProperty = "webkitImageSmoothingEnabled" : g.rootContext.mozImageSmoothingEnabled ? g.smoothProperty = "mozImageSmoothingEnabled" : g.rootContext.oImageSmoothingEnabled ? g.smoothProperty = "oImageSmoothingEnabled" : g.rootContext.msImageSmoothingEnabled && (g.smoothProperty = "msImageSmoothingEnabled"));
                    g.initPlugins();
                    g.blendModes = (0, e["default"])();
                    g._activeBlendMode = null;
                    g.context = null;
                    g.renderingToScreen = !1;
                    g.resize(d, m);
                    return g
                }
                n(c, a);
                c.prototype.render = function(a, e, f, c, m) {
                    if (this.view) {
                        this.renderingToScreen = !e;
                        this.emit("prerender");
                        var g = this.resolution;
                        e ? (e = e.baseTexture || e, e._canvasRenderTarget || (e._canvasRenderTarget = new d["default"](e.width, e.height, e.resolution), e.source = e._canvasRenderTarget.canvas, e.valid = !0), this.context = e._canvasRenderTarget.context, this.resolution = e._canvasRenderTarget.resolution) : this.context = this.rootContext;
                        var p = this.context;
                        e || (this._lastObjectRendered =
                            a);
                        m || (e = a.parent, m = this._tempDisplayObjectParent.transform.worldTransform, c ? c.copy(m) : m.identity(), a.parent = this._tempDisplayObjectParent, a.updateTransform(), a.parent = e);
                        p.setTransform(1, 0, 0, 1, 0, 0);
                        p.globalAlpha = 1;
                        p.globalCompositeOperation = this.blendModes[b.BLEND_MODES.NORMAL];
                        navigator.isCocoonJS && this.view.screencanvas && (p.fillStyle = "black", p.clear());
                        (void 0 !== f ? f : this.clearBeforeRender) && this.renderingToScreen && (this.transparent ? p.clearRect(0, 0, this.width, this.height) : (p.fillStyle = this._backgroundColorString,
                            p.fillRect(0, 0, this.width, this.height)));
                        f = this.context;
                        this.context = p;
                        a.renderCanvas(this);
                        this.context = f;
                        this.resolution = g;
                        this.emit("postrender")
                    }
                };
                c.prototype.clear = function(a) {
                    var b = this.context;
                    a = a || this._backgroundColorString;
                    !this.transparent && a ? (b.fillStyle = a, b.fillRect(0, 0, this.width, this.height)) : b.clearRect(0, 0, this.width, this.height)
                };
                c.prototype.setBlendMode = function(a) {
                    this._activeBlendMode !== a && (this._activeBlendMode = a, this.context.globalCompositeOperation = this.blendModes[a])
                };
                c.prototype.destroy =
                    function(b) {
                        this.destroyPlugins();
                        a.prototype.destroy.call(this, b);
                        this.context = null;
                        this.refresh = !0;
                        this.maskManager.destroy();
                        this.smoothProperty = this.maskManager = null
                    };
                c.prototype.resize = function(d, e) {
                    a.prototype.resize.call(this, d, e);
                    this.smoothProperty && (this.rootContext[this.smoothProperty] = p["default"].SCALE_MODE === b.SCALE_MODES.LINEAR)
                };
                return c
            }(c["default"]);
            g["default"] = a;
            m.pluginTarget.mixin(a)
        }, {
            "../../const": 44,
            "../../settings": 99,
            "../../utils": 119,
            "../SystemRenderer": 74,
            "./utils/CanvasMaskManager": 76,
            "./utils/CanvasRenderTarget": 77,
            "./utils/mapCanvasBlendModesToPixi": 79
        }],
        76: [function(a, c, g) {
            g.__esModule = !0;
            var h = a("../../../const");
            a = function() {
                function a(c) {
                    if (!(this instanceof a)) throw new TypeError("Cannot call a class as a function");
                    this.renderer = c
                }
                a.prototype.pushMask = function(a) {
                    var f = this.renderer;
                    f.context.save();
                    var d = a.alpha,
                        e = a.transform.worldTransform,
                        b = f.resolution;
                    f.context.setTransform(e.a * b, e.b * b, e.c * b, e.d * b, e.tx * b, e.ty * b);
                    a._texture || (this.renderGraphicsShape(a), f.context.clip());
                    a.worldAlpha = d
                };
                a.prototype.renderGraphicsShape = function(a) {
                    var f = this.renderer.context,
                        d = a.graphicsData.length;
                    if (0 !== d) {
                        f.beginPath();
                        for (var e = 0; e < d; e++) {
                            var b = a.graphicsData[e],
                                c = b.shape;
                            if (b.type === h.SHAPES.POLY) {
                                b = c.points;
                                f.moveTo(b[0], b[1]);
                                for (var m = 1; m < b.length / 2; m++) f.lineTo(b[2 * m], b[2 * m + 1]);
                                b[0] === b[b.length - 2] && b[1] === b[b.length - 1] && f.closePath()
                            } else if (b.type === h.SHAPES.RECT) f.rect(c.x, c.y, c.width, c.height), f.closePath();
                            else if (b.type === h.SHAPES.CIRC) f.arc(c.x, c.y, c.radius, 0, 2 * Math.PI),
                                f.closePath();
                            else if (b.type === h.SHAPES.ELIP) {
                                var g = 2 * c.width,
                                    m = 2 * c.height,
                                    b = c.x - g / 2,
                                    c = c.y - m / 2,
                                    n = g / 2 * .5522848,
                                    y = m / 2 * .5522848,
                                    w = b + g,
                                    v = c + m,
                                    g = b + g / 2,
                                    m = c + m / 2;
                                f.moveTo(b, m);
                                f.bezierCurveTo(b, m - y, g - n, c, g, c);
                                f.bezierCurveTo(g + n, c, w, m - y, w, m);
                                f.bezierCurveTo(w, m + y, g + n, v, g, v);
                                f.bezierCurveTo(g - n, v, b, m + y, b, m);
                                f.closePath()
                            } else b.type === h.SHAPES.RREC && (b = c.x, m = c.y, n = c.width, y = c.height, c = c.radius, w = Math.min(n, y) / 2 | 0, c = c > w ? w : c, f.moveTo(b, m + c), f.lineTo(b, m + y - c), f.quadraticCurveTo(b, m + y, b + c, m + y), f.lineTo(b + n - c, m +
                                y), f.quadraticCurveTo(b + n, m + y, b + n, m + y - c), f.lineTo(b + n, m + c), f.quadraticCurveTo(b + n, m, b + n - c, m), f.lineTo(b + c, m), f.quadraticCurveTo(b, m, b, m + c), f.closePath())
                        }
                    }
                };
                a.prototype.popMask = function(a) {
                    a.context.restore()
                };
                a.prototype.destroy = function() {};
                return a
            }();
            g["default"] = a
        }, {
            "../../../const": 44
        }],
        77: [function(a, c, g) {
            g.__esModule = !0;
            var h = function() {
                function a(a, d) {
                    for (var e = 0; e < d.length; e++) {
                        var b = d[e];
                        b.enumerable = b.enumerable || !1;
                        b.configurable = !0;
                        "value" in b && (b.writable = !0);
                        Object.defineProperty(a,
                            b.key, b)
                    }
                }
                return function(f, d, e) {
                    d && a(f.prototype, d);
                    e && a(f, e);
                    return f
                }
            }();
            a = a("../../../settings");
            var n = (a && a.__esModule ? a : {
                "default": a
            })["default"].RESOLUTION;
            a = function() {
                function a(f, d, e) {
                    if (!(this instanceof a)) throw new TypeError("Cannot call a class as a function");
                    this.canvas = document.createElement("canvas");
                    this.context = this.canvas.getContext("2d");
                    this.resolution = e || n;
                    this.resize(f, d)
                }
                a.prototype.clear = function() {
                    this.context.setTransform(1, 0, 0, 1, 0, 0);
                    this.context.clearRect(0, 0, this.canvas.width,
                        this.canvas.height)
                };
                a.prototype.resize = function(a, d) {
                    this.canvas.width = a * this.resolution;
                    this.canvas.height = d * this.resolution
                };
                a.prototype.destroy = function() {
                    this.canvas = this.context = null
                };
                h(a, [{
                    key: "width",
                    get: function() {
                        return this.canvas.width
                    },
                    set: function(a) {
                        this.canvas.width = a
                    }
                }, {
                    key: "height",
                    get: function() {
                        return this.canvas.height
                    },
                    set: function(a) {
                        this.canvas.height = a
                    }
                }]);
                return a
            }();
            g["default"] = a
        }, {
            "../../../settings": 99
        }],
        78: [function(a, c, g) {
            function h(a) {
                var c = document.createElement("canvas");
                c.width = 6;
                c.height = 1;
                var f = c.getContext("2d");
                f.fillStyle = a;
                f.fillRect(0, 0, 6, 1);
                return c
            }
            g.__esModule = !0;
            g["default"] = function() {
                if ("undefined" === typeof document) return !1;
                var a = h("#ff00ff"),
                    c = h("#ffff00"),
                    f = document.createElement("canvas");
                f.width = 6;
                f.height = 1;
                f = f.getContext("2d");
                f.globalCompositeOperation = "multiply";
                f.drawImage(a, 0, 0);
                f.drawImage(c, 2, 0);
                a = f.getImageData(2, 0, 1, 1);
                if (!a) return !1;
                a = a.data;
                return 255 === a[0] && 0 === a[1] && 0 === a[2]
            }
        }, {}],
        79: [function(a, c, g) {
            g.__esModule = !0;
            g["default"] =
                function() {
                    var a = 0 < arguments.length && void 0 !== arguments[0] ? arguments[0] : [];
                    (0, n["default"])() ? (a[h.BLEND_MODES.NORMAL] = "source-over", a[h.BLEND_MODES.ADD] = "lighter", a[h.BLEND_MODES.MULTIPLY] = "multiply", a[h.BLEND_MODES.SCREEN] = "screen", a[h.BLEND_MODES.OVERLAY] = "overlay", a[h.BLEND_MODES.DARKEN] = "darken", a[h.BLEND_MODES.LIGHTEN] = "lighten", a[h.BLEND_MODES.COLOR_DODGE] = "color-dodge", a[h.BLEND_MODES.COLOR_BURN] = "color-burn", a[h.BLEND_MODES.HARD_LIGHT] = "hard-light", a[h.BLEND_MODES.SOFT_LIGHT] = "soft-light",
                        a[h.BLEND_MODES.DIFFERENCE] = "difference", a[h.BLEND_MODES.EXCLUSION] = "exclusion", a[h.BLEND_MODES.HUE] = "hue", a[h.BLEND_MODES.SATURATION] = "saturate", a[h.BLEND_MODES.COLOR] = "color", a[h.BLEND_MODES.LUMINOSITY] = "luminosity") : (a[h.BLEND_MODES.NORMAL] = "source-over", a[h.BLEND_MODES.ADD] = "lighter", a[h.BLEND_MODES.MULTIPLY] = "source-over", a[h.BLEND_MODES.SCREEN] = "source-over", a[h.BLEND_MODES.OVERLAY] = "source-over", a[h.BLEND_MODES.DARKEN] = "source-over", a[h.BLEND_MODES.LIGHTEN] = "source-over", a[h.BLEND_MODES.COLOR_DODGE] =
                        "source-over", a[h.BLEND_MODES.COLOR_BURN] = "source-over", a[h.BLEND_MODES.HARD_LIGHT] = "source-over", a[h.BLEND_MODES.SOFT_LIGHT] = "source-over", a[h.BLEND_MODES.DIFFERENCE] = "source-over", a[h.BLEND_MODES.EXCLUSION] = "source-over", a[h.BLEND_MODES.HUE] = "source-over", a[h.BLEND_MODES.SATURATION] = "source-over", a[h.BLEND_MODES.COLOR] = "source-over", a[h.BLEND_MODES.LUMINOSITY] = "source-over");
                    return a
                };
            var h = a("../../../const"),
                n = (a = a("./canUseNewCanvasBlendModes")) && a.__esModule ? a : {
                    "default": a
                }
        }, {
            "../../../const": 44,
            "./canUseNewCanvasBlendModes": 78
        }],
        80: [function(a, c, g) {
            g.__esModule = !0;
            var h = a("../../const"),
                n = (a = a("../../settings")) && a.__esModule ? a : {
                    "default": a
                };
            a = function() {
                function a(f) {
                    if (!(this instanceof a)) throw new TypeError("Cannot call a class as a function");
                    this.renderer = f;
                    this.checkCount = this.count = 0;
                    this.maxIdle = n["default"].GC_MAX_IDLE;
                    this.checkCountMax = n["default"].GC_MAX_CHECK_COUNT;
                    this.mode = n["default"].GC_MODE
                }
                a.prototype.update = function() {
                    this.count++;
                    this.mode !== h.GC_MODES.MANUAL && (this.checkCount++,
                        this.checkCount > this.checkCountMax && (this.checkCount = 0, this.run()))
                };
                a.prototype.run = function() {
                    for (var a = this.renderer.textureManager, d = a._managedTextures, e = !1, b = 0; b < d.length; b++) {
                        var c = d[b];
                        !c._glRenderTargets && this.count - c.touched > this.maxIdle && (a.destroyTexture(c, !0), d[b] = null, e = !0)
                    }
                    if (e) {
                        for (e = a = 0; e < d.length; e++) null !== d[e] && (d[a++] = d[e]);
                        d.length = a
                    }
                };
                a.prototype.unload = function(a) {
                    var d = this.renderer.textureManager;
                    a._texture && a._texture._glRenderTargets && d.destroyTexture(a._texture, !0);
                    for (d =
                        a.children.length - 1; 0 <= d; d--) this.unload(a.children[d])
                };
                return a
            }();
            g["default"] = a
        }, {
            "../../const": 44,
            "../../settings": 99
        }],
        81: [function(a, c, g) {
            g.__esModule = !0;
            var h = a("pixi-gl-core"),
                n = a("../../const"),
                m = (c = a("./utils/RenderTarget")) && c.__esModule ? c : {
                    "default": c
                },
                f = a("../../utils");
            a = function() {
                function a(d) {
                    if (!(this instanceof a)) throw new TypeError("Cannot call a class as a function");
                    this.renderer = d;
                    this.gl = d.gl;
                    this._managedTextures = []
                }
                a.prototype.bindTexture = function() {};
                a.prototype.getTexture =
                    function() {};
                a.prototype.updateTexture = function(a, b) {
                    var d = this.gl,
                        e = !!a._glRenderTargets;
                    if (!a.hasLoaded) return null;
                    var f = this.renderer.boundTextures;
                    if (void 0 === b)
                        for (var c = b = 0; c < f.length; ++c)
                            if (f[c] === a) {
                                b = c;
                                break
                            } f[b] = a;
                    d.activeTexture(d.TEXTURE0 + b);
                    (d = a._glTextures[this.renderer.CONTEXT_UID]) ? e ? a._glRenderTargets[this.renderer.CONTEXT_UID].resize(a.width, a.height) : d.upload(a.source): (e ? (e = new m["default"](this.gl, a.width, a.height, a.scaleMode, a.resolution), e.resize(a.width, a.height), a._glRenderTargets[this.renderer.CONTEXT_UID] =
                            e, d = e.texture) : (d = new h.GLTexture(this.gl, null, null, null, null), d.bind(b), d.premultiplyAlpha = !0, d.upload(a.source)), a._glTextures[this.renderer.CONTEXT_UID] = d, a.on("update", this.updateTexture, this), a.on("dispose", this.destroyTexture, this), this._managedTextures.push(a), a.isPowerOfTwo ? (a.mipmap && d.enableMipmap(), a.wrapMode === n.WRAP_MODES.CLAMP ? d.enableWrapClamp() : a.wrapMode === n.WRAP_MODES.REPEAT ? d.enableWrapRepeat() : d.enableWrapMirrorRepeat()) : d.enableWrapClamp(), a.scaleMode === n.SCALE_MODES.NEAREST ?
                        d.enableNearestScaling() : d.enableLinearScaling());
                    return d
                };
                a.prototype.destroyTexture = function(a, b) {
                    a = a.baseTexture || a;
                    if (a.hasLoaded && a._glTextures[this.renderer.CONTEXT_UID] && (this.renderer.unbindTexture(a), a._glTextures[this.renderer.CONTEXT_UID].destroy(), a.off("update", this.updateTexture, this), a.off("dispose", this.destroyTexture, this), delete a._glTextures[this.renderer.CONTEXT_UID], !b)) {
                        var d = this._managedTextures.indexOf(a); - 1 !== d && (0, f.removeItems)(this._managedTextures, d, 1)
                    }
                };
                a.prototype.removeAll =
                    function() {
                        for (var a = 0; a < this._managedTextures.length; ++a) {
                            var b = this._managedTextures[a];
                            b._glTextures[this.renderer.CONTEXT_UID] && delete b._glTextures[this.renderer.CONTEXT_UID]
                        }
                    };
                a.prototype.destroy = function() {
                    for (var a = 0; a < this._managedTextures.length; ++a) {
                        var b = this._managedTextures[a];
                        this.destroyTexture(b, !0);
                        b.off("update", this.updateTexture, this);
                        b.off("dispose", this.destroyTexture, this)
                    }
                    this._managedTextures = null
                };
                return a
            }();
            g["default"] = a
        }, {
            "../../const": 44,
            "../../utils": 119,
            "./utils/RenderTarget": 94,
            "pixi-gl-core": 12
        }],
        82: [function(a, c, g) {
            function h(a) {
                return a && a.__esModule ? a : {
                    "default": a
                }
            }

            function n(a, b) {
                if ("function" !== typeof b && null !== b) throw new TypeError("Super expression must either be null or a function, not " + typeof b);
                a.prototype = Object.create(b && b.prototype, {
                    constructor: {
                        value: a,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                });
                b && (Object.setPrototypeOf ? Object.setPrototypeOf(a, b) : a.__proto__ = b)
            }
            g.__esModule = !0;
            c = a("../SystemRenderer");
            var m = h(c);
            c = a("./managers/MaskManager");
            var f = h(c);
            c = a("./managers/StencilManager");
            var d = h(c);
            c = a("./managers/FilterManager");
            var e = h(c);
            c = a("./utils/RenderTarget");
            var b = h(c);
            c = a("./utils/ObjectRenderer");
            var p = h(c);
            c = a("./TextureManager");
            var u = h(c);
            c = a("../../textures/BaseTexture");
            var q = h(c);
            c = a("./TextureGarbageCollector");
            var x = h(c);
            c = a("./WebGLState");
            var y = h(c);
            c = a("./utils/mapWebGLDrawModesToPixi");
            var w = h(c);
            c = a("./utils/validateContext");
            var v = h(c);
            c = a("../../utils");
            var t = a("pixi-gl-core"),
                z = h(t),
                r = a("../../const"),
                A = 0;
            a = function(a) {
                function c(b,
                    m) {
                    var g = 2 < arguments.length && void 0 !== arguments[2] ? arguments[2] : {};
                    if (!(this instanceof c)) throw new TypeError("Cannot call a class as a function");
                    var q;
                    q = a.call(this, "WebGL", b, m, g);
                    if (!this) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                    q = !q || "object" !== typeof q && "function" !== typeof q ? this : q;
                    q.type = r.RENDERER_TYPE.WEBGL;
                    q.handleContextLost = q.handleContextLost.bind(q);
                    q.handleContextRestored = q.handleContextRestored.bind(q);
                    q.view.addEventListener("webglcontextlost",
                        q.handleContextLost, !1);
                    q.view.addEventListener("webglcontextrestored", q.handleContextRestored, !1);
                    q._contextOptions = {
                        alpha: q.transparent,
                        antialias: g.antialias,
                        premultipliedAlpha: q.transparent && "notMultiplied" !== q.transparent,
                        stencil: !0,
                        preserveDrawingBuffer: g.preserveDrawingBuffer
                    };
                    q._backgroundColorRgba[3] = q.transparent ? 0 : 1;
                    q.maskManager = new f["default"](q);
                    q.stencilManager = new d["default"](q);
                    q.emptyRenderer = new p["default"](q);
                    q.currentRenderer = q.emptyRenderer;
                    q.initPlugins();
                    g.context && (0, v["default"])(g.context);
                    q.gl = g.context || z["default"].createContext(q.view, q._contextOptions);
                    q.CONTEXT_UID = A++;
                    q.state = new y["default"](q.gl);
                    q.renderingToScreen = !0;
                    q.boundTextures = null;
                    q._activeShader = null;
                    q._activeVao = null;
                    q._activeRenderTarget = null;
                    q._initContext();
                    q.filterManager = new e["default"](q);
                    q.drawModes = (0, w["default"])(q.gl);
                    q._nextTextureLocation = 0;
                    q.setBlendMode(0);
                    return q
                }
                n(c, a);
                c.prototype._initContext = function() {
                    var a = this.gl;
                    a.isContextLost() && a.getExtension("WEBGL_lose_context") && a.getExtension("WEBGL_lose_context").restoreContext();
                    var d = a.getParameter(a.MAX_TEXTURE_IMAGE_UNITS);
                    this.boundTextures = Array(d);
                    this.emptyTextures = Array(d);
                    this.textureManager = new u["default"](this);
                    this.textureGC = new x["default"](this);
                    this.state.resetToDefault();
                    this.rootRenderTarget = new b["default"](a, this.width, this.height, null, this.resolution, !0);
                    this.rootRenderTarget.clearColor = this._backgroundColorRgba;
                    this.bindRenderTarget(this.rootRenderTarget);
                    var e = new z["default"].GLTexture.fromData(a, null, 1, 1),
                        f = {
                            _glTextures: {}
                        };
                    f._glTextures[this.CONTEXT_UID] = {};
                    for (var c = 0; c < d; c++) {
                        var m = new q["default"];
                        m._glTextures[this.CONTEXT_UID] = e;
                        this.boundTextures[c] = f;
                        this.emptyTextures[c] = m;
                        this.bindTexture(null, c)
                    }
                    this.emit("context", a);
                    this.resize(this.width, this.height)
                };
                c.prototype.render = function(a, b, d, e, f) {
                    this.renderingToScreen = !b;
                    this.emit("prerender");
                    this.gl && !this.gl.isContextLost() && (this._nextTextureLocation = 0, b || (this._lastObjectRendered = a), f || (f = a.parent, a.parent = this._tempDisplayObjectParent, a.updateTransform(), a.parent = f), this.bindRenderTexture(b,
                        e), this.currentRenderer.start(), (void 0 !== d ? d : this.clearBeforeRender) && this._activeRenderTarget.clear(), a.renderWebGL(this), this.currentRenderer.flush(), this.textureGC.update(), this.emit("postrender"))
                };
                c.prototype.setObjectRenderer = function(a) {
                    this.currentRenderer !== a && (this.currentRenderer.stop(), this.currentRenderer = a, this.currentRenderer.start())
                };
                c.prototype.flush = function() {
                    this.setObjectRenderer(this.emptyRenderer)
                };
                c.prototype.resize = function(a, b) {
                    m["default"].prototype.resize.call(this, a,
                        b);
                    this.rootRenderTarget.resize(a, b);
                    this._activeRenderTarget === this.rootRenderTarget && (this.rootRenderTarget.activate(), this._activeShader && (this._activeShader.uniforms.projectionMatrix = this.rootRenderTarget.projectionMatrix.toArray(!0)))
                };
                c.prototype.setBlendMode = function(a) {
                    this.state.setBlendMode(a)
                };
                c.prototype.clear = function(a) {
                    this._activeRenderTarget.clear(a)
                };
                c.prototype.setTransform = function(a) {
                    this._activeRenderTarget.transform = a
                };
                c.prototype.bindRenderTexture = function(a, b) {
                    var d;
                    a ? (d =
                        a.baseTexture, d._glRenderTargets[this.CONTEXT_UID] || this.textureManager.updateTexture(d, 0), this.unbindTexture(d), d = d._glRenderTargets[this.CONTEXT_UID], d.setFrame(a.frame)) : d = this.rootRenderTarget;
                    d.transform = b;
                    this.bindRenderTarget(d);
                    return this
                };
                c.prototype.bindRenderTarget = function(a) {
                    a !== this._activeRenderTarget && (this._activeRenderTarget = a, a.activate(), this._activeShader && (this._activeShader.uniforms.projectionMatrix = a.projectionMatrix.toArray(!0)), this.stencilManager.setMaskStack(a.stencilMaskStack));
                    return this
                };
                c.prototype.bindShader = function(a) {
                    this._activeShader !== a && (this._activeShader = a, a.bind(), a.uniforms.projectionMatrix = this._activeRenderTarget.projectionMatrix.toArray(!0));
                    return this
                };
                c.prototype.bindTexture = function(a, b, d) {
                    a = a || this.emptyTextures[b];
                    a = a.baseTexture || a;
                    a.touched = this.textureGC.count;
                    if (d) b = b || 0;
                    else {
                        for (d = 0; d < this.boundTextures.length; d++)
                            if (this.boundTextures[d] === a) return d;
                        void 0 === b && (this._nextTextureLocation++, this._nextTextureLocation %= this.boundTextures.length,
                            b = this.boundTextures.length - this._nextTextureLocation - 1)
                    }
                    d = this.gl;
                    var e = a._glTextures[this.CONTEXT_UID];
                    e ? (this.boundTextures[b] = a, d.activeTexture(d.TEXTURE0 + b), d.bindTexture(d.TEXTURE_2D, e.texture)) : this.textureManager.updateTexture(a, b);
                    return b
                };
                c.prototype.unbindTexture = function(a) {
                    var b = this.gl;
                    a = a.baseTexture || a;
                    for (var d = 0; d < this.boundTextures.length; d++) this.boundTextures[d] === a && (this.boundTextures[d] = this.emptyTextures[d], b.activeTexture(b.TEXTURE0 + d), b.bindTexture(b.TEXTURE_2D, this.emptyTextures[d]._glTextures[this.CONTEXT_UID].texture));
                    return this
                };
                c.prototype.createVao = function() {
                    return new z["default"].VertexArrayObject(this.gl, this.state.attribState)
                };
                c.prototype.bindVao = function(a) {
                    if (this._activeVao === a) return this;
                    a ? a.bind() : this._activeVao && this._activeVao.unbind();
                    this._activeVao = a;
                    return this
                };
                c.prototype.reset = function() {
                    this.setObjectRenderer(this.emptyRenderer);
                    this._activeShader = null;
                    this._activeRenderTarget = this.rootRenderTarget;
                    this.rootRenderTarget.activate();
                    this.state.resetToDefault();
                    return this
                };
                c.prototype.handleContextLost =
                    function(a) {
                        a.preventDefault()
                    };
                c.prototype.handleContextRestored = function() {
                    this._initContext();
                    this.textureManager.removeAll()
                };
                c.prototype.destroy = function(b) {
                    this.destroyPlugins();
                    this.view.removeEventListener("webglcontextlost", this.handleContextLost);
                    this.view.removeEventListener("webglcontextrestored", this.handleContextRestored);
                    this.textureManager.destroy();
                    a.prototype.destroy.call(this, b);
                    this.uid = 0;
                    this.maskManager.destroy();
                    this.stencilManager.destroy();
                    this.filterManager.destroy();
                    this._contextOptions =
                        this.handleContextRestored = this.handleContextLost = this.currentRenderer = this.textureManager = this.filterManager = this.maskManager = null;
                    this.gl.useProgram(null);
                    this.gl.getExtension("WEBGL_lose_context") && this.gl.getExtension("WEBGL_lose_context").loseContext();
                    this.gl = null
                };
                return c
            }(m["default"]);
            g["default"] = a;
            c.pluginTarget.mixin(a)
        }, {
            "../../const": 44,
            "../../textures/BaseTexture": 109,
            "../../utils": 119,
            "../SystemRenderer": 74,
            "./TextureGarbageCollector": 80,
            "./TextureManager": 81,
            "./WebGLState": 83,
            "./managers/FilterManager": 88,
            "./managers/MaskManager": 89,
            "./managers/StencilManager": 90,
            "./utils/ObjectRenderer": 92,
            "./utils/RenderTarget": 94,
            "./utils/mapWebGLDrawModesToPixi": 97,
            "./utils/validateContext": 98,
            "pixi-gl-core": 12
        }],
        83: [function(a, c, g) {
            g.__esModule = !0;
            var h = (a = a("./utils/mapWebGLBlendModesToPixi")) && a.__esModule ? a : {
                "default": a
            };
            a = function() {
                function a(c) {
                    if (!(this instanceof a)) throw new TypeError("Cannot call a class as a function");
                    this.activeState = new Uint8Array(16);
                    this.defaultState = new Uint8Array(16);
                    this.defaultState[0] =
                        1;
                    this.stackIndex = 0;
                    this.stack = [];
                    this.gl = c;
                    this.maxAttribs = c.getParameter(c.MAX_VERTEX_ATTRIBS);
                    this.attribState = {
                        tempAttribState: Array(this.maxAttribs),
                        attribState: Array(this.maxAttribs)
                    };
                    this.blendModes = (0, h["default"])(c);
                    this.nativeVaoExtension = c.getExtension("OES_vertex_array_object") || c.getExtension("MOZ_OES_vertex_array_object") || c.getExtension("WEBKIT_OES_vertex_array_object")
                }
                a.prototype.push = function() {
                    var a = this.stack[++this.stackIndex];
                    a || (a = this.stack[this.stackIndex] = new Uint8Array(16));
                    for (var f = 0; f < this.activeState.length; f++) this.activeState[f] = a[f]
                };
                a.prototype.pop = function() {
                    var a = this.stack[--this.stackIndex];
                    this.setState(a)
                };
                a.prototype.setState = function(a) {
                    this.setBlend(a[0]);
                    this.setDepthTest(a[1]);
                    this.setFrontFace(a[2]);
                    this.setCullFace(a[3]);
                    this.setBlendMode(a[4])
                };
                a.prototype.setBlend = function(a) {
                    a = a ? 1 : 0;
                    this.activeState[0] !== a && (this.activeState[0] = a, this.gl[a ? "enable" : "disable"](this.gl.BLEND))
                };
                a.prototype.setBlendMode = function(a) {
                    a !== this.activeState[4] && (this.activeState[4] =
                        a, this.gl.blendFunc(this.blendModes[a][0], this.blendModes[a][1]))
                };
                a.prototype.setDepthTest = function(a) {
                    a = a ? 1 : 0;
                    this.activeState[1] !== a && (this.activeState[1] = a, this.gl[a ? "enable" : "disable"](this.gl.DEPTH_TEST))
                };
                a.prototype.setCullFace = function(a) {
                    a = a ? 1 : 0;
                    this.activeState[3] !== a && (this.activeState[3] = a, this.gl[a ? "enable" : "disable"](this.gl.CULL_FACE))
                };
                a.prototype.setFrontFace = function(a) {
                    a = a ? 1 : 0;
                    this.activeState[2] !== a && (this.activeState[2] = a, this.gl.frontFace(this.gl[a ? "CW" : "CCW"]))
                };
                a.prototype.resetAttributes =
                    function() {
                        for (var a = 0; a < this.attribState.tempAttribState.length; a++) this.attribState.tempAttribState[a] = 0;
                        for (a = 0; a < this.attribState.attribState.length; a++) this.attribState.attribState[a] = 0;
                        for (a = 1; a < this.maxAttribs; a++) this.gl.disableVertexAttribArray(a)
                    };
                a.prototype.resetToDefault = function() {
                    this.nativeVaoExtension && this.nativeVaoExtension.bindVertexArrayOES(null);
                    this.resetAttributes();
                    for (var a = 0; a < this.activeState.length; ++a) this.activeState[a] = 32;
                    this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,
                        !1);
                    this.setState(this.defaultState)
                };
                return a
            }();
            g["default"] = a
        }, {
            "./utils/mapWebGLBlendModesToPixi": 96
        }],
        84: [function(a, c, g) {
            g.__esModule = !0;
            var h = function() {
                    function a(a, d) {
                        for (var b = 0; b < d.length; b++) {
                            var e = d[b];
                            e.enumerable = e.enumerable || !1;
                            e.configurable = !0;
                            "value" in e && (e.writable = !0);
                            Object.defineProperty(a, e.key, e)
                        }
                    }
                    return function(b, d, e) {
                        d && a(b.prototype, d);
                        e && a(b, e);
                        return b
                    }
                }(),
                n = (c = a("./extractUniformsFromSrc")) && c.__esModule ? c : {
                    "default": c
                },
                m = a("../../../utils"),
                f = a("../../../const"),
                d = {};
            a = function() {
                function a(b, e, c) {
                    if (!(this instanceof a)) throw new TypeError("Cannot call a class as a function");
                    this.vertexSrc = b || a.defaultVertexSrc;
                    this.fragmentSrc = e || a.defaultFragmentSrc;
                    this.blendMode = f.BLEND_MODES.NORMAL;
                    this.uniformData = c || (0, n["default"])(this.vertexSrc, this.fragmentSrc, "projectionMatrix|uSampler");
                    this.uniforms = {};
                    for (var g in this.uniformData) this.uniforms[g] = this.uniformData[g].value;
                    this.glShaders = {};
                    d[this.vertexSrc + this.fragmentSrc] || (d[this.vertexSrc + this.fragmentSrc] =
                        (0, m.uid)());
                    this.glShaderKey = d[this.vertexSrc + this.fragmentSrc];
                    this.padding = 4;
                    this.resolution = 1;
                    this.enabled = !0
                }
                a.prototype.apply = function(a, d, e, f) {
                    a.applyFilter(this, d, e, f)
                };
                h(a, null, [{
                        key: "defaultVertexSrc",
                        get: function() {
                            return "attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nuniform mat3 projectionMatrix;\nuniform mat3 filterMatrix;\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\nvoid main(void){\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vFilterCoord = ( filterMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n   vTextureCoord = aTextureCoord ;\n}"
                        }
                    },
                    {
                        key: "defaultFragmentSrc",
                        get: function() {
                            return "varying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\nuniform sampler2D uSampler;\nuniform sampler2D filterSampler;\nvoid main(void){\n   vec4 masky = texture2D(filterSampler, vFilterCoord);\n   vec4 sample = texture2D(uSampler, vTextureCoord);\n   vec4 color;\n   if(mod(vFilterCoord.x, 1.0) > 0.5)\n   {\n     color = vec4(1.0, 0.0, 0.0, 1.0);\n   }\n   else\n   {\n     color = vec4(0.0, 1.0, 0.0, 1.0);\n   }\n   gl_FragColor = mix(sample, masky, 0.5);\n   gl_FragColor *= sample.a;\n}"
                        }
                    }
                ]);
                return a
            }();
            g["default"] = a
        }, {
            "../../../const": 44,
            "../../../utils": 119,
            "./extractUniformsFromSrc": 85
        }],
        85: [function(a, c, g) {
            function h(a) {
                var f = /^(projectionMatrix|uSampler|filterArea)$/,
                    d = {},
                    e;
                a = a.replace(/\s+/g, " ").split(/\s*;\s*/);
                for (var b = 0; b < a.length; b++) {
                    var c = a[b].trim();
                    if (-1 < c.indexOf("uniform")) {
                        e = c.split(" ");
                        var c = e[1],
                            m = e[2],
                            g = 1; - 1 < m.indexOf("[") && (e = m.split(/\[|]/), m = e[0], g *= Number(e[1]));
                        m.match(f) || (d[m] = {
                            value: n(c, g),
                            name: m,
                            type: c
                        })
                    }
                }
                return d
            }
            g.__esModule = !0;
            g["default"] = function(a,
                f, d) {
                a = h(a, d);
                f = h(f, d);
                return Object.assign(a, f)
            };
            a = a("pixi-gl-core");
            var n = (a && a.__esModule ? a : {
                "default": a
            })["default"].shader.defaultValue
        }, {
            "pixi-gl-core": 12
        }],
        86: [function(a, c, g) {
            g.__esModule = !0;
            g.calculateScreenSpaceMatrix = function(a, c, f) {
                a = a.identity();
                a.translate(c.x / f.width, c.y / f.height);
                a.scale(f.width, f.height);
                return a
            };
            g.calculateNormalizedScreenSpaceMatrix = function(a, c, f) {
                a = a.identity();
                a.translate(c.x / f.width, c.y / f.height);
                a.scale(f.width / c.width, f.height / c.height);
                return a
            };
            g.calculateSpriteMatrix =
                function(a, c, f, d) {
                    var e = d.worldTransform.copy(h.Matrix.TEMP_MATRIX),
                        b = d._texture.baseTexture;
                    a = a.identity();
                    var m = f.height / f.width;
                    a.translate(c.x / f.width, c.y / f.height);
                    a.scale(1, m);
                    c = f.width / b.width;
                    f = f.height / b.height;
                    e.tx /= b.width * c;
                    e.ty /= b.width * c;
                    e.invert();
                    a.prepend(e);
                    a.scale(1, 1 / m);
                    a.scale(c, f);
                    a.translate(d.anchor.x, d.anchor.y);
                    return a
                };
            var h = a("../../../math")
        }, {
            "../../../math": 68
        }],
        87: [function(a, c, g) {
            function h(a, f) {
                if ("function" !== typeof f && null !== f) throw new TypeError("Super expression must either be null or a function, not " +
                    typeof f);
                a.prototype = Object.create(f && f.prototype, {
                    constructor: {
                        value: a,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                });
                f && (Object.setPrototypeOf ? Object.setPrototypeOf(a, f) : a.__proto__ = f)
            }
            g.__esModule = !0;
            c = (c = a("../Filter")) && c.__esModule ? c : {
                "default": c
            };
            var n = a("../../../../math");
            a("path");
            a = function(a) {
                function f(d) {
                    if (!(this instanceof f)) throw new TypeError("Cannot call a class as a function");
                    var e = new n.Matrix,
                        b;
                    b = a.call(this, "attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n}\n",
                        "varying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float alpha;\nuniform sampler2D mask;\n\nvoid main(void)\n{\n    // check clip! this will stop the mask bleeding out from the edges\n    vec2 text = abs( vMaskCoord - 0.5 );\n    text = step(0.5, text);\n\n    float clip = 1.0 - max(text.y, text.x);\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n\n    original *= (masky.r * masky.a * alpha * clip);\n\n    gl_FragColor = original;\n}\n");
                    if (!this) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                    b = !b || "object" !== typeof b && "function" !== typeof b ? this : b;
                    d.renderable = !1;
                    b.maskSprite = d;
                    b.maskMatrix = e;
                    return b
                }
                h(f, a);
                f.prototype.apply = function(a, e, b) {
                    var d = this.maskSprite;
                    this.uniforms.mask = d._texture;
                    this.uniforms.otherMatrix = a.calculateSpriteMatrix(this.maskMatrix, d);
                    this.uniforms.alpha = d.worldAlpha;
                    a.applyFilter(this, e, b)
                };
                return f
            }(c["default"]);
            g["default"] = a
        }, {
            "../../../../math": 68,
            "../Filter": 84,
            path: 22
        }],
        88: [function(a, c, g) {
            function h(a) {
                return a && a.__esModule ? a : {
                    "default": a
                }
            }

            function n(a, b) {
                if ("function" !== typeof b && null !== b) throw new TypeError("Super expression must either be null or a function, not " + typeof b);
                a.prototype = Object.create(b && b.prototype, {
                    constructor: {
                        value: a,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                });
                b && (Object.setPrototypeOf ? Object.setPrototypeOf(a, b) : a.__proto__ = b)
            }

            function m(a, b) {
                if (!(a instanceof b)) throw new TypeError("Cannot call a class as a function");
            }
            g.__esModule = !0;
            c = a("./WebGLManager");
            c = h(c);
            var f = a("../utils/RenderTarget"),
                d = h(f),
                f = a("../utils/Quad"),
                e = h(f),
                b = a("../../../math"),
                f = a("../../../Shader"),
                p = h(f),
                u = function(a) {
                    if (a && a.__esModule) return a;
                    var b = {};
                    if (null != a)
                        for (var d in a) Object.prototype.hasOwnProperty.call(a, d) && (b[d] = a[d]);
                    b["default"] = a;
                    return b
                }(a("../filters/filterTransforms"));
            a = a("bit-twiddle");
            var q = h(a),
                x = function w() {
                    m(this, w);
                    this.renderTarget = null;
                    this.sourceFrame = new b.Rectangle;
                    this.destinationFrame = new b.Rectangle;
                    this.filters = [];
                    this.target = null;
                    this.resolution = 1
                };
            a = function(a) {
                function b(d) {
                    m(this, b);
                    var f;
                    f = a.call(this, d);
                    if (!this) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                    f = !f || "object" !== typeof f && "function" !== typeof f ? this : f;
                    f.gl = f.renderer.gl;
                    f.quad = new e["default"](f.gl, d.state.attribState);
                    f.shaderCache = {};
                    f.pool = {};
                    f.filterData = null;
                    return f
                }
                n(b, a);
                b.prototype.pushFilter = function(a, b) {
                    var d = this.renderer,
                        e = this.filterData;
                    if (!e) {
                        var f = new x;
                        f.sourceFrame = f.destinationFrame =
                            this.renderer._activeRenderTarget.size;
                        f.renderTarget = d._activeRenderTarget;
                        this.filterData = this.renderer._activeRenderTarget.filterData = e = {
                            index: 0,
                            stack: [f]
                        }
                    }(f = e.stack[++e.index]) || (f = e.stack[e.index] = new x);
                    var c = b[0].resolution,
                        m = b[0].padding | 0,
                        g = a.filterArea || a.getBounds(!0),
                        q = f.sourceFrame,
                        p = f.destinationFrame;
                    q.x = (g.x * c | 0) / c;
                    q.y = (g.y * c | 0) / c;
                    q.width = (g.width * c | 0) / c;
                    q.height = (g.height * c | 0) / c;
                    e.stack[0].renderTarget.transform || q.fit(e.stack[0].destinationFrame);
                    q.pad(m);
                    p.width = q.width;
                    p.height =
                        q.height;
                    e = this.getPotRenderTarget(d.gl, q.width, q.height, c);
                    f.target = a;
                    f.filters = b;
                    f.resolution = c;
                    f.renderTarget = e;
                    e.setFrame(p, q);
                    d.bindRenderTarget(e);
                    e.clear()
                };
                b.prototype.popFilter = function() {
                    var a = this.filterData,
                        b = a.stack[a.index - 1],
                        d = a.stack[a.index];
                    this.quad.map(d.renderTarget.size, d.sourceFrame).upload();
                    var e = d.filters;
                    if (1 === e.length) e[0].apply(this, d.renderTarget, b.renderTarget, !1), this.freePotRenderTarget(d.renderTarget);
                    else {
                        var f = d.renderTarget,
                            c = this.getPotRenderTarget(this.renderer.gl,
                                d.sourceFrame.width, d.sourceFrame.height, d.resolution);
                        c.setFrame(d.destinationFrame, d.sourceFrame);
                        c.clear();
                        for (d = 0; d < e.length - 1; ++d) {
                            e[d].apply(this, f, c, !0);
                            var m = f,
                                f = c,
                                c = m
                        }
                        e[d].apply(this, f, b.renderTarget, !0);
                        this.freePotRenderTarget(f);
                        this.freePotRenderTarget(c)
                    }
                    a.index--;
                    0 === a.index && (this.filterData = null)
                };
                b.prototype.applyFilter = function(a, b, d, e) {
                    var f = this.renderer,
                        c = f.gl,
                        m = a.glShaders[f.CONTEXT_UID];
                    m || (a.glShaderKey ? (m = this.shaderCache[a.glShaderKey], m || (m = new p["default"](this.gl, a.vertexSrc,
                        a.fragmentSrc), a.glShaders[f.CONTEXT_UID] = this.shaderCache[a.glShaderKey] = m)) : m = a.glShaders[f.CONTEXT_UID] = new p["default"](this.gl, a.vertexSrc, a.fragmentSrc), f.bindVao(null), this.quad.initVao(m));
                    f.bindVao(this.quad.vao);
                    f.bindRenderTarget(d);
                    e && (c.disable(c.SCISSOR_TEST), f.clear(), c.enable(c.SCISSOR_TEST));
                    d === f.maskManager.scissorRenderTarget && f.maskManager.pushScissorMask(null, f.maskManager.scissorData);
                    f.bindShader(m);
                    this.syncUniforms(m, a);
                    f.state.setBlendMode(a.blendMode);
                    a = this.renderer.boundTextures[0];
                    c.activeTexture(c.TEXTURE0);
                    c.bindTexture(c.TEXTURE_2D, b.texture.texture);
                    this.quad.vao.draw(this.renderer.gl.TRIANGLES, 6, 0);
                    c.bindTexture(c.TEXTURE_2D, a._glTextures[this.renderer.CONTEXT_UID].texture)
                };
                b.prototype.syncUniforms = function(a, b) {
                    var d = b.uniformData,
                        e = b.uniforms,
                        f = 1,
                        c;
                    if (a.uniforms.data.filterArea) {
                        c = this.filterData.stack[this.filterData.index];
                        var m = a.uniforms.filterArea;
                        m[0] = c.renderTarget.size.width;
                        m[1] = c.renderTarget.size.height;
                        m[2] = c.sourceFrame.x;
                        m[3] = c.sourceFrame.y;
                        a.uniforms.filterArea =
                            m
                    }
                    a.uniforms.data.filterClamp && (c = this.filterData.stack[this.filterData.index], m = a.uniforms.filterClamp, m[0] = 0, m[1] = 0, m[2] = (c.sourceFrame.width - 1) / c.renderTarget.size.width, m[3] = (c.sourceFrame.height - 1) / c.renderTarget.size.height, a.uniforms.filterClamp = m);
                    for (var g in d) "sampler2D" === d[g].type && 0 !== e[g] ? (e[g].baseTexture ? a.uniforms[g] = this.renderer.bindTexture(e[g].baseTexture, f) : (a.uniforms[g] = f, c = this.renderer.gl, this.renderer.boundTextures[f] = this.renderer.emptyTextures[f], c.activeTexture(c.TEXTURE0 +
                        f), e[g].texture.bind()), f++) : "mat3" === d[g].type ? a.uniforms[g] = void 0 !== e[g].a ? e[g].toArray(!0) : e[g] : "vec2" === d[g].type ? void 0 !== e[g].x ? (c = a.uniforms[g] || new Float32Array(2), c[0] = e[g].x, c[1] = e[g].y, a.uniforms[g] = c) : a.uniforms[g] = e[g] : "float" === d[g].type ? a.uniforms.data[g].value !== d[g] && (a.uniforms[g] = e[g]) : a.uniforms[g] = e[g]
                };
                b.prototype.getRenderTarget = function(a, b) {
                    var d = this.filterData.stack[this.filterData.index],
                        e = this.getPotRenderTarget(this.renderer.gl, d.sourceFrame.width, d.sourceFrame.height,
                            b || d.resolution);
                    e.setFrame(d.destinationFrame, d.sourceFrame);
                    return e
                };
                b.prototype.returnRenderTarget = function(a) {
                    this.freePotRenderTarget(a)
                };
                b.prototype.calculateScreenSpaceMatrix = function(a) {
                    var b = this.filterData.stack[this.filterData.index];
                    return u.calculateScreenSpaceMatrix(a, b.sourceFrame, b.renderTarget.size)
                };
                b.prototype.calculateNormalizedScreenSpaceMatrix = function(a) {
                    var b = this.filterData.stack[this.filterData.index];
                    return u.calculateNormalizedScreenSpaceMatrix(a, b.sourceFrame, b.renderTarget.size,
                        b.destinationFrame)
                };
                b.prototype.calculateSpriteMatrix = function(a, b) {
                    var d = this.filterData.stack[this.filterData.index];
                    return u.calculateSpriteMatrix(a, d.sourceFrame, d.renderTarget.size, b)
                };
                b.prototype.destroy = function() {
                    this.shaderCache = [];
                    this.emptyPool()
                };
                b.prototype.getPotRenderTarget = function(a, b, e, f) {
                    b = q["default"].nextPow2(b * f);
                    e = q["default"].nextPow2(e * f);
                    var c = (b & 65535) << 16 | e & 65535;
                    this.pool[c] || (this.pool[c] = []);
                    c = this.pool[c].pop();
                    if (!c) {
                        var m = this.renderer.boundTextures[0];
                        a.activeTexture(a.TEXTURE0);
                        c = new d["default"](a, b, e, null, 1);
                        a.bindTexture(a.TEXTURE_2D, m._glTextures[this.renderer.CONTEXT_UID].texture)
                    }
                    c.resolution = f;
                    c.defaultFrame.width = c.size.width = b / f;
                    c.defaultFrame.height = c.size.height = e / f;
                    return c
                };
                b.prototype.emptyPool = function() {
                    for (var a in this.pool) {
                        var b = this.pool[a];
                        if (b)
                            for (var d = 0; d < b.length; d++) b[d].destroy(!0)
                    }
                    this.pool = {}
                };
                b.prototype.freePotRenderTarget = function(a) {
                    this.pool[(a.size.width * a.resolution & 65535) << 16 | a.size.height * a.resolution & 65535].push(a)
                };
                return b
            }(c["default"]);
            g["default"] = a
        }, {
            "../../../Shader": 42,
            "../../../math": 68,
            "../filters/filterTransforms": 86,
            "../utils/Quad": 93,
            "../utils/RenderTarget": 94,
            "./WebGLManager": 91,
            "bit-twiddle": 1
        }],
        89: [function(a, c, g) {
            function h(a, f) {
                if ("function" !== typeof f && null !== f) throw new TypeError("Super expression must either be null or a function, not " + typeof f);
                a.prototype = Object.create(f && f.prototype, {
                    constructor: {
                        value: a,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                });
                f && (Object.setPrototypeOf ? Object.setPrototypeOf(a, f) : a.__proto__ =
                    f)
            }
            g.__esModule = !0;
            c = (c = a("./WebGLManager")) && c.__esModule ? c : {
                "default": c
            };
            var n = (a = a("../filters/spriteMask/SpriteMaskFilter")) && a.__esModule ? a : {
                "default": a
            };
            a = function(a) {
                function f(d) {
                    if (!(this instanceof f)) throw new TypeError("Cannot call a class as a function");
                    d = a.call(this, d);
                    if (!this) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                    d = !d || "object" !== typeof d && "function" !== typeof d ? this : d;
                    d.scissor = !1;
                    d.scissorData = null;
                    d.scissorRenderTarget = null;
                    d.enableScissor = !0;
                    d.alphaMaskPool = [];
                    d.alphaMaskIndex = 0;
                    return d
                }
                h(f, a);
                f.prototype.pushMask = function(a, e) {
                    if (e.texture) this.pushSpriteMask(a, e);
                    else if (this.enableScissor && !this.scissor && this.renderer._activeRenderTarget.root && !this.renderer.stencilManager.stencilMaskStack.length && e.isFastRect()) {
                        var b = e.worldTransform,
                            b = Math.atan2(b.b, b.a),
                            b = Math.round(180 / Math.PI * b);
                        b % 90 ? this.pushStencilMask(e) : this.pushScissorMask(a, e)
                    } else this.pushStencilMask(e)
                };
                f.prototype.popMask = function(a, e) {
                    e.texture ? this.popSpriteMask(a,
                        e) : this.enableScissor && !this.renderer.stencilManager.stencilMaskStack.length ? this.popScissorMask(a, e) : this.popStencilMask(a, e)
                };
                f.prototype.pushSpriteMask = function(a, e) {
                    var b = this.alphaMaskPool[this.alphaMaskIndex];
                    b || (b = this.alphaMaskPool[this.alphaMaskIndex] = [new n["default"](e)]);
                    b[0].resolution = this.renderer.resolution;
                    b[0].maskSprite = e;
                    a.filterArea = e.getBounds(!0);
                    this.renderer.filterManager.pushFilter(a, b);
                    this.alphaMaskIndex++
                };
                f.prototype.popSpriteMask = function() {
                    this.renderer.filterManager.popFilter();
                    this.alphaMaskIndex--
                };
                f.prototype.pushStencilMask = function(a) {
                    this.renderer.currentRenderer.stop();
                    this.renderer.stencilManager.pushStencil(a)
                };
                f.prototype.popStencilMask = function() {
                    this.renderer.currentRenderer.stop();
                    this.renderer.stencilManager.popStencil()
                };
                f.prototype.pushScissorMask = function(a, e) {
                    e.renderable = !0;
                    var b = this.renderer._activeRenderTarget,
                        d = e.getBounds();
                    d.fit(b.size);
                    e.renderable = !1;
                    this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST);
                    var f = this.renderer.resolution;
                    this.renderer.gl.scissor(d.x *
                        f, (b.root ? b.size.height - d.y - d.height : d.y) * f, d.width * f, d.height * f);
                    this.scissorRenderTarget = b;
                    this.scissorData = e;
                    this.scissor = !0
                };
                f.prototype.popScissorMask = function() {
                    this.scissorData = this.scissorRenderTarget = null;
                    this.scissor = !1;
                    var a = this.renderer.gl;
                    a.disable(a.SCISSOR_TEST)
                };
                return f
            }(c["default"]);
            g["default"] = a
        }, {
            "../filters/spriteMask/SpriteMaskFilter": 87,
            "./WebGLManager": 91
        }],
        90: [function(a, c, g) {
            function h(a, f) {
                if ("function" !== typeof f && null !== f) throw new TypeError("Super expression must either be null or a function, not " +
                    typeof f);
                a.prototype = Object.create(f && f.prototype, {
                    constructor: {
                        value: a,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                });
                f && (Object.setPrototypeOf ? Object.setPrototypeOf(a, f) : a.__proto__ = f)
            }
            g.__esModule = !0;
            var n = (a = a("./WebGLManager")) && a.__esModule ? a : {
                "default": a
            };
            a = function(a) {
                function f(d) {
                    if (!(this instanceof f)) throw new TypeError("Cannot call a class as a function");
                    d = a.call(this, d);
                    if (!this) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                    d = !d || "object" !== typeof d &&
                        "function" !== typeof d ? this : d;
                    d.stencilMaskStack = null;
                    return d
                }
                h(f, a);
                f.prototype.setMaskStack = function(a) {
                    this.stencilMaskStack = a;
                    var d = this.renderer.gl;
                    0 === a.length ? d.disable(d.STENCIL_TEST) : d.enable(d.STENCIL_TEST)
                };
                f.prototype.pushStencil = function(a) {
                    this.renderer.setObjectRenderer(this.renderer.plugins.graphics);
                    this.renderer._activeRenderTarget.attachStencilBuffer();
                    var d = this.renderer.gl,
                        b = this.stencilMaskStack;
                    0 === b.length && (d.enable(d.STENCIL_TEST), d.clear(d.STENCIL_BUFFER_BIT), d.stencilFunc(d.ALWAYS,
                        1, 1));
                    b.push(a);
                    d.colorMask(!1, !1, !1, !1);
                    d.stencilOp(d.KEEP, d.KEEP, d.INCR);
                    this.renderer.plugins.graphics.render(a);
                    d.colorMask(!0, !0, !0, !0);
                    d.stencilFunc(d.NOTEQUAL, 0, b.length);
                    d.stencilOp(d.KEEP, d.KEEP, d.KEEP)
                };
                f.prototype.popStencil = function() {
                    this.renderer.setObjectRenderer(this.renderer.plugins.graphics);
                    var a = this.renderer.gl,
                        e = this.stencilMaskStack,
                        b = e.pop();
                    0 === e.length ? a.disable(a.STENCIL_TEST) : (a.colorMask(!1, !1, !1, !1), a.stencilOp(a.KEEP, a.KEEP, a.DECR), this.renderer.plugins.graphics.render(b),
                        a.colorMask(!0, !0, !0, !0), a.stencilFunc(a.NOTEQUAL, 0, e.length), a.stencilOp(a.KEEP, a.KEEP, a.KEEP))
                };
                f.prototype.destroy = function() {
                    n["default"].prototype.destroy.call(this);
                    this.stencilMaskStack.stencilStack = null
                };
                return f
            }(n["default"]);
            g["default"] = a
        }, {
            "./WebGLManager": 91
        }],
        91: [function(a, c, g) {
            g.__esModule = !0;
            a = function() {
                function a(c) {
                    if (!(this instanceof a)) throw new TypeError("Cannot call a class as a function");
                    this.renderer = c;
                    this.renderer.on("context", this.onContextChange, this)
                }
                a.prototype.onContextChange =
                    function() {};
                a.prototype.destroy = function() {
                    this.renderer.off("context", this.onContextChange, this);
                    this.renderer = null
                };
                return a
            }();
            g["default"] = a
        }, {}],
        92: [function(a, c, g) {
            function h(a, c) {
                if ("function" !== typeof c && null !== c) throw new TypeError("Super expression must either be null or a function, not " + typeof c);
                a.prototype = Object.create(c && c.prototype, {
                    constructor: {
                        value: a,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                });
                c && (Object.setPrototypeOf ? Object.setPrototypeOf(a, c) : a.__proto__ = c)
            }
            g.__esModule = !0;
            a = a("../managers/WebGLManager");
            a = function(a) {
                function c() {
                    if (!(this instanceof c)) throw new TypeError("Cannot call a class as a function");
                    var f = a.apply(this, arguments);
                    if (!this) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                    return !f || "object" !== typeof f && "function" !== typeof f ? this : f
                }
                h(c, a);
                c.prototype.start = function() {};
                c.prototype.stop = function() {
                    this.flush()
                };
                c.prototype.flush = function() {};
                c.prototype.render = function(a) {};
                return c
            }((a && a.__esModule ? a : {
                "default": a
            })["default"]);
            g["default"] = a
        }, {
            "../managers/WebGLManager": 91
        }],
        93: [function(a, c, g) {
            g.__esModule = !0;
            var h = (c = a("pixi-gl-core")) && c.__esModule ? c : {
                    "default": c
                },
                n = (a = a("../../../utils/createIndicesForQuads")) && a.__esModule ? a : {
                    "default": a
                };
            a = function() {
                function a(f, d) {
                    if (!(this instanceof a)) throw new TypeError("Cannot call a class as a function");
                    this.gl = f;
                    this.vertices = new Float32Array([-1, -1, 1, -1, 1, 1, -1, 1]);
                    this.uvs = new Float32Array([0, 0, 1, 0, 1, 1, 0, 1]);
                    this.interleaved = new Float32Array(16);
                    for (var e = 0; 4 > e; e++) this.interleaved[4 *
                        e] = this.vertices[2 * e], this.interleaved[4 * e + 1] = this.vertices[2 * e + 1], this.interleaved[4 * e + 2] = this.uvs[2 * e], this.interleaved[4 * e + 3] = this.uvs[2 * e + 1];
                    this.indices = (0, n["default"])(1);
                    this.vertexBuffer = h["default"].GLBuffer.createVertexBuffer(f, this.interleaved, f.STATIC_DRAW);
                    this.indexBuffer = h["default"].GLBuffer.createIndexBuffer(f, this.indices, f.STATIC_DRAW);
                    this.vao = new h["default"].VertexArrayObject(f, d)
                }
                a.prototype.initVao = function(a) {
                    this.vao.clear().addIndex(this.indexBuffer).addAttribute(this.vertexBuffer,
                        a.attributes.aVertexPosition, this.gl.FLOAT, !1, 16, 0).addAttribute(this.vertexBuffer, a.attributes.aTextureCoord, this.gl.FLOAT, !1, 16, 8)
                };
                a.prototype.map = function(a, d) {
                    var e = 0,
                        b = 0;
                    this.uvs[0] = e;
                    this.uvs[1] = b;
                    this.uvs[2] = e + d.width / a.width;
                    this.uvs[3] = b;
                    this.uvs[4] = e + d.width / a.width;
                    this.uvs[5] = b + d.height / a.height;
                    this.uvs[6] = e;
                    this.uvs[7] = b + d.height / a.height;
                    e = d.x;
                    b = d.y;
                    this.vertices[0] = e;
                    this.vertices[1] = b;
                    this.vertices[2] = e + d.width;
                    this.vertices[3] = b;
                    this.vertices[4] = e + d.width;
                    this.vertices[5] = b + d.height;
                    this.vertices[6] = e;
                    this.vertices[7] = b + d.height;
                    return this
                };
                a.prototype.upload = function() {
                    for (var a = 0; 4 > a; a++) this.interleaved[4 * a] = this.vertices[2 * a], this.interleaved[4 * a + 1] = this.vertices[2 * a + 1], this.interleaved[4 * a + 2] = this.uvs[2 * a], this.interleaved[4 * a + 3] = this.uvs[2 * a + 1];
                    this.vertexBuffer.upload(this.interleaved);
                    return this
                };
                a.prototype.destroy = function() {
                    var a = this.gl;
                    a.deleteBuffer(this.vertexBuffer);
                    a.deleteBuffer(this.indexBuffer)
                };
                return a
            }();
            g["default"] = a
        }, {
            "../../../utils/createIndicesForQuads": 117,
            "pixi-gl-core": 12
        }],
        94: [function(a, c, g) {
            g.__esModule = !0;
            var h = a("../../../math"),
                n = a("../../../const"),
                m = (c = a("../../../settings")) && c.__esModule ? c : {
                    "default": c
                },
                f = a("pixi-gl-core");
            a = function() {
                function a(d, b, c, g, q, x) {
                    if (!(this instanceof a)) throw new TypeError("Cannot call a class as a function");
                    this.gl = d;
                    this.texture = this.frameBuffer = null;
                    this.clearColor = [0, 0, 0, 0];
                    this.size = new h.Rectangle(0, 0, 1, 1);
                    this.resolution = q || m["default"].RESOLUTION;
                    this.projectionMatrix = new h.Matrix;
                    this.frame = this.transform =
                        null;
                    this.defaultFrame = new h.Rectangle;
                    this.stencilBuffer = this.sourceFrame = this.destinationFrame = null;
                    this.stencilMaskStack = [];
                    this.filterData = null;
                    this.scaleMode = g || m["default"].SCALE_MODE;
                    (this.root = x) ? (this.frameBuffer = new f.GLFramebuffer(d, 100, 100), this.frameBuffer.framebuffer = null) : (this.frameBuffer = f.GLFramebuffer.createRGBA(d, 100, 100), this.scaleMode === n.SCALE_MODES.NEAREST ? this.frameBuffer.texture.enableNearestScaling() : this.frameBuffer.texture.enableLinearScaling(), this.texture = this.frameBuffer.texture);
                    this.setFrame();
                    this.resize(b, c)
                }
                a.prototype.clear = function(a) {
                    a = a || this.clearColor;
                    this.frameBuffer.clear(a[0], a[1], a[2], a[3])
                };
                a.prototype.attachStencilBuffer = function() {
                    this.root || this.frameBuffer.enableStencil()
                };
                a.prototype.setFrame = function(a, b) {
                    this.destinationFrame = a || this.destinationFrame || this.defaultFrame;
                    this.sourceFrame = b || this.sourceFrame || a
                };
                a.prototype.activate = function() {
                    var a = this.gl;
                    this.frameBuffer.bind();
                    this.calculateProjection(this.destinationFrame, this.sourceFrame);
                    this.transform &&
                        this.projectionMatrix.append(this.transform);
                    this.destinationFrame !== this.sourceFrame ? (a.enable(a.SCISSOR_TEST), a.scissor(this.destinationFrame.x | 0, this.destinationFrame.y | 0, this.destinationFrame.width * this.resolution | 0, this.destinationFrame.height * this.resolution | 0)) : a.disable(a.SCISSOR_TEST);
                    a.viewport(this.destinationFrame.x | 0, this.destinationFrame.y | 0, this.destinationFrame.width * this.resolution | 0, this.destinationFrame.height * this.resolution | 0)
                };
                a.prototype.calculateProjection = function(a, b) {
                    var d =
                        this.projectionMatrix;
                    b = b || a;
                    d.identity();
                    this.root ? (d.a = 1 / a.width * 2, d.d = -1 / a.height * 2, d.tx = -1 - b.x * d.a, d.ty = 1 - b.y * d.d) : (d.a = 1 / a.width * 2, d.d = 1 / a.height * 2, d.tx = -1 - b.x * d.a, d.ty = -1 - b.y * d.d)
                };
                a.prototype.resize = function(a, b) {
                    a |= 0;
                    b |= 0;
                    if (this.size.width !== a || this.size.height !== b) this.size.width = a, this.size.height = b, this.defaultFrame.width = a, this.defaultFrame.height = b, this.frameBuffer.resize(a * this.resolution, b * this.resolution), this.calculateProjection(this.frame || this.size)
                };
                a.prototype.destroy = function() {
                    this.frameBuffer.destroy();
                    this.texture = this.frameBuffer = null
                };
                return a
            }();
            g["default"] = a
        }, {
            "../../../const": 44,
            "../../../math": 68,
            "../../../settings": 99,
            "pixi-gl-core": 12
        }],
        95: [function(a, c, g) {
            function h(a) {
                for (var d = "", e = 0; e < a; ++e) 0 < e && (d += "\nelse "), e < a - 1 && (d += "if(test == " + e + ".0){}");
                return d
            }
            g.__esModule = !0;
            g["default"] = function(a, d) {
                var e = !d;
                if (0 === a) throw Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");
                if (e) {
                    var b = document.createElement("canvas");
                    b.width = 1;
                    b.height = 1;
                    d = n["default"].createContext(b)
                }
                for (b =
                    d.createShader(d.FRAGMENT_SHADER);;) {
                    var f = m.replace(/%forloop%/gi, h(a));
                    d.shaderSource(b, f);
                    d.compileShader(b);
                    if (d.getShaderParameter(b, d.COMPILE_STATUS)) break;
                    else a = a / 2 | 0
                }
                e && d.getExtension("WEBGL_lose_context") && d.getExtension("WEBGL_lose_context").loseContext();
                return a
            };
            var n = (a = a("pixi-gl-core")) && a.__esModule ? a : {
                    "default": a
                },
                m = "precision mediump float;\nvoid main(void){\nfloat test = 0.1;\n%forloop%\ngl_FragColor = vec4(0.0);\n}"
        }, {
            "pixi-gl-core": 12
        }],
        96: [function(a, c, g) {
            g.__esModule = !0;
            g["default"] =
                function(a) {
                    var c = 1 < arguments.length && void 0 !== arguments[1] ? arguments[1] : [];
                    c[h.BLEND_MODES.NORMAL] = [a.ONE, a.ONE_MINUS_SRC_ALPHA];
                    c[h.BLEND_MODES.ADD] = [a.ONE, a.DST_ALPHA];
                    c[h.BLEND_MODES.MULTIPLY] = [a.DST_COLOR, a.ONE_MINUS_SRC_ALPHA];
                    c[h.BLEND_MODES.SCREEN] = [a.ONE, a.ONE_MINUS_SRC_COLOR];
                    c[h.BLEND_MODES.OVERLAY] = [a.ONE, a.ONE_MINUS_SRC_ALPHA];
                    c[h.BLEND_MODES.DARKEN] = [a.ONE, a.ONE_MINUS_SRC_ALPHA];
                    c[h.BLEND_MODES.LIGHTEN] = [a.ONE, a.ONE_MINUS_SRC_ALPHA];
                    c[h.BLEND_MODES.COLOR_DODGE] = [a.ONE, a.ONE_MINUS_SRC_ALPHA];
                    c[h.BLEND_MODES.COLOR_BURN] = [a.ONE, a.ONE_MINUS_SRC_ALPHA];
                    c[h.BLEND_MODES.HARD_LIGHT] = [a.ONE, a.ONE_MINUS_SRC_ALPHA];
                    c[h.BLEND_MODES.SOFT_LIGHT] = [a.ONE, a.ONE_MINUS_SRC_ALPHA];
                    c[h.BLEND_MODES.DIFFERENCE] = [a.ONE, a.ONE_MINUS_SRC_ALPHA];
                    c[h.BLEND_MODES.EXCLUSION] = [a.ONE, a.ONE_MINUS_SRC_ALPHA];
                    c[h.BLEND_MODES.HUE] = [a.ONE, a.ONE_MINUS_SRC_ALPHA];
                    c[h.BLEND_MODES.SATURATION] = [a.ONE, a.ONE_MINUS_SRC_ALPHA];
                    c[h.BLEND_MODES.COLOR] = [a.ONE, a.ONE_MINUS_SRC_ALPHA];
                    c[h.BLEND_MODES.LUMINOSITY] = [a.ONE, a.ONE_MINUS_SRC_ALPHA];
                    return c
                };
            var h = a("../../../const")
        }, {
            "../../../const": 44
        }],
        97: [function(a, c, g) {
            g.__esModule = !0;
            g["default"] = function(a) {
                var c = 1 < arguments.length && void 0 !== arguments[1] ? arguments[1] : {};
                c[h.DRAW_MODES.POINTS] = a.POINTS;
                c[h.DRAW_MODES.LINES] = a.LINES;
                c[h.DRAW_MODES.LINE_LOOP] = a.LINE_LOOP;
                c[h.DRAW_MODES.LINE_STRIP] = a.LINE_STRIP;
                c[h.DRAW_MODES.TRIANGLES] = a.TRIANGLES;
                c[h.DRAW_MODES.TRIANGLE_STRIP] = a.TRIANGLE_STRIP;
                c[h.DRAW_MODES.TRIANGLE_FAN] = a.TRIANGLE_FAN;
                return c
            };
            var h = a("../../../const")
        }, {
            "../../../const": 44
        }],
        98: [function(a, c, g) {
            g.__esModule = !0;
            g["default"] = function(a) {
                a.getContextAttributes().stencil || console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly")
            }
        }, {}],
        99: [function(a, c, g) {
            g.__esModule = !0;
            c = (c = a("./utils/maxRecommendedTextures")) && c.__esModule ? c : {
                "default": c
            };
            a = (a = a("./utils/canUploadSameBuffer")) && a.__esModule ? a : {
                "default": a
            };
            g["default"] = {
                TARGET_FPMS: .06,
                MIPMAP_TEXTURES: !0,
                RESOLUTION: 1,
                FILTER_RESOLUTION: 1,
                SPRITE_MAX_TEXTURES: (0, c["default"])(32),
                SPRITE_BATCH_SIZE: 4096,
                RETINA_PREFIX: /@(.+)x/,
                RENDER_OPTIONS: {
                    view: null,
                    antialias: !1,
                    forceFXAA: !1,
                    autoResize: !1,
                    transparent: !1,
                    backgroundColor: 0,
                    clearBeforeRender: !0,
                    preserveDrawingBuffer: !1,
                    roundPixels: !1
                },
                TRANSFORM_MODE: 0,
                GC_MODE: 0,
                GC_MAX_IDLE: 3600,
                GC_MAX_CHECK_COUNT: 600,
                WRAP_MODE: 0,
                SCALE_MODE: 0,
                PRECISION: "mediump",
                CAN_UPLOAD_SAME_BUFFER: (0, a["default"])()
            }
        }, {
            "./utils/canUploadSameBuffer": 116,
            "./utils/maxRecommendedTextures": 120
        }],
        100: [function(a, c, g) {
            function h(a, b) {
                if ("function" !== typeof b && null !==
                    b) throw new TypeError("Super expression must either be null or a function, not " + typeof b);
                a.prototype = Object.create(b && b.prototype, {
                    constructor: {
                        value: a,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                });
                b && (Object.setPrototypeOf ? Object.setPrototypeOf(a, b) : a.__proto__ = b)
            }
            g.__esModule = !0;
            var n = function() {
                    function a(a, b) {
                        for (var d = 0; d < b.length; d++) {
                            var e = b[d];
                            e.enumerable = e.enumerable || !1;
                            e.configurable = !0;
                            "value" in e && (e.writable = !0);
                            Object.defineProperty(a, e.key, e)
                        }
                    }
                    return function(b, d, e) {
                        d && a(b.prototype,
                            d);
                        e && a(b, e);
                        return b
                    }
                }(),
                m = a("../math"),
                f = a("../utils"),
                d = a("../const"),
                e = (c = a("../textures/Texture")) && c.__esModule ? c : {
                    "default": c
                };
            a = (a = a("../display/Container")) && a.__esModule ? a : {
                "default": a
            };
            var b = new m.Point;
            a = function(a) {
                function c(b) {
                    if (!(this instanceof c)) throw new TypeError("Cannot call a class as a function");
                    var f;
                    f = a.call(this);
                    if (!this) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                    f = !f || "object" !== typeof f && "function" !== typeof f ? this : f;
                    f._anchor =
                        new m.ObservablePoint(f._onAnchorUpdate, f);
                    f._texture = null;
                    f._width = 0;
                    f._height = 0;
                    f._tint = null;
                    f._tintRGB = null;
                    f.tint = 16777215;
                    f.blendMode = d.BLEND_MODES.NORMAL;
                    f.shader = null;
                    f.cachedTint = 16777215;
                    f.texture = b || e["default"].EMPTY;
                    f.vertexData = new Float32Array(8);
                    f.vertexTrimmedData = null;
                    f._transformID = -1;
                    f._textureID = -1;
                    f._transformTrimmedID = -1;
                    f._textureTrimmedID = -1;
                    f.pluginName = "sprite";
                    return f
                }
                h(c, a);
                c.prototype._onTextureUpdate = function() {
                    this._textureTrimmedID = this._textureID = -1;
                    this._width &&
                        (this.scale.x = (0, f.sign)(this.scale.x) * this._width / this.texture.orig.width);
                    this._height && (this.scale.y = (0, f.sign)(this.scale.y) * this._height / this.texture.orig.height)
                };
                c.prototype._onAnchorUpdate = function() {
                    this._transformTrimmedID = this._transformID = -1
                };
                c.prototype.calculateVertices = function() {
                    if (this._transformID !== this.transform._worldID || this._textureID !== this._texture._updateID) {
                        this._transformID = this.transform._worldID;
                        this._textureID = this._texture._updateID;
                        var a = this._texture,
                            b = this.transform.worldTransform,
                            d = b.a,
                            e = b.b,
                            f = b.c,
                            c = b.d,
                            g = b.tx,
                            b = b.ty,
                            m = this.vertexData,
                            p = a.trim,
                            h = a.orig,
                            n = this._anchor,
                            u;
                        p ? (u = p.x - n._x * h.width, a = u + p.width, h = p.y - n._y * h.height, p = h + p.height) : (a = h.width * (1 - n._x), u = h.width * -n._x, p = h.height * (1 - n._y), h = h.height * -n._y);
                        m[0] = d * u + f * h + g;
                        m[1] = c * h + e * u + b;
                        m[2] = d * a + f * h + g;
                        m[3] = c * h + e * a + b;
                        m[4] = d * a + f * p + g;
                        m[5] = c * p + e * a + b;
                        m[6] = d * u + f * p + g;
                        m[7] = c * p + e * u + b
                    }
                };
                c.prototype.calculateTrimmedVertices = function() {
                    if (!this.vertexTrimmedData) this.vertexTrimmedData = new Float32Array(8);
                    else if (this._transformTrimmedID ===
                        this.transform._worldID && this._textureTrimmedID === this._texture._updateID) return;
                    this._transformTrimmedID = this.transform._worldID;
                    this._textureTrimmedID = this._texture._updateID;
                    var a = this.vertexTrimmedData,
                        b = this._texture.orig,
                        d = this._anchor,
                        e = this.transform.worldTransform,
                        f = e.a,
                        c = e.b,
                        g = e.c,
                        m = e.d,
                        p = e.tx,
                        e = e.ty,
                        h = b.width * (1 - d._x),
                        n = b.width * -d._x,
                        u = b.height * (1 - d._y),
                        b = b.height * -d._y;
                    a[0] = f * n + g * b + p;
                    a[1] = m * b + c * n + e;
                    a[2] = f * h + g * b + p;
                    a[3] = m * b + c * h + e;
                    a[4] = f * h + g * u + p;
                    a[5] = m * u + c * h + e;
                    a[6] = f * n + g * u + p;
                    a[7] = m * u + c * n +
                        e
                };
                c.prototype._renderWebGL = function(a) {
                    this.calculateVertices();
                    a.setObjectRenderer(a.plugins[this.pluginName]);
                    a.plugins[this.pluginName].render(this)
                };
                c.prototype._renderCanvas = function(a) {
                    a.plugins[this.pluginName].render(this)
                };
                c.prototype._calculateBounds = function() {
                    var a = this._texture.trim,
                        b = this._texture.orig;
                    !a || a.width === b.width && a.height === b.height ? (this.calculateVertices(), this._bounds.addQuad(this.vertexData)) : (this.calculateTrimmedVertices(), this._bounds.addQuad(this.vertexTrimmedData))
                };
                c.prototype.getLocalBounds = function(b) {
                    return 0 === this.children.length ? (this._bounds.minX = this._texture.orig.width * -this._anchor._x, this._bounds.minY = this._texture.orig.height * -this._anchor._y, this._bounds.maxX = this._texture.orig.width * (1 - this._anchor._x), this._bounds.maxY = this._texture.orig.height * (1 - this._anchor._x), b || (this._localBoundsRect || (this._localBoundsRect = new m.Rectangle), b = this._localBoundsRect), this._bounds.getRectangle(b)) : a.prototype.getLocalBounds.call(this, b)
                };
                c.prototype.containsPoint =
                    function(a) {
                        this.worldTransform.applyInverse(a, b);
                        var d = this._texture.orig.width;
                        a = this._texture.orig.height;
                        var e = -d * this.anchor.x;
                        return b.x > e && b.x < e + d && (d = -a * this.anchor.y, b.y > d && b.y < d + a) ? !0 : !1
                    };
                c.prototype.destroy = function(b) {
                    a.prototype.destroy.call(this, b);
                    this._anchor = null;
                    ("boolean" === typeof b ? b : b && b.texture) && this._texture.destroy(!!("boolean" === typeof b ? b : b && b.baseTexture));
                    this.shader = this._texture = null
                };
                c.from = function(a) {
                    return new c(e["default"].from(a))
                };
                c.fromFrame = function(a) {
                    var b =
                        f.TextureCache[a];
                    if (!b) throw Error('The frameId "' + a + '" does not exist in the texture cache');
                    return new c(b)
                };
                c.fromImage = function(a, b, d) {
                    return new c(e["default"].fromImage(a, b, d))
                };
                n(c, [{
                    key: "width",
                    get: function() {
                        return Math.abs(this.scale.x) * this._texture.orig.width
                    },
                    set: function(a) {
                        var b = (0, f.sign)(this.scale.x) || 1;
                        this.scale.x = b * a / this._texture.orig.width;
                        this._width = a
                    }
                }, {
                    key: "height",
                    get: function() {
                        return Math.abs(this.scale.y) * this._texture.orig.height
                    },
                    set: function(a) {
                        var b = (0, f.sign)(this.scale.y) ||
                            1;
                        this.scale.y = b * a / this._texture.orig.height;
                        this._height = a
                    }
                }, {
                    key: "anchor",
                    get: function() {
                        return this._anchor
                    },
                    set: function(a) {
                        this._anchor.copy(a)
                    }
                }, {
                    key: "tint",
                    get: function() {
                        return this._tint
                    },
                    set: function(a) {
                        this._tint = a;
                        this._tintRGB = (a >> 16) + (a & 65280) + ((a & 255) << 16)
                    }
                }, {
                    key: "texture",
                    get: function() {
                        return this._texture
                    },
                    set: function(a) {
                        if (this._texture !== a && (this._texture = a, this.cachedTint = 16777215, this._textureTrimmedID = this._textureID = -1, a))
                            if (a.baseTexture.hasLoaded) this._onTextureUpdate();
                            else a.once("update", this._onTextureUpdate, this)
                    }
                }]);
                return c
            }(a["default"]);
            g["default"] = a
        }, {
            "../const": 44,
            "../display/Container": 46,
            "../math": 68,
            "../textures/Texture": 111,
            "../utils": 119
        }],
        101: [function(a, c, g) {
            g.__esModule = !0;
            c = (c = a("../../renderers/canvas/CanvasRenderer")) && c.__esModule ? c : {
                "default": c
            };
            var h = a("../../const"),
                n = a("../../math"),
                m = (a = a("./CanvasTinter")) && a.__esModule ? a : {
                    "default": a
                },
                f = new n.Matrix;
            a = function() {
                function a(d) {
                    if (!(this instanceof a)) throw new TypeError("Cannot call a class as a function");
                    this.renderer = d
                }
                a.prototype.render = function(a) {
                    var b = a._texture,
                        d = this.renderer,
                        e = b._frame.width,
                        c = b._frame.height,
                        g = a.transform.worldTransform,
                        y, w;
                    0 >= b.orig.width || 0 >= b.orig.height || !b.baseTexture.source || (d.setBlendMode(a.blendMode), b.valid && (d.context.globalAlpha = a.worldAlpha, y = b.baseTexture.scaleMode === h.SCALE_MODES.LINEAR, d.smoothProperty && d.context[d.smoothProperty] !== y && (d.context[d.smoothProperty] = y), b.trim ? (y = b.trim.width / 2 + b.trim.x - a.anchor.x * b.orig.width, w = b.trim.height / 2 + b.trim.y - a.anchor.y *
                        b.orig.height) : (y = (.5 - a.anchor.x) * b.orig.width, w = (.5 - a.anchor.y) * b.orig.height), b.rotate && (g.copy(f), g = f, n.GroupD8.matrixAppendRotationInv(g, b.rotate, y, w), w = y = 0), y -= e / 2, w -= c / 2, d.roundPixels ? (d.context.setTransform(g.a, g.b, g.c, g.d, g.tx * d.resolution | 0, g.ty * d.resolution | 0), y |= 0, w |= 0) : d.context.setTransform(g.a, g.b, g.c, g.d, g.tx * d.resolution, g.ty * d.resolution), g = b.baseTexture.resolution, 16777215 !== a.tint ? (a.cachedTint !== a.tint && (a.cachedTint = a.tint, a.tintedTexture = m["default"].getTintedTexture(a, a.tint)),
                        d.context.drawImage(a.tintedTexture, 0, 0, e * g, c * g, y * d.resolution, w * d.resolution, e * d.resolution, c * d.resolution)) : d.context.drawImage(b.baseTexture.source, b._frame.x * g, b._frame.y * g, e * g, c * g, y * d.resolution, w * d.resolution, e * d.resolution, c * d.resolution)))
                };
                a.prototype.destroy = function() {
                    this.renderer = null
                };
                return a
            }();
            g["default"] = a;
            c["default"].registerPlugin("sprite", a)
        }, {
            "../../const": 44,
            "../../math": 68,
            "../../renderers/canvas/CanvasRenderer": 75,
            "./CanvasTinter": 102
        }],
        102: [function(a, c, g) {
            g.__esModule = !0;
            var h = a("../../utils");
            a = (a = a("../../renderers/canvas/utils/canUseNewCanvasBlendModes")) && a.__esModule ? a : {
                "default": a
            };
            var n = {
                getTintedTexture: function(a, f) {
                    var d = a.texture;
                    f = n.roundColor(f);
                    var e = "#" + ("00000" + (f | 0).toString(16)).substr(-6);
                    d.tintCache = d.tintCache || {};
                    if (d.tintCache[e]) return d.tintCache[e];
                    var b = n.canvas || document.createElement("canvas");
                    n.tintMethod(d, f, b);
                    if (n.convertTintToImage) {
                        var c = new Image;
                        c.src = b.toDataURL();
                        d.tintCache[e] = c
                    } else d.tintCache[e] = b, n.canvas = null;
                    return b
                },
                tintWithMultiply: function(a, f, d) {
                    var e = d.getContext("2d"),
                        b = a._frame.clone(),
                        c = a.baseTexture.resolution;
                    b.x *= c;
                    b.y *= c;
                    b.width *= c;
                    b.height *= c;
                    d.width = b.width;
                    d.height = b.height;
                    e.fillStyle = "#" + ("00000" + (f | 0).toString(16)).substr(-6);
                    e.fillRect(0, 0, b.width, b.height);
                    e.globalCompositeOperation = "multiply";
                    e.drawImage(a.baseTexture.source, b.x, b.y, b.width, b.height, 0, 0, b.width, b.height);
                    e.globalCompositeOperation = "destination-atop";
                    e.drawImage(a.baseTexture.source, b.x, b.y, b.width, b.height, 0, 0, b.width, b.height)
                },
                tintWithOverlay: function(a, c, d) {
                    var e = d.getContext("2d"),
                        b = a._frame.clone(),
                        f = a.baseTexture.resolution;
                    b.x *= f;
                    b.y *= f;
                    b.width *= f;
                    b.height *= f;
                    d.width = b.width;
                    d.height = b.height;
                    e.globalCompositeOperation = "copy";
                    e.fillStyle = "#" + ("00000" + (c | 0).toString(16)).substr(-6);
                    e.fillRect(0, 0, b.width, b.height);
                    e.globalCompositeOperation = "destination-atop";
                    e.drawImage(a.baseTexture.source, b.x, b.y, b.width, b.height, 0, 0, b.width, b.height)
                },
                tintWithPerPixel: function(a, c, d) {
                    var e = d.getContext("2d"),
                        b = a._frame.clone(),
                        f = a.baseTexture.resolution;
                    b.x *= f;
                    b.y *= f;
                    b.width *= f;
                    b.height *= f;
                    d.width = b.width;
                    d.height = b.height;
                    e.globalCompositeOperation = "copy";
                    e.drawImage(a.baseTexture.source, b.x, b.y, b.width, b.height, 0, 0, b.width, b.height);
                    d = (0, h.hex2rgb)(c);
                    a = d[0];
                    c = d[1];
                    d = d[2];
                    for (var b = e.getImageData(0, 0, b.width, b.height), f = b.data, g = 0; g < f.length; g += 4) f[g + 0] *= a, f[g + 1] *= c, f[g + 2] *= d;
                    e.putImageData(b, 0, 0)
                },
                roundColor: function(a) {
                    var f = n.cacheStepsPerColorChannel;
                    a = (0, h.hex2rgb)(a);
                    a[0] = Math.min(255, a[0] / f * f);
                    a[1] = Math.min(255,
                        a[1] / f * f);
                    a[2] = Math.min(255, a[2] / f * f);
                    return (0, h.rgb2hex)(a)
                },
                cacheStepsPerColorChannel: 8,
                convertTintToImage: !1,
                canUseMultiply: (0, a["default"])(),
                tintMethod: 0
            };
            n.tintMethod = n.canUseMultiply ? n.tintWithMultiply : n.tintWithPerPixel;
            g["default"] = n
        }, {
            "../../renderers/canvas/utils/canUseNewCanvasBlendModes": 78,
            "../../utils": 119
        }],
        103: [function(a, c, g) {
            g.__esModule = !0;
            a = function() {
                function a(c) {
                    if (!(this instanceof a)) throw new TypeError("Cannot call a class as a function");
                    this.vertices = new ArrayBuffer(c);
                    this.float32View = new Float32Array(this.vertices);
                    this.uint32View = new Uint32Array(this.vertices)
                }
                a.prototype.destroy = function() {
                    this.colors = this.uvs = this.positions = this.vertices = null
                };
                return a
            }();
            g["default"] = a
        }, {}],
        104: [function(a, c, g) {
            function h(a) {
                return a && a.__esModule ? a : {
                    "default": a
                }
            }

            function n(a, b) {
                if ("function" !== typeof b && null !== b) throw new TypeError("Super expression must either be null or a function, not " + typeof b);
                a.prototype = Object.create(b && b.prototype, {
                    constructor: {
                        value: a,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                });
                b && (Object.setPrototypeOf ? Object.setPrototypeOf(a, b) : a.__proto__ = b)
            }
            g.__esModule = !0;
            c = a("../../renderers/webgl/utils/ObjectRenderer");
            c = h(c);
            var m = a("../../renderers/webgl/WebGLRenderer"),
                m = h(m),
                f = a("../../utils/createIndicesForQuads"),
                d = h(f),
                f = a("./generateMultiTextureShader"),
                e = h(f),
                f = a("../../renderers/webgl/utils/checkMaxIfStatmentsInShader"),
                b = h(f),
                f = a("./BatchBuffer"),
                p = h(f),
                f = a("../../settings"),
                u = h(f),
                f = a("pixi-gl-core"),
                q = h(f);
            a = a("bit-twiddle");
            var x = h(a),
                y = 0,
                w = 0;
            a = function(a) {
                function f(b) {
                    if (!(this instanceof f)) throw new TypeError("Cannot call a class as a function");
                    b = a.call(this, b);
                    if (!this) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                    b = !b || "object" !== typeof b && "function" !== typeof b ? this : b;
                    b.vertSize = 5;
                    b.vertByteSize = 4 * b.vertSize;
                    b.size = u["default"].SPRITE_BATCH_SIZE;
                    b.buffers = [];
                    for (var e = 1; e <= x["default"].nextPow2(b.size); e *= 2) b.buffers.push(new p["default"](4 * e * b.vertByteSize));
                    b.indices = (0, d["default"])(b.size);
                    b.shader = null;
                    y = b.currentIndex = 0;
                    b.groups = [];
                    for (e = 0; e < b.size; e++) b.groups[e] = {
                        textures: [],
                        textureCount: 0,
                        ids: [],
                        size: 0,
                        start: 0,
                        blend: 0
                    };
                    b.sprites = [];
                    b.vertexBuffers = [];
                    b.vaos = [];
                    b.vaoMax = 2;
                    b.vertexCount = 0;
                    b.renderer.on("prerender", b.onPrerender, b);
                    return b
                }
                n(f, a);
                f.prototype.onContextChange = function() {
                    var a = this.renderer.gl;
                    this.MAX_TEXTURES = Math.min(a.getParameter(a.MAX_TEXTURE_IMAGE_UNITS), u["default"].SPRITE_MAX_TEXTURES);
                    this.MAX_TEXTURES = (0, b["default"])(this.MAX_TEXTURES, a);
                    var d = this.shader =
                        (0, e["default"])(a, this.MAX_TEXTURES);
                    this.indexBuffer = q["default"].GLBuffer.createIndexBuffer(a, this.indices, a.STATIC_DRAW);
                    this.renderer.bindVao(null);
                    for (var f = 0; f < this.vaoMax; f++) this.vertexBuffers[f] = q["default"].GLBuffer.createVertexBuffer(a, null, a.STREAM_DRAW), this.vaos[f] = this.renderer.createVao().addIndex(this.indexBuffer).addAttribute(this.vertexBuffers[f], d.attributes.aVertexPosition, a.FLOAT, !1, this.vertByteSize, 0).addAttribute(this.vertexBuffers[f], d.attributes.aTextureCoord, a.UNSIGNED_SHORT,
                        !0, this.vertByteSize, 8).addAttribute(this.vertexBuffers[f], d.attributes.aColor, a.UNSIGNED_BYTE, !0, this.vertByteSize, 12).addAttribute(this.vertexBuffers[f], d.attributes.aTextureId, a.FLOAT, !1, this.vertByteSize, 16);
                    this.vao = this.vaos[0];
                    this.currentBlendMode = 99999;
                    this.boundTextures = Array(this.MAX_TEXTURES)
                };
                f.prototype.onPrerender = function() {
                    this.vertexCount = 0
                };
                f.prototype.render = function(a) {
                    this.currentIndex >= this.size && this.flush();
                    a._texture._uvs && (this.sprites[this.currentIndex++] = a)
                };
                f.prototype.flush =
                    function() {
                        if (0 !== this.currentIndex) {
                            var a = this.renderer.gl,
                                b = this.MAX_TEXTURES,
                                d = x["default"].nextPow2(this.currentIndex),
                                d = x["default"].log2(d),
                                e = this.buffers[d],
                                f = this.sprites,
                                d = this.groups,
                                c = e.float32View,
                                g = e.uint32View,
                                m = this.boundTextures,
                                h = this.renderer.boundTextures,
                                p = this.renderer.textureGC.count,
                                n = 0,
                                v, t = void 0,
                                R = 1,
                                S = 0,
                                M = d[0],
                                J, O, T = f[0].blendMode;
                            M.textureCount = 0;
                            M.start = 0;
                            M.blend = T;
                            y++;
                            var K;
                            for (K = 0; K < b; ++K) m[K] = h[K], m[K]._virtalBoundId = K;
                            for (K = 0; K < this.currentIndex; ++K) {
                                var Q = f[K];
                                v = Q._texture.baseTexture;
                                T !== Q.blendMode && (T = Q.blendMode, t = null, S = b, y++);
                                if (t !== v && (t = v, v._enabled !== y)) {
                                    S === b && (y++, M.size = K - M.start, S = 0, M = d[R++], M.blend = T, M.textureCount = 0, M.start = K);
                                    v.touched = p;
                                    if (-1 === v._virtalBoundId)
                                        for (J = 0; J < b; ++J) {
                                            O = (J + w) % b;
                                            var L = m[O];
                                            if (L._enabled !== y) {
                                                w++;
                                                L._virtalBoundId = -1;
                                                v._virtalBoundId = O;
                                                m[O] = v;
                                                break
                                            }
                                        }
                                    v._enabled = y;
                                    M.textureCount++;
                                    M.ids[S] = v._virtalBoundId;
                                    M.textures[S++] = v
                                }
                                J = Q.vertexData;
                                O = Q._texture._uvs.uvsUint32;
                                this.renderer.roundPixels ? (L = this.renderer.resolution, c[n] = (J[0] * L | 0) / L, c[n +
                                    1] = (J[1] * L | 0) / L, c[n + 5] = (J[2] * L | 0) / L, c[n + 6] = (J[3] * L | 0) / L, c[n + 10] = (J[4] * L | 0) / L, c[n + 11] = (J[5] * L | 0) / L, c[n + 15] = (J[6] * L | 0) / L, c[n + 16] = (J[7] * L | 0) / L) : (c[n] = J[0], c[n + 1] = J[1], c[n + 5] = J[2], c[n + 6] = J[3], c[n + 10] = J[4], c[n + 11] = J[5], c[n + 15] = J[6], c[n + 16] = J[7]);
                                g[n + 2] = O[0];
                                g[n + 7] = O[1];
                                g[n + 12] = O[2];
                                g[n + 17] = O[3];
                                g[n + 3] = g[n + 8] = g[n + 13] = g[n + 18] = Q._tintRGB + (255 * Math.min(Q.worldAlpha, 1) << 24);
                                c[n + 4] = c[n + 9] = c[n + 14] = c[n + 19] = v._virtalBoundId;
                                n += 20
                            }
                            M.size = K - M.start;
                            u["default"].CAN_UPLOAD_SAME_BUFFER ? this.vertexBuffers[this.vertexCount].upload(e.vertices,
                                0, !0) : (this.vaoMax <= this.vertexCount && (this.vaoMax++, this.vertexBuffers[this.vertexCount] = q["default"].GLBuffer.createVertexBuffer(a, null, a.STREAM_DRAW), this.vaos[this.vertexCount] = this.renderer.createVao().addIndex(this.indexBuffer).addAttribute(this.vertexBuffers[this.vertexCount], this.shader.attributes.aVertexPosition, a.FLOAT, !1, this.vertByteSize, 0).addAttribute(this.vertexBuffers[this.vertexCount], this.shader.attributes.aTextureCoord, a.UNSIGNED_SHORT, !0, this.vertByteSize, 8).addAttribute(this.vertexBuffers[this.vertexCount],
                                this.shader.attributes.aColor, a.UNSIGNED_BYTE, !0, this.vertByteSize, 12).addAttribute(this.vertexBuffers[this.vertexCount], this.shader.attributes.aTextureId, a.FLOAT, !1, this.vertByteSize, 16)), this.renderer.bindVao(this.vaos[this.vertexCount]), this.vertexBuffers[this.vertexCount].upload(e.vertices, 0, !1), this.vertexCount++);
                            for (K = 0; K < b; ++K) h[K]._virtalBoundId = -1;
                            for (K = 0; K < R; ++K) {
                                b = d[K];
                                e = b.textureCount;
                                for (f = 0; f < e; f++) t = b.textures[f], h[b.ids[f]] !== t && this.renderer.bindTexture(t, b.ids[f], !0), t._virtalBoundId = -1;
                                this.renderer.state.setBlendMode(b.blend);
                                a.drawElements(a.TRIANGLES, 6 * b.size, a.UNSIGNED_SHORT, 12 * b.start)
                            }
                            this.currentIndex = 0
                        }
                    };
                f.prototype.start = function() {
                    this.renderer.bindShader(this.shader);
                    u["default"].CAN_UPLOAD_SAME_BUFFER && (this.renderer.bindVao(this.vaos[this.vertexCount]), this.vertexBuffers[this.vertexCount].bind())
                };
                f.prototype.stop = function() {
                    this.flush()
                };
                f.prototype.destroy = function() {
                    for (var b = 0; b < this.vaoMax; b++) this.vertexBuffers[b] && this.vertexBuffers[b].destroy(), this.vaos[b] &&
                        this.vaos[b].destroy();
                    this.indexBuffer && this.indexBuffer.destroy();
                    this.renderer.off("prerender", this.onPrerender, this);
                    a.prototype.destroy.call(this);
                    this.shader && (this.shader.destroy(), this.shader = null);
                    this.sprites = this.indices = this.indexBuffer = this.vaos = this.vertexBuffers = null;
                    for (b = 0; b < this.buffers.length; ++b) this.buffers[b].destroy()
                };
                return f
            }(c["default"]);
            g["default"] = a;
            m["default"].registerPlugin("sprite", a)
        }, {
            "../../renderers/webgl/WebGLRenderer": 82,
            "../../renderers/webgl/utils/ObjectRenderer": 92,
            "../../renderers/webgl/utils/checkMaxIfStatmentsInShader": 95,
            "../../settings": 99,
            "../../utils/createIndicesForQuads": 117,
            "./BatchBuffer": 103,
            "./generateMultiTextureShader": 105,
            "bit-twiddle": 1,
            "pixi-gl-core": 12
        }],
        105: [function(a, c, g) {
            function h(a) {
                var d;
                d = "\n\n";
                for (var e = 0; e < a; e++) 0 < e && (d += "\nelse "), e < a - 1 && (d += "if(textureId == " + e + ".0)"), d += "\n{", d += "\n\tcolor = texture2D(uSamplers[" + e + "], vTextureCoord);", d += "\n}";
                return d + "\n\n"
            }
            g.__esModule = !0;
            g["default"] = function(a, d) {
                for (var e = m, e = e.replace(/%count%/gi,
                        d), e = e.replace(/%forloop%/gi, h(d)), e = new n["default"](a, "precision highp float;\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute float aTextureId;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vTextureId = aTextureId;\n    vColor = vec4(aColor.rgb * aColor.a, aColor.a);\n}\n",
                        e), b = [], f = 0; f < d; f++) b[f] = f;
                e.bind();
                e.uniforms.uSamplers = b;
                return e
            };
            var n = (c = a("../../Shader")) && c.__esModule ? c : {
                "default": c
            };
            a("path");
            var m = "varying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\nuniform sampler2D uSamplers[%count%];\nvoid main(void){\nvec4 color;\nfloat textureId = floor(vTextureId+0.5);\n%forloop%\ngl_FragColor = color * vColor;\n}"
        }, {
            "../../Shader": 42,
            path: 22
        }],
        106: [function(a, c, g) {
            function h(a) {
                return a && a.__esModule ? a : {
                    "default": a
                }
            }

            function n(a, b) {
                if ("function" !==
                    typeof b && null !== b) throw new TypeError("Super expression must either be null or a function, not " + typeof b);
                a.prototype = Object.create(b && b.prototype, {
                    constructor: {
                        value: a,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                });
                b && (Object.setPrototypeOf ? Object.setPrototypeOf(a, b) : a.__proto__ = b)
            }
            g.__esModule = !0;
            var m = function() {
                function a(a, b) {
                    for (var d = 0; d < b.length; d++) {
                        var e = b[d];
                        e.enumerable = e.enumerable || !1;
                        e.configurable = !0;
                        "value" in e && (e.writable = !0);
                        Object.defineProperty(a, e.key, e)
                    }
                }
                return function(b,
                    d, e) {
                    d && a(b.prototype, d);
                    e && a(b, e);
                    return b
                }
            }();
            c = a("../sprites/Sprite");
            c = h(c);
            var f = a("../textures/Texture"),
                d = h(f),
                e = a("../math"),
                b = a("../utils"),
                p = a("../const"),
                f = a("../settings"),
                u = h(f);
            a = a("./TextStyle");
            var q = h(a),
                x = {
                    texture: !0,
                    children: !1,
                    baseTexture: !0
                };
            a = function(a) {
                function f(b, c, g) {
                    if (!(this instanceof f)) throw new TypeError("Cannot call a class as a function");
                    g = g || document.createElement("canvas");
                    g.width = 3;
                    g.height = 3;
                    var m = d["default"].fromCanvas(g);
                    m.orig = new e.Rectangle;
                    m.trim = new e.Rectangle;
                    m = a.call(this, m);
                    if (!this) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                    m = !m || "object" !== typeof m && "function" !== typeof m ? this : m;
                    m.canvas = g;
                    m.context = m.canvas.getContext("2d");
                    m.resolution = u["default"].RESOLUTION;
                    m._text = null;
                    m._style = null;
                    m._styleListener = null;
                    m._font = "";
                    m.text = b;
                    m.style = c;
                    m.localStyleID = -1;
                    return m
                }
                n(f, a);
                f.prototype.updateText = function(a) {
                    var b = this._style;
                    this.localStyleID !== b.styleID && (this.dirty = !0, this.localStyleID = b.styleID);
                    if (this.dirty ||
                        !a) {
                        this._font = f.getFontStyle(b);
                        this.context.font = this._font;
                        a = (b.wordWrap ? this.wordWrap(this._text) : this._text).split(/(?:\r\n|\r|\n)/);
                        for (var d = Array(a.length), e = 0, c = f.calculateFontProperties(this._font), g = 0; g < a.length; g++) {
                            var m = this.context.measureText(a[g]).width + (a[g].length - 1) * b.letterSpacing;
                            d[g] = m;
                            e = Math.max(e, m)
                        }
                        g = e + b.strokeThickness;
                        b.dropShadow && (g += b.dropShadowDistance);
                        this.canvas.width = Math.ceil((g + 2 * b.padding) * this.resolution);
                        g = b.lineHeight || c.fontSize + b.strokeThickness;
                        m = Math.max(g,
                            c.fontSize + b.strokeThickness) + (a.length - 1) * g;
                        b.dropShadow && (m += b.dropShadowDistance);
                        this.canvas.height = Math.ceil((m + 2 * b.padding) * this.resolution);
                        this.context.scale(this.resolution, this.resolution);
                        this.context.clearRect(0, 0, this.canvas.width, this.canvas.height);
                        this.context.font = this._font;
                        this.context.strokeStyle = b.stroke;
                        this.context.lineWidth = b.strokeThickness;
                        this.context.textBaseline = b.textBaseline;
                        this.context.lineJoin = b.lineJoin;
                        this.context.miterLimit = b.miterLimit;
                        var h;
                        if (b.dropShadow) {
                            0 <
                                b.dropShadowBlur ? (this.context.shadowColor = b.dropShadowColor, this.context.shadowBlur = b.dropShadowBlur) : this.context.fillStyle = b.dropShadowColor;
                            for (var q = Math.cos(b.dropShadowAngle) * b.dropShadowDistance, p = Math.sin(b.dropShadowAngle) * b.dropShadowDistance, n = 0; n < a.length; n++) m = b.strokeThickness / 2, h = b.strokeThickness / 2 + n * g + c.ascent, "right" === b.align ? m += e - d[n] : "center" === b.align && (m += (e - d[n]) / 2), b.fill && (this.drawLetterSpacing(a[n], m + q + b.padding, h + p + b.padding), b.stroke && b.strokeThickness && (this.context.strokeStyle =
                                b.dropShadowColor, this.drawLetterSpacing(a[n], m + q + b.padding, h + p + b.padding, !0), this.context.strokeStyle = b.stroke))
                        }
                        this.context.fillStyle = this._generateFillStyle(b, a);
                        for (q = 0; q < a.length; q++) m = b.strokeThickness / 2, h = b.strokeThickness / 2 + q * g + c.ascent, "right" === b.align ? m += e - d[q] : "center" === b.align && (m += (e - d[q]) / 2), b.stroke && b.strokeThickness && this.drawLetterSpacing(a[q], m + b.padding, h + b.padding, !0), b.fill && this.drawLetterSpacing(a[q], m + b.padding, h + b.padding);
                        this.updateTexture()
                    }
                };
                f.prototype.drawLetterSpacing =
                    function(a, b, d) {
                        var e = 3 < arguments.length && void 0 !== arguments[3] ? arguments[3] : !1,
                            f = this._style.letterSpacing;
                        if (0 === f) e ? this.context.strokeText(a, b, d) : this.context.fillText(a, b, d);
                        else
                            for (var c = String.prototype.split.call(a, ""), g = b, m = 0, q; m < a.length;) q = c[m++], e ? this.context.strokeText(q, g, d) : this.context.fillText(q, g, d), g += this.context.measureText(q).width + f
                    };
                f.prototype.updateTexture = function() {
                    var a = this._texture,
                        b = this._style;
                    a.baseTexture.hasLoaded = !0;
                    a.baseTexture.resolution = this.resolution;
                    a.baseTexture.realWidth =
                        this.canvas.width;
                    a.baseTexture.realHeight = this.canvas.height;
                    a.baseTexture.width = this.canvas.width / this.resolution;
                    a.baseTexture.height = this.canvas.height / this.resolution;
                    a.trim.width = a._frame.width = this.canvas.width / this.resolution;
                    a.trim.height = a._frame.height = this.canvas.height / this.resolution;
                    a.trim.x = -b.padding;
                    a.trim.y = -b.padding;
                    a.orig.width = a._frame.width - 2 * b.padding;
                    a.orig.height = a._frame.height - 2 * b.padding;
                    this._onTextureUpdate();
                    a.baseTexture.emit("update", a.baseTexture);
                    this.dirty = !1
                };
                f.prototype.renderWebGL = function(b) {
                    this.resolution !== b.resolution && (this.resolution = b.resolution, this.dirty = !0);
                    this.updateText(!0);
                    a.prototype.renderWebGL.call(this, b)
                };
                f.prototype._renderCanvas = function(b) {
                    this.resolution !== b.resolution && (this.resolution = b.resolution, this.dirty = !0);
                    this.updateText(!0);
                    a.prototype._renderCanvas.call(this, b)
                };
                f.prototype.wordWrap = function(a) {
                    var b = "",
                        d = this._style;
                    a = a.split("\n");
                    for (var e = d.wordWrapWidth, f = 0; f < a.length; f++) {
                        for (var c = e, g = a[f].split(" "), m = 0; m < g.length; m++) {
                            var q =
                                this.context.measureText(g[m]).width;
                            if (d.breakWords && q > e)
                                for (var q = g[m].split(""), h = 0; h < q.length; h++) {
                                    var p = this.context.measureText(q[h]).width;
                                    p > c ? (b += "\n" + q[h], c = e - p) : (0 === h && (b += " "), b += q[h], c -= p)
                                } else h = q + this.context.measureText(" ").width, 0 === m || h > c ? (0 < m && (b += "\n"), b += g[m], c = e - q) : (c -= h, b += " " + g[m])
                        }
                        f < a.length - 1 && (b += "\n")
                    }
                    return b
                };
                f.prototype._calculateBounds = function() {
                    this.updateText(!0);
                    this.calculateVertices();
                    this._bounds.addQuad(this.vertexData)
                };
                f.prototype._onStyleChange = function() {
                    this.dirty = !0
                };
                f.prototype._generateFillStyle = function(a, b) {
                    if (!Array.isArray(a.fill)) return a.fill;
                    if (navigator.isCocoonJS) return a.fill[0];
                    var d, e, f, c;
                    d = this.canvas.width / this.resolution;
                    e = this.canvas.height / this.resolution;
                    if (a.fillGradientType === p.TEXT_GRADIENT.LINEAR_VERTICAL) {
                        d = this.context.createLinearGradient(d / 2, 0, d / 2, e);
                        e = (a.fill.length + 1) * b.length;
                        for (var g = f = 0; g < b.length; g++) {
                            f += 1;
                            for (var m = 0; m < a.fill.length; m++) c = f / e, d.addColorStop(c, a.fill[m]), f++
                        }
                    } else
                        for (d = this.context.createLinearGradient(0,
                                e / 2, d, e / 2), e = a.fill.length + 1, f = 1, g = 0; g < a.fill.length; g++) c = f / e, d.addColorStop(c, a.fill[g]), f++;
                    return d
                };
                f.prototype.destroy = function(b) {
                    "boolean" === typeof b && (b = {
                        children: b
                    });
                    b = Object.assign({}, x, b);
                    a.prototype.destroy.call(this, b);
                    this._style = this.canvas = this.context = null
                };
                f.getFontStyle = function(a) {
                    a = a || {};
                    a instanceof q["default"] || (a = new q["default"](a));
                    var b = "number" === typeof a.fontSize ? a.fontSize + "px" : a.fontSize,
                        d = a.fontFamily;
                    Array.isArray(a.fontFamily) || (d = a.fontFamily.split(","));
                    for (var e =
                            d.length - 1; 0 <= e; e--) {
                        var f = d[e].trim();
                        /([\"\'])[^\'\"]+\1/.test(f) || (f = '"' + f + '"');
                        d[e] = f
                    }
                    return a.fontStyle + " " + a.fontVariant + " " + a.fontWeight + " " + b + " " + d.join(",")
                };
                f.calculateFontProperties = function(a) {
                    if (f.fontPropertiesCache[a]) return f.fontPropertiesCache[a];
                    var b = {},
                        d = f.fontPropertiesCanvas,
                        e = f.fontPropertiesContext;
                    e.font = a;
                    var c = Math.ceil(e.measureText("|M\u00c9q").width),
                        g = Math.ceil(e.measureText("M").width),
                        m = 2 * g,
                        g = 1.4 * g | 0;
                    d.width = c;
                    d.height = m;
                    e.fillStyle = "#f00";
                    e.fillRect(0, 0, c, m);
                    e.font =
                        a;
                    e.textBaseline = "alphabetic";
                    e.fillStyle = "#000";
                    e.fillText("|M\u00c9q", 0, g);
                    var d = e.getImageData(0, 0, c, m).data,
                        e = d.length,
                        c = 4 * c,
                        q, h = 0,
                        p = !1;
                    for (q = 0; q < g; ++q) {
                        for (var n = 0; n < c; n += 4)
                            if (255 !== d[h + n]) {
                                p = !0;
                                break
                            } if (p) break;
                        else h += c
                    }
                    b.ascent = g - q;
                    h = e - c;
                    p = !1;
                    for (q = m; q > g; --q) {
                        for (m = 0; m < c; m += 4)
                            if (255 !== d[h + m]) {
                                p = !0;
                                break
                            } if (p) break;
                        else h -= c
                    }
                    b.descent = q - g;
                    b.fontSize = b.ascent + b.descent;
                    return f.fontPropertiesCache[a] = b
                };
                m(f, [{
                    key: "width",
                    get: function() {
                        this.updateText(!0);
                        return Math.abs(this.scale.x) * this._texture.orig.width
                    },
                    set: function(a) {
                        this.updateText(!0);
                        var d = (0, b.sign)(this.scale.x) || 1;
                        this.scale.x = d * a / this._texture.orig.width;
                        this._width = a
                    }
                }, {
                    key: "height",
                    get: function() {
                        this.updateText(!0);
                        return Math.abs(this.scale.y) * this._texture.orig.height
                    },
                    set: function(a) {
                        this.updateText(!0);
                        var d = (0, b.sign)(this.scale.y) || 1;
                        this.scale.y = d * a / this._texture.orig.height;
                        this._height = a
                    }
                }, {
                    key: "style",
                    get: function() {
                        return this._style
                    },
                    set: function(a) {
                        a = a || {};
                        this._style = a instanceof q["default"] ? a : new q["default"](a);
                        this.localStyleID = -1;
                        this.dirty = !0
                    }
                }, {
                    key: "text",
                    get: function() {
                        return this._text
                    },
                    set: function(a) {
                        a = String(a || " ");
                        this._text !== a && (this._text = a, this.dirty = !0)
                    }
                }]);
                return f
            }(c["default"]);
            g["default"] = a;
            a.fontPropertiesCache = {};
            a.fontPropertiesCanvas = document.createElement("canvas");
            a.fontPropertiesContext = a.fontPropertiesCanvas.getContext("2d")
        }, {
            "../const": 44,
            "../math": 68,
            "../settings": 99,
            "../sprites/Sprite": 100,
            "../textures/Texture": 111,
            "../utils": 119,
            "./TextStyle": 107
        }],
        107: [function(a, c, g) {
            function h(a) {
                if ("number" ===
                    typeof a) return (0, f.hex2string)(a);
                "string" === typeof a && 0 === a.indexOf("0x") && (a = a.replace("0x", "#"));
                return a
            }

            function n(a) {
                if (Array.isArray(a)) {
                    for (var b = 0; b < a.length; ++b) a[b] = h(a[b]);
                    return a
                }
                return h(a)
            }
            g.__esModule = !0;
            var m = function() {
                function a(a, d) {
                    for (var b = 0; b < d.length; b++) {
                        var e = d[b];
                        e.enumerable = e.enumerable || !1;
                        e.configurable = !0;
                        "value" in e && (e.writable = !0);
                        Object.defineProperty(a, e.key, e)
                    }
                }
                return function(b, d, e) {
                    d && a(b.prototype, d);
                    e && a(b, e);
                    return b
                }
            }();
            c = a("../const");
            var f = a("../utils"),
                d = {
                    align: "left",
                    breakWords: !1,
                    dropShadow: !1,
                    dropShadowAngle: Math.PI / 6,
                    dropShadowBlur: 0,
                    dropShadowColor: "#000000",
                    dropShadowDistance: 5,
                    fill: "black",
                    fillGradientType: c.TEXT_GRADIENT.LINEAR_VERTICAL,
                    fontFamily: "Arial",
                    fontSize: 26,
                    fontStyle: "normal",
                    fontVariant: "normal",
                    fontWeight: "normal",
                    letterSpacing: 0,
                    lineHeight: 0,
                    lineJoin: "miter",
                    miterLimit: 10,
                    padding: 0,
                    stroke: "black",
                    strokeThickness: 0,
                    textBaseline: "alphabetic",
                    wordWrap: !1,
                    wordWrapWidth: 100
                };
            a = function() {
                function a(b) {
                    if (!(this instanceof a)) throw new TypeError("Cannot call a class as a function");
                    this.styleID = 0;
                    Object.assign(this, d, b)
                }
                a.prototype.clone = function() {
                    var b = {},
                        e;
                    for (e in d) b[e] = this[e];
                    return new a(b)
                };
                a.prototype.reset = function() {
                    Object.assign(this, d)
                };
                m(a, [{
                        key: "align",
                        get: function() {
                            return this._align
                        },
                        set: function(a) {
                            this._align !== a && (this._align = a, this.styleID++)
                        }
                    }, {
                        key: "breakWords",
                        get: function() {
                            return this._breakWords
                        },
                        set: function(a) {
                            this._breakWords !== a && (this._breakWords = a, this.styleID++)
                        }
                    }, {
                        key: "dropShadow",
                        get: function() {
                            return this._dropShadow
                        },
                        set: function(a) {
                            this._dropShadow !==
                                a && (this._dropShadow = a, this.styleID++)
                        }
                    }, {
                        key: "dropShadowAngle",
                        get: function() {
                            return this._dropShadowAngle
                        },
                        set: function(a) {
                            this._dropShadowAngle !== a && (this._dropShadowAngle = a, this.styleID++)
                        }
                    }, {
                        key: "dropShadowBlur",
                        get: function() {
                            return this._dropShadowBlur
                        },
                        set: function(a) {
                            this._dropShadowBlur !== a && (this._dropShadowBlur = a, this.styleID++)
                        }
                    }, {
                        key: "dropShadowColor",
                        get: function() {
                            return this._dropShadowColor
                        },
                        set: function(a) {
                            a = n(a);
                            this._dropShadowColor !== a && (this._dropShadowColor = a, this.styleID++)
                        }
                    },
                    {
                        key: "dropShadowDistance",
                        get: function() {
                            return this._dropShadowDistance
                        },
                        set: function(a) {
                            this._dropShadowDistance !== a && (this._dropShadowDistance = a, this.styleID++)
                        }
                    }, {
                        key: "fill",
                        get: function() {
                            return this._fill
                        },
                        set: function(a) {
                            a = n(a);
                            this._fill !== a && (this._fill = a, this.styleID++)
                        }
                    }, {
                        key: "fillGradientType",
                        get: function() {
                            return this._fillGradientType
                        },
                        set: function(a) {
                            this._fillGradientType !== a && (this._fillGradientType = a, this.styleID++)
                        }
                    }, {
                        key: "fontFamily",
                        get: function() {
                            return this._fontFamily
                        },
                        set: function(a) {
                            this.fontFamily !==
                                a && (this._fontFamily = a, this.styleID++)
                        }
                    }, {
                        key: "fontSize",
                        get: function() {
                            return this._fontSize
                        },
                        set: function(a) {
                            this._fontSize !== a && (this._fontSize = a, this.styleID++)
                        }
                    }, {
                        key: "fontStyle",
                        get: function() {
                            return this._fontStyle
                        },
                        set: function(a) {
                            this._fontStyle !== a && (this._fontStyle = a, this.styleID++)
                        }
                    }, {
                        key: "fontVariant",
                        get: function() {
                            return this._fontVariant
                        },
                        set: function(a) {
                            this._fontVariant !== a && (this._fontVariant = a, this.styleID++)
                        }
                    }, {
                        key: "fontWeight",
                        get: function() {
                            return this._fontWeight
                        },
                        set: function(a) {
                            this._fontWeight !==
                                a && (this._fontWeight = a, this.styleID++)
                        }
                    }, {
                        key: "letterSpacing",
                        get: function() {
                            return this._letterSpacing
                        },
                        set: function(a) {
                            this._letterSpacing !== a && (this._letterSpacing = a, this.styleID++)
                        }
                    }, {
                        key: "lineHeight",
                        get: function() {
                            return this._lineHeight
                        },
                        set: function(a) {
                            this._lineHeight !== a && (this._lineHeight = a, this.styleID++)
                        }
                    }, {
                        key: "lineJoin",
                        get: function() {
                            return this._lineJoin
                        },
                        set: function(a) {
                            this._lineJoin !== a && (this._lineJoin = a, this.styleID++)
                        }
                    }, {
                        key: "miterLimit",
                        get: function() {
                            return this._miterLimit
                        },
                        set: function(a) {
                            this._miterLimit !== a && (this._miterLimit = a, this.styleID++)
                        }
                    }, {
                        key: "padding",
                        get: function() {
                            return this._padding
                        },
                        set: function(a) {
                            this._padding !== a && (this._padding = a, this.styleID++)
                        }
                    }, {
                        key: "stroke",
                        get: function() {
                            return this._stroke
                        },
                        set: function(a) {
                            a = n(a);
                            this._stroke !== a && (this._stroke = a, this.styleID++)
                        }
                    }, {
                        key: "strokeThickness",
                        get: function() {
                            return this._strokeThickness
                        },
                        set: function(a) {
                            this._strokeThickness !== a && (this._strokeThickness = a, this.styleID++)
                        }
                    }, {
                        key: "textBaseline",
                        get: function() {
                            return this._textBaseline
                        },
                        set: function(a) {
                            this._textBaseline !== a && (this._textBaseline = a, this.styleID++)
                        }
                    }, {
                        key: "wordWrap",
                        get: function() {
                            return this._wordWrap
                        },
                        set: function(a) {
                            this._wordWrap !== a && (this._wordWrap = a, this.styleID++)
                        }
                    }, {
                        key: "wordWrapWidth",
                        get: function() {
                            return this._wordWrapWidth
                        },
                        set: function(a) {
                            this._wordWrapWidth !== a && (this._wordWrapWidth = a, this.styleID++)
                        }
                    }
                ]);
                return a
            }();
            g["default"] = a
        }, {
            "../const": 44,
            "../utils": 119
        }],
        108: [function(a, c, g) {
            function h(a, d) {
                if ("function" !== typeof d && null !== d) throw new TypeError("Super expression must either be null or a function, not " +
                    typeof d);
                a.prototype = Object.create(d && d.prototype, {
                    constructor: {
                        value: a,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                });
                d && (Object.setPrototypeOf ? Object.setPrototypeOf(a, d) : a.__proto__ = d)
            }
            g.__esModule = !0;
            c = (c = a("./BaseTexture")) && c.__esModule ? c : {
                "default": c
            };
            a = (a = a("../settings")) && a.__esModule ? a : {
                "default": a
            };
            var n = a["default"].RESOLUTION,
                m = a["default"].SCALE_MODE;
            a = function(a) {
                function d() {
                    var e = 0 < arguments.length && void 0 !== arguments[0] ? arguments[0] : 100,
                        b = 1 < arguments.length && void 0 !== arguments[1] ?
                        arguments[1] : 100,
                        f = arguments[2],
                        c = arguments[3];
                    if (!(this instanceof d)) throw new TypeError("Cannot call a class as a function");
                    var g;
                    g = a.call(this, null, f);
                    if (!this) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                    g = !g || "object" !== typeof g && "function" !== typeof g ? this : g;
                    g.resolution = c || n;
                    g.width = e;
                    g.height = b;
                    g.realWidth = g.width * g.resolution;
                    g.realHeight = g.height * g.resolution;
                    g.scaleMode = f || m;
                    g.hasLoaded = !0;
                    g._glRenderTargets = {};
                    g._canvasRenderTarget = null;
                    g.valid = !1;
                    return g
                }
                h(d, a);
                d.prototype.resize = function(a, b) {
                    if (a !== this.width || b !== this.height) this.valid = 0 < a && 0 < b, this.width = a, this.height = b, this.realWidth = this.width * this.resolution, this.realHeight = this.height * this.resolution, this.valid && this.emit("update", this)
                };
                d.prototype.destroy = function() {
                    a.prototype.destroy.call(this, !0);
                    this.renderer = null
                };
                return d
            }(c["default"]);
            g["default"] = a
        }, {
            "../settings": 99,
            "./BaseTexture": 109
        }],
        109: [function(a, c, g) {
            function h(a) {
                return a && a.__esModule ? a : {
                    "default": a
                }
            }

            function n(a,
                b) {
                if ("function" !== typeof b && null !== b) throw new TypeError("Super expression must either be null or a function, not " + typeof b);
                a.prototype = Object.create(b && b.prototype, {
                    constructor: {
                        value: a,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                });
                b && (Object.setPrototypeOf ? Object.setPrototypeOf(a, b) : a.__proto__ = b)
            }
            g.__esModule = !0;
            var m = "function" === typeof Symbol && "symbol" === typeof Symbol.iterator ? function(a) {
                    return typeof a
                } : function(a) {
                    return a && "function" === typeof Symbol && a.constructor === Symbol && a !== Symbol.prototype ?
                        "symbol" : typeof a
                },
                f = a("../utils");
            c = a("../settings");
            var d = h(c);
            c = a("eventemitter3");
            c = h(c);
            var e = a("../utils/determineCrossOrigin"),
                b = h(e);
            a = a("bit-twiddle");
            var p = h(a);
            a = function(a) {
                function e(b, c, g) {
                    if (!(this instanceof e)) throw new TypeError("Cannot call a class as a function");
                    var m;
                    m = a.call(this);
                    if (!this) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                    m = !m || "object" !== typeof m && "function" !== typeof m ? this : m;
                    m.uid = (0, f.uid)();
                    m.touched = 0;
                    m.resolution = g ||
                        d["default"].RESOLUTION;
                    m.width = 100;
                    m.height = 100;
                    m.realWidth = 100;
                    m.realHeight = 100;
                    m.scaleMode = c || d["default"].SCALE_MODE;
                    m.hasLoaded = !1;
                    m.isLoading = !1;
                    m.source = null;
                    m.origSource = null;
                    m.imageType = null;
                    m.sourceScale = 1;
                    m.premultipliedAlpha = !0;
                    m.imageUrl = null;
                    m.isPowerOfTwo = !1;
                    m.mipmap = d["default"].MIPMAP_TEXTURES;
                    m.wrapMode = d["default"].WRAP_MODE;
                    m._glTextures = {};
                    m._enabled = 0;
                    m._virtalBoundId = -1;
                    b && m.loadSource(b);
                    return m
                }
                n(e, a);
                e.prototype.update = function() {
                    "svg" !== this.imageType && (this.realWidth =
                        this.source.naturalWidth || this.source.videoWidth || this.source.width, this.realHeight = this.source.naturalHeight || this.source.videoHeight || this.source.height, this.width = this.realWidth / this.resolution, this.height = this.realHeight / this.resolution, this.isPowerOfTwo = p["default"].isPow2(this.realWidth) && p["default"].isPow2(this.realHeight));
                    this.emit("update", this)
                };
                e.prototype.loadSource = function(a) {
                    var b = this,
                        d = this.isLoading;
                    this.isLoading = this.hasLoaded = !1;
                    d && this.source && (this.source.onload = null, this.source.onerror =
                        null);
                    var e = !this.source;
                    this.source = a;
                    if ((a.src && a.complete || a.getContext) && a.width && a.height) this._updateImageType(), "svg" === this.imageType ? this._loadSvgSource() : this._sourceLoaded(), e && this.emit("loaded", this);
                    else if (!a.getContext && (e = function() {
                            b.isLoading = !0;
                            a.onload = function() {
                                b._updateImageType();
                                a.onload = null;
                                a.onerror = null;
                                b.isLoading && (b.isLoading = !1, b._sourceLoaded(), "svg" === b.imageType ? b._loadSvgSource() : b.emit("loaded", b))
                            };
                            a.onerror = function() {
                                a.onload = null;
                                a.onerror = null;
                                b.isLoading &&
                                    (b.isLoading = !1, b.emit("error", b))
                            };
                            if (a.complete && a.src) {
                                a.onload = null;
                                a.onerror = null;
                                if ("svg" === b.imageType) return b._loadSvgSource(), {
                                    v: void 0
                                };
                                b.isLoading = !1;
                                a.width && a.height ? (b._sourceLoaded(), d && b.emit("loaded", b)) : d && b.emit("error", b)
                            }
                        }(), "object" === ("undefined" === typeof e ? "undefined" : m(e)))) return e.v
                };
                e.prototype._updateImageType = function() {
                    if (this.imageUrl) {
                        var a = (0, f.decomposeDataUri)(this.imageUrl);
                        if (a && "image" === a.mediaType) {
                            if (a = a.subType.split("+")[0], a = (0, f.getUrlFileExtension)("." +
                                    a), !a) throw Error("Invalid image type in data URI.");
                        } else(a = (0, f.getUrlFileExtension)(this.imageUrl)) || (a = "png");
                        this.imageType = a
                    }
                };
                e.prototype._loadSvgSource = function() {
                    if ("svg" === this.imageType) {
                        var a = (0, f.decomposeDataUri)(this.imageUrl);
                        a ? this._loadSvgSourceUsingDataUri(a) : this._loadSvgSourceUsingXhr()
                    }
                };
                e.prototype._loadSvgSourceUsingDataUri = function(a) {
                    if ("base64" === a.encoding) {
                        if (!atob) throw Error("Your browser doesn't support base64 conversions.");
                        a = atob(a.data)
                    } else a = a.data;
                    this._loadSvgSourceUsingString(a)
                };
                e.prototype._loadSvgSourceUsingXhr = function() {
                    var a = this,
                        b = new XMLHttpRequest;
                    b.onload = function() {
                        if (b.readyState !== b.DONE || 200 !== b.status) throw Error("Failed to load SVG using XHR.");
                        a._loadSvgSourceUsingString(b.response)
                    };
                    b.onerror = function() {
                        return a.emit("error", a)
                    };
                    b.open("GET", this.imageUrl, !0);
                    b.send()
                };
                e.prototype._loadSvgSourceUsingString = function(a) {
                    var b = (0, f.getSvgSize)(a);
                    a = b.width;
                    b = b.height;
                    if (!a || !b) throw Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");
                    this.realWidth = Math.round(a * this.sourceScale);
                    this.realHeight = Math.round(b * this.sourceScale);
                    this.width = this.realWidth / this.resolution;
                    this.height = this.realHeight / this.resolution;
                    this.isPowerOfTwo = p["default"].isPow2(this.realWidth) && p["default"].isPow2(this.realHeight);
                    var d = document.createElement("canvas");
                    d.width = this.realWidth;
                    d.height = this.realHeight;
                    d._pixiId = "canvas_" + (0, f.uid)();
                    d.getContext("2d").drawImage(this.source, 0, 0, a, b, 0, 0, this.realWidth, this.realHeight);
                    this.origSource = this.source;
                    this.source = d;
                    f.BaseTextureCache[d._pixiId] = this;
                    this.isLoading = !1;
                    this._sourceLoaded();
                    this.emit("loaded", this)
                };
                e.prototype._sourceLoaded = function() {
                    this.hasLoaded = !0;
                    this.update()
                };
                e.prototype.destroy = function() {
                    this.imageUrl && (delete f.BaseTextureCache[this.imageUrl], delete f.TextureCache[this.imageUrl], this.imageUrl = null, navigator.isCocoonJS || (this.source.src = ""));
                    this.source && this.source._pixiId && delete f.BaseTextureCache[this.source._pixiId];
                    this.source = null;
                    this.dispose()
                };
                e.prototype.dispose =
                    function() {
                        this.emit("dispose", this)
                    };
                e.prototype.updateSourceImage = function(a) {
                    this.source.src = a;
                    this.loadSource(this.source)
                };
                e.fromImage = function(a, d, c, g) {
                    var m = f.BaseTextureCache[a];
                    if (!m) {
                        var h = new Image;
                        void 0 === d && 0 !== a.indexOf("data:") && (h.crossOrigin = (0, b["default"])(a));
                        m = new e(h, c);
                        m.imageUrl = a;
                        g && (m.sourceScale = g);
                        m.resolution = (0, f.getResolutionOfUrl)(a);
                        h.src = a;
                        f.BaseTextureCache[a] = m
                    }
                    return m
                };
                e.fromCanvas = function(a, b) {
                    a._pixiId || (a._pixiId = "canvas_" + (0, f.uid)());
                    var d = f.BaseTextureCache[a._pixiId];
                    d || (d = new e(a, b), f.BaseTextureCache[a._pixiId] = d);
                    return d
                };
                return e
            }(c["default"]);
            g["default"] = a
        }, {
            "../settings": 99,
            "../utils": 119,
            "../utils/determineCrossOrigin": 118,
            "bit-twiddle": 1,
            eventemitter3: 3
        }],
        110: [function(a, c, g) {
            function h(a, f) {
                if ("function" !== typeof f && null !== f) throw new TypeError("Super expression must either be null or a function, not " + typeof f);
                a.prototype = Object.create(f && f.prototype, {
                    constructor: {
                        value: a,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                });
                f && (Object.setPrototypeOf ? Object.setPrototypeOf(a,
                    f) : a.__proto__ = f)
            }
            g.__esModule = !0;
            var n = (c = a("./BaseRenderTexture")) && c.__esModule ? c : {
                "default": c
            };
            a = a("./Texture");
            a = function(a) {
                function f(d, e, b, c, g) {
                    if (!(this instanceof f)) throw new TypeError("Cannot call a class as a function");
                    var m = null;
                    if (!(d instanceof n["default"])) {
                        var h = e;
                        c = c || 0;
                        g = g || 1;
                        console.warn("Please use RenderTexture.create(" + h + ", " + b + ") instead of the ctor directly.");
                        m = d;
                        e = null;
                        d = new n["default"](h, b, c, g)
                    }
                    d = a.call(this, d, e);
                    if (!this) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                    d = !d || "object" !== typeof d && "function" !== typeof d ? this : d;
                    d.legacyRenderer = m;
                    d.valid = !0;
                    d._updateUvs();
                    return d
                }
                h(f, a);
                f.prototype.resize = function(a, e, b) {
                    this.valid = 0 < a && 0 < e;
                    this._frame.width = this.orig.width = a;
                    this._frame.height = this.orig.height = e;
                    b || this.baseTexture.resize(a, e);
                    this._updateUvs()
                };
                f.create = function(a, e, b, c) {
                    return new f(new n["default"](a, e, b, c))
                };
                return f
            }((a && a.__esModule ? a : {
                "default": a
            })["default"]);
            g["default"] = a
        }, {
            "./BaseRenderTexture": 108,
            "./Texture": 111
        }],
        111: [function(a, c, g) {
            function h(a) {
                return a &&
                    a.__esModule ? a : {
                        "default": a
                    }
            }

            function n(a, b) {
                if ("function" !== typeof b && null !== b) throw new TypeError("Super expression must either be null or a function, not " + typeof b);
                a.prototype = Object.create(b && b.prototype, {
                    constructor: {
                        value: a,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                });
                b && (Object.setPrototypeOf ? Object.setPrototypeOf(a, b) : a.__proto__ = b)
            }
            g.__esModule = !0;
            var m = function() {
                function a(a, b) {
                    for (var d = 0; d < b.length; d++) {
                        var e = b[d];
                        e.enumerable = e.enumerable || !1;
                        e.configurable = !0;
                        "value" in e && (e.writable = !0);
                        Object.defineProperty(a, e.key, e)
                    }
                }
                return function(b, d, e) {
                    d && a(b.prototype, d);
                    e && a(b, e);
                    return b
                }
            }();
            c = a("./BaseTexture");
            var f = h(c);
            c = a("./VideoBaseTexture");
            var d = h(c);
            c = a("./TextureUvs");
            var e = h(c);
            c = a("eventemitter3");
            c = h(c);
            var b = a("../math"),
                p = a("../utils");
            a = function(a) {
                function c(d, e, f, g, m) {
                    if (!(this instanceof c)) throw new TypeError("Cannot call a class as a function");
                    var h;
                    h = a.call(this);
                    if (!this) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                    h = !h || "object" !== typeof h && "function" !== typeof h ? this : h;
                    h.noFrame = !1;
                    e || (h.noFrame = !0, e = new b.Rectangle(0, 0, 1, 1));
                    d instanceof c && (d = d.baseTexture);
                    h.baseTexture = d;
                    h._frame = e;
                    h.trim = g;
                    h.valid = !1;
                    h.requiresUpdate = !1;
                    h._uvs = null;
                    h.orig = f || e;
                    h._rotate = Number(m || 0);
                    if (!0 === m) h._rotate = 2;
                    else if (0 !== h._rotate % 2) throw Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");
                    if (d.hasLoaded) h.noFrame && (e = new b.Rectangle(0, 0, d.width, d.height), d.on("update", h.onBaseTextureUpdated, h)),
                        h.frame = e;
                    else d.once("loaded", h.onBaseTextureLoaded, h);
                    h._updateID = 0;
                    h.transform = null;
                    return h
                }
                n(c, a);
                c.prototype.update = function() {
                    this.baseTexture.update()
                };
                c.prototype.onBaseTextureLoaded = function(a) {
                    this._updateID++;
                    this.frame = this.noFrame ? new b.Rectangle(0, 0, a.width, a.height) : this._frame;
                    this.baseTexture.on("update", this.onBaseTextureUpdated, this);
                    this.emit("update", this)
                };
                c.prototype.onBaseTextureUpdated = function(a) {
                    this._updateID++;
                    this._frame.width = a.width;
                    this._frame.height = a.height;
                    this.emit("update",
                        this)
                };
                c.prototype.destroy = function(a) {
                    this.baseTexture && (a && (p.TextureCache[this.baseTexture.imageUrl] && delete p.TextureCache[this.baseTexture.imageUrl], this.baseTexture.destroy()), this.baseTexture.off("update", this.onBaseTextureUpdated, this), this.baseTexture.off("loaded", this.onBaseTextureLoaded, this), this.baseTexture = null);
                    this.orig = this.trim = this._uvs = this._frame = null;
                    this.valid = !1;
                    this.off("dispose", this.dispose, this);
                    this.off("update", this.update, this)
                };
                c.prototype.clone = function() {
                    return new c(this.baseTexture,
                        this.frame, this.orig, this.trim, this.rotate)
                };
                c.prototype._updateUvs = function() {
                    this._uvs || (this._uvs = new e["default"]);
                    this._uvs.set(this._frame, this.baseTexture, this.rotate);
                    this._updateID++
                };
                c.fromImage = function(a, b, d, e) {
                    var g = p.TextureCache[a];
                    g || (g = new c(f["default"].fromImage(a, b, d, e)), p.TextureCache[a] = g);
                    return g
                };
                c.fromFrame = function(a) {
                    var b = p.TextureCache[a];
                    if (!b) throw Error('The frameId "' + a + '" does not exist in the texture cache');
                    return b
                };
                c.fromCanvas = function(a, b) {
                    return new c(f["default"].fromCanvas(a,
                        b))
                };
                c.fromVideo = function(a, b) {
                    return "string" === typeof a ? c.fromVideoUrl(a, b) : new c(d["default"].fromVideo(a, b))
                };
                c.fromVideoUrl = function(a, b) {
                    return new c(d["default"].fromUrl(a, b))
                };
                c.from = function(a) {
                    if ("string" === typeof a) {
                        var b = p.TextureCache[a];
                        return b ? b : null !== a.match(/\.(mp4|webm|ogg|h264|avi|mov)$/) ? c.fromVideoUrl(a) : c.fromImage(a)
                    }
                    return a instanceof HTMLImageElement ? new c(new f["default"](a)) : a instanceof HTMLCanvasElement ? c.fromCanvas(a) : a instanceof HTMLVideoElement ? c.fromVideo(a) : a instanceof
                    f["default"] ? new c(a) : a
                };
                c.addTextureToCache = function(a, b) {
                    p.TextureCache[b] = a
                };
                c.removeTextureFromCache = function(a) {
                    var b = p.TextureCache[a];
                    delete p.TextureCache[a];
                    delete p.BaseTextureCache[a];
                    return b
                };
                m(c, [{
                    key: "frame",
                    get: function() {
                        return this._frame
                    },
                    set: function(a) {
                        this._frame = a;
                        this.noFrame = !1;
                        if (a.x + a.width > this.baseTexture.width || a.y + a.height > this.baseTexture.height) throw Error("Texture Error: frame does not fit inside the base Texture dimensions " + this);
                        this.valid = a && a.width && a.height &&
                            this.baseTexture.hasLoaded;
                        this.trim || this.rotate || (this.orig = a);
                        this.valid && this._updateUvs()
                    }
                }, {
                    key: "rotate",
                    get: function() {
                        return this._rotate
                    },
                    set: function(a) {
                        this._rotate = a;
                        this.valid && this._updateUvs()
                    }
                }, {
                    key: "width",
                    get: function() {
                        return this.orig.width
                    }
                }, {
                    key: "height",
                    get: function() {
                        return this.orig.height
                    }
                }]);
                return c
            }(c["default"]);
            g["default"] = a;
            a.EMPTY = new a(new f["default"]);
            a.EMPTY.destroy = function() {};
            a.EMPTY.on = function() {};
            a.EMPTY.once = function() {};
            a.EMPTY.emit = function() {}
        }, {
            "../math": 68,
            "../utils": 119,
            "./BaseTexture": 109,
            "./TextureUvs": 112,
            "./VideoBaseTexture": 113,
            eventemitter3: 3
        }],
        112: [function(a, c, g) {
            g.__esModule = !0;
            var h = (a = a("../math/GroupD8")) && a.__esModule ? a : {
                "default": a
            };
            a = function() {
                function a() {
                    if (!(this instanceof a)) throw new TypeError("Cannot call a class as a function");
                    this.y0 = this.x0 = 0;
                    this.x1 = 1;
                    this.y1 = 0;
                    this.y2 = this.x2 = 1;
                    this.x3 = 0;
                    this.y3 = 1;
                    this.uvsUint32 = new Uint32Array(4)
                }
                a.prototype.set = function(a, c, d) {
                    var e = c.width,
                        b = c.height;
                    if (d) {
                        c = a.width / 2 / e;
                        var f = a.height /
                            2 / b,
                            e = a.x / e + c;
                        a = a.y / b + f;
                        d = h["default"].add(d, h["default"].NW);
                        this.x0 = e + c * h["default"].uX(d);
                        this.y0 = a + f * h["default"].uY(d);
                        d = h["default"].add(d, 2);
                        this.x1 = e + c * h["default"].uX(d);
                        this.y1 = a + f * h["default"].uY(d);
                        d = h["default"].add(d, 2);
                        this.x2 = e + c * h["default"].uX(d);
                        this.y2 = a + f * h["default"].uY(d);
                        d = h["default"].add(d, 2);
                        this.x3 = e + c * h["default"].uX(d);
                        this.y3 = a + f * h["default"].uY(d)
                    } else this.x0 = a.x / e, this.y0 = a.y / b, this.x1 = (a.x + a.width) / e, this.y1 = a.y / b, this.x2 = (a.x + a.width) / e, this.y2 = (a.y + a.height) / b,
                        this.x3 = a.x / e, this.y3 = (a.y + a.height) / b;
                    this.uvsUint32[0] = (65535 * this.y0 & 65535) << 16 | 65535 * this.x0 & 65535;
                    this.uvsUint32[1] = (65535 * this.y1 & 65535) << 16 | 65535 * this.x1 & 65535;
                    this.uvsUint32[2] = (65535 * this.y2 & 65535) << 16 | 65535 * this.x2 & 65535;
                    this.uvsUint32[3] = (65535 * this.y3 & 65535) << 16 | 65535 * this.x3 & 65535
                };
                return a
            }();
            g["default"] = a
        }, {
            "../math/GroupD8": 64
        }],
        113: [function(a, c, g) {
            function h(a, b) {
                if ("function" !== typeof b && null !== b) throw new TypeError("Super expression must either be null or a function, not " + typeof b);
                a.prototype = Object.create(b && b.prototype, {
                    constructor: {
                        value: a,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                });
                b && (Object.setPrototypeOf ? Object.setPrototypeOf(a, b) : a.__proto__ = b)
            }

            function n(a, b) {
                b || (b = "video/" + a.substr(a.lastIndexOf(".") + 1));
                var d = document.createElement("source");
                d.src = a;
                d.type = b;
                return d
            }
            g.__esModule = !0;
            var m = function() {
                function a(a, d) {
                    for (var b = 0; b < d.length; b++) {
                        var e = d[b];
                        e.enumerable = e.enumerable || !1;
                        e.configurable = !0;
                        "value" in e && (e.writable = !0);
                        Object.defineProperty(a, e.key, e)
                    }
                }
                return function(b, d, e) {
                    d && a(b.prototype, d);
                    e && a(b, e);
                    return b
                }
            }();
            c = (c = a("./BaseTexture")) && c.__esModule ? c : {
                "default": c
            };
            var f = a("../utils"),
                d = function(a) {
                    if (a && a.__esModule) return a;
                    var b = {};
                    if (null != a)
                        for (var d in a) Object.prototype.hasOwnProperty.call(a, d) && (b[d] = a[d]);
                    b["default"] = a;
                    return b
                }(a("../ticker"));
            a = function(a) {
                function b(d, e) {
                    if (!(this instanceof b)) throw new TypeError("Cannot call a class as a function");
                    if (!d) throw Error("No video source element specified.");
                    (d.readyState === d.HAVE_ENOUGH_DATA ||
                        d.readyState === d.HAVE_FUTURE_DATA) && d.width && d.height && (d.complete = !0);
                    var c;
                    c = a.call(this, d, e);
                    if (!this) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                    c = !c || "object" !== typeof c && "function" !== typeof c ? this : c;
                    c.width = d.videoWidth;
                    c.height = d.videoHeight;
                    c._autoUpdate = !0;
                    c._isAutoUpdating = !1;
                    c.autoPlay = !0;
                    c.update = c.update.bind(c);
                    c._onCanPlay = c._onCanPlay.bind(c);
                    d.addEventListener("play", c._onPlayStart.bind(c));
                    d.addEventListener("pause", c._onPlayStop.bind(c));
                    c.hasLoaded = !1;
                    c.__loaded = !1;
                    c._isSourceReady() ? c._onCanPlay() : (d.addEventListener("canplay", c._onCanPlay), d.addEventListener("canplaythrough", c._onCanPlay));
                    return c
                }
                h(b, a);
                b.prototype._isSourcePlaying = function() {
                    var a = this.source;
                    return 0 < a.currentTime && !1 === a.paused && !1 === a.ended && 2 < a.readyState
                };
                b.prototype._isSourceReady = function() {
                    return 3 === this.source.readyState || 4 === this.source.readyState
                };
                b.prototype._onPlayStart = function() {
                    this.hasLoaded || this._onCanPlay();
                    !this._isAutoUpdating && this.autoUpdate &&
                        (d.shared.add(this.update, this), this._isAutoUpdating = !0)
                };
                b.prototype._onPlayStop = function() {
                    this._isAutoUpdating && (d.shared.remove(this.update, this), this._isAutoUpdating = !1)
                };
                b.prototype._onCanPlay = function() {
                    this.hasLoaded = !0;
                    this.source && (this.source.removeEventListener("canplay", this._onCanPlay), this.source.removeEventListener("canplaythrough", this._onCanPlay), this.width = this.source.videoWidth, this.height = this.source.videoHeight, this.__loaded || (this.__loaded = !0, this.emit("loaded", this)), this._isSourcePlaying() ?
                        this._onPlayStart() : this.autoPlay && this.source.play())
                };
                b.prototype.destroy = function() {
                    this._isAutoUpdating && d.shared.remove(this.update, this);
                    this.source && this.source._pixiId && (delete f.BaseTextureCache[this.source._pixiId], delete this.source._pixiId);
                    a.prototype.destroy.call(this)
                };
                b.fromVideo = function(a, d) {
                    a._pixiId || (a._pixiId = "video_" + (0, f.uid)());
                    var e = f.BaseTextureCache[a._pixiId];
                    e || (e = new b(a, d), f.BaseTextureCache[a._pixiId] = e);
                    return e
                };
                b.fromUrl = function(a, d) {
                    var e = document.createElement("video");
                    e.setAttribute("webkit-playsinline", "");
                    e.setAttribute("playsinline", "");
                    if (Array.isArray(a))
                        for (var c = 0; c < a.length; ++c) e.appendChild(n(a[c].src || a[c], a[c].mime));
                    else e.appendChild(n(a.src || a, a.mime));
                    e.load();
                    return b.fromVideo(e, d)
                };
                m(b, [{
                    key: "autoUpdate",
                    get: function() {
                        return this._autoUpdate
                    },
                    set: function(a) {
                        a !== this._autoUpdate && (this._autoUpdate = a, !this._autoUpdate && this._isAutoUpdating ? (d.shared.remove(this.update, this), this._isAutoUpdating = !1) : this._autoUpdate && !this._isAutoUpdating && (d.shared.add(this.update,
                            this), this._isAutoUpdating = !0))
                    }
                }]);
                return b
            }(c["default"]);
            g["default"] = a;
            a.fromUrls = a.fromUrl
        }, {
            "../ticker": 115,
            "../utils": 119,
            "./BaseTexture": 109
        }],
        114: [function(a, c, g) {
            g.__esModule = !0;
            var h = function() {
                    function a(a, e) {
                        for (var b = 0; b < e.length; b++) {
                            var d = e[b];
                            d.enumerable = d.enumerable || !1;
                            d.configurable = !0;
                            "value" in d && (d.writable = !0);
                            Object.defineProperty(a, d.key, d)
                        }
                    }
                    return function(d, e, b) {
                        e && a(d.prototype, e);
                        b && a(d, b);
                        return d
                    }
                }(),
                n = (c = a("../settings")) && c.__esModule ? c : {
                    "default": c
                },
                m = (a = a("eventemitter3")) &&
                a.__esModule ? a : {
                    "default": a
                };
            a = function() {
                function a() {
                    var d = this;
                    if (!(this instanceof a)) throw new TypeError("Cannot call a class as a function");
                    this._emitter = new m["default"];
                    this._requestId = null;
                    this._maxElapsedMS = 100;
                    this.autoStart = !1;
                    this.deltaTime = 1;
                    this.elapsedMS = 1 / n["default"].TARGET_FPMS;
                    this.lastTime = 0;
                    this.speed = 1;
                    this.started = !1;
                    this._tick = function(a) {
                        d._requestId = null;
                        d.started && (d.update(a), d.started && null === d._requestId && d._emitter.listeners("tick", !0) && (d._requestId = requestAnimationFrame(d._tick)))
                    }
                }
                a.prototype._requestIfNeeded = function() {
                    null === this._requestId && this._emitter.listeners("tick", !0) && (this.lastTime = performance.now(), this._requestId = requestAnimationFrame(this._tick))
                };
                a.prototype._cancelIfNeeded = function() {
                    null !== this._requestId && (cancelAnimationFrame(this._requestId), this._requestId = null)
                };
                a.prototype._startIfPossible = function() {
                    this.started ? this._requestIfNeeded() : this.autoStart && this.start()
                };
                a.prototype.add = function(a, e) {
                    this._emitter.on("tick", a, e);
                    this._startIfPossible();
                    return this
                };
                a.prototype.addOnce = function(a, e) {
                    this._emitter.once("tick", a, e);
                    this._startIfPossible();
                    return this
                };
                a.prototype.remove = function(a, e) {
                    this._emitter.off("tick", a, e);
                    this._emitter.listeners("tick", !0) || this._cancelIfNeeded();
                    return this
                };
                a.prototype.start = function() {
                    this.started || (this.started = !0, this._requestIfNeeded())
                };
                a.prototype.stop = function() {
                    this.started && (this.started = !1, this._cancelIfNeeded())
                };
                a.prototype.update = function() {
                    var a = 0 < arguments.length && void 0 !== arguments[0] ? arguments[0] : performance.now(),
                        e;
                    a > this.lastTime ? (e = this.elapsedMS = a - this.lastTime, e > this._maxElapsedMS && (e = this._maxElapsedMS), this.deltaTime = e * n["default"].TARGET_FPMS * this.speed, this._emitter.emit("tick", this.deltaTime)) : this.deltaTime = this.elapsedMS = 0;
                    this.lastTime = a
                };
                h(a, [{
                    key: "FPS",
                    get: function() {
                        return 1E3 / this.elapsedMS
                    }
                }, {
                    key: "minFPS",
                    get: function() {
                        return 1E3 / this._maxElapsedMS
                    },
                    set: function(a) {
                        this._maxElapsedMS = 1 / Math.min(Math.max(0, a) / 1E3, n["default"].TARGET_FPMS)
                    }
                }]);
                return a
            }();
            g["default"] = a
        }, {
            "../settings": 99,
            eventemitter3: 3
        }],
        115: [function(a, c, g) {
            g.__esModule = !0;
            g.Ticker = g.shared = void 0;
            a = (a = a("./Ticker")) && a.__esModule ? a : {
                "default": a
            };
            c = new a["default"];
            c.autoStart = !0;
            g.shared = c;
            g.Ticker = a["default"]
        }, {
            "./Ticker": 114
        }],
        116: [function(a, c, g) {
            g.__esModule = !0;
            g["default"] = function() {
                return !(navigator.platform && /iPad|iPhone|iPod/.test(navigator.platform))
            }
        }, {}],
        117: [function(a, c, g) {
            g.__esModule = !0;
            g["default"] = function(a) {
                a *= 6;
                for (var c = new Uint16Array(a), g = 0, f = 0; g < a; g += 6, f += 4) c[g + 0] = f + 0, c[g + 1] = f + 1, c[g + 2] =
                    f + 2, c[g + 3] = f + 0, c[g + 4] = f + 2, c[g + 5] = f + 3;
                return c
            }
        }, {}],
        118: [function(a, c, g) {
            g.__esModule = !0;
            g["default"] = function(a) {
                var c = 1 < arguments.length && void 0 !== arguments[1] ? arguments[1] : window.location;
                if (0 === a.indexOf("data:")) return "";
                c = c || window.location;
                n || (n = document.createElement("a"));
                n.href = a;
                a = h["default"].parse(n.href);
                var d = !a.port && "" === c.port || a.port === c.port;
                return a.hostname === c.hostname && d && a.protocol === c.protocol ? "" : "anonymous"
            };
            var h = (a = a("url")) && a.__esModule ? a : {
                    "default": a
                },
                n = void 0
        }, {
            url: 28
        }],
        119: [function(a, c, g) {
            function h(a) {
                return a && a.__esModule ? a : {
                    "default": a
                }
            }
            g.__esModule = !0;
            g.BaseTextureCache = g.TextureCache = g.pluginTarget = g.EventEmitter = g.isMobile = void 0;
            g.uid = function() {
                return ++d
            };
            g.hex2rgb = function(a, d) {
                d = d || [];
                d[0] = (a >> 16 & 255) / 255;
                d[1] = (a >> 8 & 255) / 255;
                d[2] = (a & 255) / 255;
                return d
            };
            g.hex2string = function(a) {
                a = a.toString(16);
                a = "000000".substr(0, 6 - a.length) + a;
                return "#" + a
            };
            g.rgb2hex = function(a) {
                return (255 * a[0] << 16) + (255 * a[1] << 8) + 255 * a[2]
            };
            g.getResolutionOfUrl = function(a, d) {
                var b = m["default"].RETINA_PREFIX.exec(a);
                return b ? parseFloat(b[1]) : void 0 !== d ? d : 1
            };
            g.decomposeDataUri = function(a) {
                if (a = n.DATA_URI.exec(a)) return {
                    mediaType: a[1] ? a[1].toLowerCase() : void 0,
                    subType: a[2] ? a[2].toLowerCase() : void 0,
                    encoding: a[3] ? a[3].toLowerCase() : void 0,
                    data: a[4]
                }
            };
            g.getUrlFileExtension = function(a) {
                if (a = n.URL_FILE_EXTENSION.exec(a)) return a[1].toLowerCase()
            };
            g.getSvgSize = function(a) {
                a = n.SVG_SIZE.exec(a);
                var b = {};
                a && (b[a[1]] = Math.round(parseFloat(a[3])), b[a[5]] = Math.round(parseFloat(a[7])));
                return b
            };
            g.skipHello = function() {
                e = !0
            };
            g.sayHello = function(a) {
                e || (-1 < navigator.userAgent.toLowerCase().indexOf("chrome") ? window.console.log.apply(console, ["\n %c %c %c Pixi.js " + n.VERSION + " - \u2730 " + a + " \u2730  %c  %c  http://www.pixijs.com/  %c %c \u2665%c\u2665%c\u2665 \n\n", "background: #ff66a5; padding:5px 0;", "background: #ff66a5; padding:5px 0;", "color: #ff66a5; background: #030307; padding:5px 0;", "background: #ff66a5; padding:5px 0;", "background: #ffc3dc; padding:5px 0;", "background: #ff66a5; padding:5px 0;", "color: #ff2424; background: #fff; padding:5px 0;",
                    "color: #ff2424; background: #fff; padding:5px 0;", "color: #ff2424; background: #fff; padding:5px 0;"
                ]) : window.console && window.console.log("Pixi.js " + n.VERSION + " - " + a + " - http://www.pixijs.com/"), e = !0)
            };
            g.isWebGLSupported = function() {
                var a = {
                    stencil: !0,
                    failIfMajorPerformanceCaveat: !0
                };
                try {
                    if (!window.WebGLRenderingContext) return !1;
                    var d = document.createElement("canvas"),
                        e = d.getContext("webgl", a) || d.getContext("experimental-webgl", a),
                        c = !(!e || !e.getContextAttributes().stencil);
                    if (e) {
                        var f = e.getExtension("WEBGL_lose_context");
                        f && f.loseContext()
                    }
                    return c
                } catch (y) {
                    return !1
                }
            };
            g.sign = function(a) {
                return 0 === a ? 0 : 0 > a ? -1 : 1
            };
            g.removeItems = function(a, d, e) {
                var b = a.length;
                if (!(d >= b || 0 === e)) {
                    e = d + e > b ? b - d : e;
                    for (b -= e; d < b; ++d) a[d] = a[d + e];
                    a.length = b
                }
            };
            var n = a("../const");
            c = a("../settings");
            var m = h(c);
            c = a("eventemitter3");
            c = h(c);
            var f = a("./pluginTarget"),
                f = h(f);
            a = function(a) {
                if (a && a.__esModule) return a;
                var b = {};
                if (null != a)
                    for (var d in a) Object.prototype.hasOwnProperty.call(a, d) && (b[d] = a[d]);
                b["default"] = a;
                return b
            }(a("ismobilejs"));
            var d =
                0,
                e = !1;
            g.isMobile = a;
            g.EventEmitter = c["default"];
            g.pluginTarget = f["default"];
            g.TextureCache = {};
            g.BaseTextureCache = {}
        }, {
            "../const": 44,
            "../settings": 99,
            "./pluginTarget": 121,
            eventemitter3: 3,
            ismobilejs: 4
        }],
        120: [function(a, c, g) {
            g.__esModule = !0;
            g["default"] = function(a) {
                return h["default"].tablet || h["default"].phone ? 4 : a
            };
            var h = (a = a("ismobilejs")) && a.__esModule ? a : {
                "default": a
            }
        }, {
            ismobilejs: 4
        }],
        121: [function(a, c, g) {
            function h(a) {
                a.__plugins = {};
                a.registerPlugin = function(c, f) {
                    a.__plugins[c] = f
                };
                a.prototype.initPlugins =
                    function() {
                        this.plugins = this.plugins || {};
                        for (var c in a.__plugins) this.plugins[c] = new a.__plugins[c](this)
                    };
                a.prototype.destroyPlugins = function() {
                    for (var a in this.plugins) this.plugins[a].destroy(), this.plugins[a] = null;
                    this.plugins = null
                }
            }
            g.__esModule = !0;
            g["default"] = {
                mixin: function(a) {
                    h(a)
                }
            }
        }, {}],
        122: [function(a, c, g) {
            function h(a) {
                if (a && a.__esModule) return a;
                var b = {};
                if (null != a)
                    for (var d in a) Object.prototype.hasOwnProperty.call(a, d) && (b[d] = a[d]);
                b["default"] = a;
                return b
            }

            function n(a) {
                var b = Error().stack;
                "undefined" === typeof b ? console.warn("Deprecation Warning: ", a) : (b = b.split("\n").splice(3).join("\n"), console.groupCollapsed ? (console.groupCollapsed("%cDeprecation Warning: %c%s", "color:#614108;background:#fffbe6", "font-weight:normal;color:#614108;background:#fffbe6", a), console.warn(b), console.groupEnd()) : (console.warn("Deprecation Warning: ", a), console.warn(b)))
            }
            c = a("./core");
            var m = h(c);
            c = a("./mesh");
            var f = h(c);
            c = a("./particles");
            var d = h(c);
            c = a("./extras");
            var e = h(c);
            c = a("./filters");
            c = h(c);
            g = a("./prepare");
            g = h(g);
            a = a("./loaders");
            var b = h(a);
            m.SpriteBatch = function() {
                throw new ReferenceError("SpriteBatch does not exist any more, please use the new ParticleContainer instead.");
            };
            m.AssetLoader = function() {
                throw new ReferenceError("The loader system was overhauled in pixi v3, please see the new PIXI.loaders.Loader class.");
            };
            Object.defineProperties(m, {
                Stage: {
                    enumerable: !0,
                    get: function() {
                        n("You do not need to use a PIXI Stage any more, you can simply render any container.");
                        return m.Container
                    }
                },
                DisplayObjectContainer: {
                    enumerable: !0,
                    get: function() {
                        n("DisplayObjectContainer has been shortened to Container, please use Container from now on.");
                        return m.Container
                    }
                },
                Strip: {
                    enumerable: !0,
                    get: function() {
                        n("The Strip class has been renamed to Mesh and moved to mesh.Mesh, please use mesh.Mesh from now on.");
                        return f.Mesh
                    }
                },
                Rope: {
                    enumerable: !0,
                    get: function() {
                        n("The Rope class has been moved to mesh.Rope, please use mesh.Rope from now on.");
                        return f.Rope
                    }
                },
                ParticleContainer: {
                    enumerable: !0,
                    get: function() {
                        n("The ParticleContainer class has been moved to particles.ParticleContainer, please use particles.ParticleContainer from now on.");
                        return d.ParticleContainer
                    }
                },
                MovieClip: {
                    enumerable: !0,
                    get: function() {
                        n("The MovieClip class has been moved to extras.AnimatedSprite, please use extras.AnimatedSprite.");
                        return e.AnimatedSprite
                    }
                },
                TilingSprite: {
                    enumerable: !0,
                    get: function() {
                        n("The TilingSprite class has been moved to extras.TilingSprite, please use extras.TilingSprite from now on.");
                        return e.TilingSprite
                    }
                },
                BitmapText: {
                    enumerable: !0,
                    get: function() {
                        n("The BitmapText class has been moved to extras.BitmapText, please use extras.BitmapText from now on.");
                        return e.BitmapText
                    }
                },
                blendModes: {
                    enumerable: !0,
                    get: function() {
                        n("The blendModes has been moved to BLEND_MODES, please use BLEND_MODES from now on.");
                        return m.BLEND_MODES
                    }
                },
                scaleModes: {
                    enumerable: !0,
                    get: function() {
                        n("The scaleModes has been moved to SCALE_MODES, please use SCALE_MODES from now on.");
                        return m.SCALE_MODES
                    }
                },
                BaseTextureCache: {
                    enumerable: !0,
                    get: function() {
                        n("The BaseTextureCache class has been moved to utils.BaseTextureCache, please use utils.BaseTextureCache from now on.");
                        return m.utils.BaseTextureCache
                    }
                },
                TextureCache: {
                    enumerable: !0,
                    get: function() {
                        n("The TextureCache class has been moved to utils.TextureCache, please use utils.TextureCache from now on.");
                        return m.utils.TextureCache
                    }
                },
                math: {
                    enumerable: !0,
                    get: function() {
                        n("The math namespace is deprecated, please access members already accessible on PIXI.");
                        return m
                    }
                },
                AbstractFilter: {
                    enumerable: !0,
                    get: function() {
                        n("AstractFilter has been renamed to Filter, please use PIXI.Filter");
                        return m.Filter
                    }
                },
                TransformManual: {
                    enumerable: !0,
                    get: function() {
                        n("TransformManual has been renamed to TransformBase, please update your pixi-spine");
                        return m.TransformBase
                    }
                },
                TARGET_FPMS: {
                    enumerable: !0,
                    get: function() {
                        n("PIXI.TARGET_FPMS has been deprecated, please use PIXI.settings.TARGET_FPMS");
                        return m.settings.TARGET_FPMS
                    },
                    set: function(a) {
                        n("PIXI.TARGET_FPMS has been deprecated, please use PIXI.settings.TARGET_FPMS");
                        m.settings.TARGET_FPMS = a
                    }
                },
                FILTER_RESOLUTION: {
                    enumerable: !0,
                    get: function() {
                        n("PIXI.FILTER_RESOLUTION has been deprecated, please use PIXI.settings.FILTER_RESOLUTION");
                        return m.settings.FILTER_RESOLUTION
                    },
                    set: function(a) {
                        n("PIXI.FILTER_RESOLUTION has been deprecated, please use PIXI.settings.FILTER_RESOLUTION");
                        m.settings.FILTER_RESOLUTION = a
                    }
                },
                RESOLUTION: {
                    enumerable: !0,
                    get: function() {
                        n("PIXI.RESOLUTION has been deprecated, please use PIXI.settings.RESOLUTION");
                        return m.settings.RESOLUTION
                    },
                    set: function(a) {
                        n("PIXI.RESOLUTION has been deprecated, please use PIXI.settings.RESOLUTION");
                        m.settings.RESOLUTION = a
                    }
                },
                MIPMAP_TEXTURES: {
                    enumerable: !0,
                    get: function() {
                        n("PIXI.MIPMAP_TEXTURES has been deprecated, please use PIXI.settings.MIPMAP_TEXTURES");
                        return m.settings.MIPMAP_TEXTURES
                    },
                    set: function(a) {
                        n("PIXI.MIPMAP_TEXTURES has been deprecated, please use PIXI.settings.MIPMAP_TEXTURES");
                        m.settings.MIPMAP_TEXTURES = a
                    }
                },
                SPRITE_BATCH_SIZE: {
                    enumerable: !0,
                    get: function() {
                        n("PIXI.SPRITE_BATCH_SIZE has been deprecated, please use PIXI.settings.SPRITE_BATCH_SIZE");
                        return m.settings.SPRITE_BATCH_SIZE
                    },
                    set: function(a) {
                        n("PIXI.SPRITE_BATCH_SIZE has been deprecated, please use PIXI.settings.SPRITE_BATCH_SIZE");
                        m.settings.SPRITE_BATCH_SIZE = a
                    }
                },
                SPRITE_MAX_TEXTURES: {
                    enumerable: !0,
                    get: function() {
                        n("PIXI.SPRITE_MAX_TEXTURES has been deprecated, please use PIXI.settings.SPRITE_MAX_TEXTURES");
                        return m.settings.SPRITE_MAX_TEXTURES
                    },
                    set: function(a) {
                        n("PIXI.SPRITE_MAX_TEXTURES has been deprecated, please use PIXI.settings.SPRITE_MAX_TEXTURES");
                        m.settings.SPRITE_MAX_TEXTURES = a
                    }
                },
                RETINA_PREFIX: {
                    enumerable: !0,
                    get: function() {
                        n("PIXI.RETINA_PREFIX has been deprecated, please use PIXI.settings.RETINA_PREFIX");
                        return m.settings.RETINA_PREFIX
                    },
                    set: function(a) {
                        n("PIXI.RETINA_PREFIX has been deprecated, please use PIXI.settings.RETINA_PREFIX");
                        m.settings.RETINA_PREFIX = a
                    }
                },
                DEFAULT_RENDER_OPTIONS: {
                    enumerable: !0,
                    get: function() {
                        n("PIXI.DEFAULT_RENDER_OPTIONS has been deprecated, please use PIXI.settings.DEFAULT_RENDER_OPTIONS");
                        return m.settings.RENDER_OPTIONS
                    }
                }
            });
            var p = [{
                parent: "TRANSFORM_MODE",
                target: "TRANSFORM_MODE"
            }, {
                parent: "GC_MODES",
                target: "GC_MODE"
            }, {
                parent: "WRAP_MODES",
                target: "WRAP_MODE"
            }, {
                parent: "SCALE_MODES",
                target: "SCALE_MODE"
            }, {
                parent: "PRECISION",
                target: "PRECISION"
            }];
            a = function(a) {
                var b = p[a];
                Object.defineProperty(m[b.parent], "DEFAULT", {
                    enumerable: !0,
                    get: function() {
                        n("PIXI." + b.parent + ".DEFAULT has been deprecated, please use PIXI.settings." + b.target);
                        return m.settings[b.target]
                    },
                    set: function(a) {
                        n("PIXI." + b.parent +
                            ".DEFAULT has been deprecated, please use PIXI.settings." + b.target);
                        m.settings[b.target] = a
                    }
                })
            };
            for (var u = 0; u < p.length; u++) a(u);
            Object.defineProperties(e, {
                MovieClip: {
                    enumerable: !0,
                    get: function() {
                        n("The MovieClip class has been renamed to AnimatedSprite, please use AnimatedSprite from now on.");
                        return e.AnimatedSprite
                    }
                }
            });
            m.DisplayObject.prototype.generateTexture = function(a, b, d) {
                n("generateTexture has moved to the renderer, please use renderer.generateTexture(displayObject)");
                return a.generateTexture(this,
                    b, d)
            };
            m.Graphics.prototype.generateTexture = function(a, b) {
                n("graphics generate texture has moved to the renderer. Or to render a graphics to a texture using canvas please use generateCanvasTexture");
                return this.generateCanvasTexture(a, b)
            };
            m.RenderTexture.prototype.render = function(a, b, d, e) {
                this.legacyRenderer.render(a, this, d, b, !e);
                n("RenderTexture.render is now deprecated, please use renderer.render(displayObject, renderTexture)")
            };
            m.RenderTexture.prototype.getImage = function(a) {
                n("RenderTexture.getImage is now deprecated, please use renderer.extract.image(target)");
                return this.legacyRenderer.extract.image(a)
            };
            m.RenderTexture.prototype.getBase64 = function(a) {
                n("RenderTexture.getBase64 is now deprecated, please use renderer.extract.base64(target)");
                return this.legacyRenderer.extract.base64(a)
            };
            m.RenderTexture.prototype.getCanvas = function(a) {
                n("RenderTexture.getCanvas is now deprecated, please use renderer.extract.canvas(target)");
                return this.legacyRenderer.extract.canvas(a)
            };
            m.RenderTexture.prototype.getPixels = function(a) {
                n("RenderTexture.getPixels is now deprecated, please use renderer.extract.pixels(target)");
                return this.legacyRenderer.pixels(a)
            };
            m.Sprite.prototype.setTexture = function(a) {
                this.texture = a;
                n("setTexture is now deprecated, please use the texture property, e.g : sprite.texture = texture;")
            };
            e.BitmapText.prototype.setText = function(a) {
                this.text = a;
                n("setText is now deprecated, please use the text property, e.g : myBitmapText.text = 'my text';")
            };
            m.Text.prototype.setText = function(a) {
                this.text = a;
                n("setText is now deprecated, please use the text property, e.g : myText.text = 'my text';")
            };
            m.Text.prototype.setStyle =
                function(a) {
                    this.style = a;
                    n("setStyle is now deprecated, please use the style property, e.g : myText.style = style;")
                };
            m.Text.prototype.determineFontProperties = function(a) {
                n("determineFontProperties is now deprecated, please use the static calculateFontProperties method, e.g : Text.calculateFontProperties(fontStyle);");
                return Text.calculateFontProperties(a)
            };
            Object.defineProperties(m.TextStyle.prototype, {
                font: {
                    get: function() {
                        n("text style property 'font' is now deprecated, please use the 'fontFamily', 'fontSize', 'fontStyle', 'fontVariant' and 'fontWeight' properties from now on");
                        return this._fontStyle + " " + this._fontVariant + " " + this._fontWeight + " " + ("number" === typeof this._fontSize ? this._fontSize + "px" : this._fontSize) + " " + this._fontFamily
                    },
                    set: function(a) {
                        n("text style property 'font' is now deprecated, please use the 'fontFamily','fontSize',fontStyle','fontVariant' and 'fontWeight' properties from now on");
                        1 < a.indexOf("italic") ? this._fontStyle = "italic" : -1 < a.indexOf("oblique") ? this._fontStyle = "oblique" : this._fontStyle = "normal"; - 1 < a.indexOf("small-caps") ? this._fontVariant = "small-caps" :
                            this._fontVariant = "normal";
                        a = a.split(" ");
                        var b = -1;
                        this._fontSize = 26;
                        for (var d = 0; d < a.length; ++d)
                            if (a[d].match(/(px|pt|em|%)/)) {
                                b = d;
                                this._fontSize = a[d];
                                break
                            } this._fontWeight = "normal";
                        for (d = 0; d < b; ++d)
                            if (a[d].match(/(bold|bolder|lighter|100|200|300|400|500|600|700|800|900)/)) {
                                this._fontWeight = a[d];
                                break
                            } if (-1 < b && b < a.length - 1) {
                            this._fontFamily = "";
                            for (b += 1; b < a.length; ++b) this._fontFamily += a[b] + " ";
                            this._fontFamily = this._fontFamily.slice(0, -1)
                        } else this._fontFamily = "Arial";
                        this.styleID++
                    }
                }
            });
            m.Texture.prototype.setFrame =
                function(a) {
                    this.frame = a;
                    n("setFrame is now deprecated, please use the frame property, e.g: myTexture.frame = frame;")
                };
            Object.defineProperties(c, {
                AbstractFilter: {
                    get: function() {
                        n("AstractFilter has been renamed to Filter, please use PIXI.Filter");
                        return m.AbstractFilter
                    }
                },
                SpriteMaskFilter: {
                    get: function() {
                        n("filters.SpriteMaskFilter is an undocumented alias, please use SpriteMaskFilter from now on.");
                        return m.SpriteMaskFilter
                    }
                }
            });
            m.utils.uuid = function() {
                n("utils.uuid() is deprecated, please use utils.uid() from now on.");
                return m.utils.uid()
            };
            m.utils.canUseNewCanvasBlendModes = function() {
                n("utils.canUseNewCanvasBlendModes() is deprecated, please use CanvasTinter.canUseMultiply from now on");
                return m.CanvasTinter.canUseMultiply
            };
            var q = !0;
            Object.defineProperty(m.utils, "_saidHello", {
                set: function(a) {
                    a && (n("PIXI.utils._saidHello is deprecated, please use PIXI.utils.skipHello()"), this.skipHello());
                    q = a
                },
                get: function() {
                    return q
                }
            });
            Object.defineProperty(g.canvas, "UPLOADS_PER_FRAME", {
                set: function() {
                    n("PIXI.CanvasPrepare.UPLOADS_PER_FRAME has been removed. Please set renderer.plugins.prepare.limiter.maxItemsPerFrame on your renderer")
                },
                get: function() {
                    n("PIXI.CanvasPrepare.UPLOADS_PER_FRAME has been removed. Please use renderer.plugins.prepare.limiter");
                    return NaN
                }
            });
            Object.defineProperty(g.webgl, "UPLOADS_PER_FRAME", {
                set: function() {
                    n("PIXI.WebGLPrepare.UPLOADS_PER_FRAME has been removed. Please set renderer.plugins.prepare.limiter.maxItemsPerFrame on your renderer")
                },
                get: function() {
                    n("PIXI.WebGLPrepare.UPLOADS_PER_FRAME has been removed. Please use renderer.plugins.prepare.limiter");
                    return NaN
                }
            });
            Object.defineProperties(b.Resource.prototype, {
                isJson: {
                    get: function() {
                        n("The isJson property is deprecated, please use `resource.type === Resource.TYPE.JSON`.");
                        return this.type === b.Loader.Resource.TYPE.JSON
                    }
                },
                isXml: {
                    get: function() {
                        n("The isXml property is deprecated, please use `resource.type === Resource.TYPE.XML`.");
                        return this.type === b.Loader.Resource.TYPE.XML
                    }
                },
                isImage: {
                    get: function() {
                        n("The isImage property is deprecated, please use `resource.type === Resource.TYPE.IMAGE`.");
                        return this.type === b.Loader.Resource.TYPE.IMAGE
                    }
                },
                isAudio: {
                    get: function() {
                        n("The isAudio property is deprecated, please use `resource.type === Resource.TYPE.AUDIO`.");
                        return this.type === b.Loader.Resource.TYPE.AUDIO
                    }
                },
                isVideo: {
                    get: function() {
                        n("The isVideo property is deprecated, please use `resource.type === Resource.TYPE.VIDEO`.");
                        return this.type === b.Loader.Resource.TYPE.VIDEO
                    }
                }
            });
            Object.defineProperties(b.Loader.prototype, {
                before: {
                    get: function() {
                        n("The before() method is deprecated, please use pre().");
                        return this.pre
                    }
                },
                after: {
                    get: function() {
                        n("The after() method is deprecated, please use use().");
                        return this.use
                    }
                }
            })
        }, {
            "./core": 63,
            "./extras": 133,
            "./filters": 144,
            "./loaders": 153,
            "./mesh": 162,
            "./particles": 165,
            "./prepare": 175
        }],
        123: [function(a, c, g) {
            g.__esModule = !0;
            var h = function(a) {
                    if (a && a.__esModule) return a;
                    var c = {};
                    if (null != a)
                        for (var d in a) Object.prototype.hasOwnProperty.call(a, d) && (c[d] = a[d]);
                    c["default"] = a;
                    return c
                }(a("../../core")),
                n = new h.Rectangle;
            a = function() {
                function a(c) {
                    if (!(this instanceof a)) throw new TypeError("Cannot call a class as a function");
                    this.renderer = c;
                    c.extract = this
                }
                a.prototype.image = function(a) {
                    var d = new Image;
                    d.src = this.base64(a);
                    return d
                };
                a.prototype.base64 = function(a) {
                    return this.canvas(a).toDataURL()
                };
                a.prototype.canvas = function(a) {
                    var d = this.renderer,
                        e = void 0,
                        b = void 0;
                    a && (b = a instanceof h.RenderTexture ? a : d.generateTexture(a));
                    b ? (a = b.baseTexture._canvasRenderTarget.context, e = b.baseTexture._canvasRenderTarget.resolution, d = b.frame) : (a = d.rootContext, d = n, d.width = this.renderer.width, d.height = this.renderer.height);
                    var c = d.width * e,
                        f = d.height * e,
                        b = new h.CanvasRenderTarget(c, f),
                        e = a.getImageData(d.x * e, d.y * e, c, f);
                    b.context.putImageData(e,
                        0, 0);
                    return b.canvas
                };
                a.prototype.pixels = function(a) {
                    var d = this.renderer,
                        e = void 0,
                        b;
                    b = void 0;
                    a && (b = a instanceof h.RenderTexture ? a : d.generateTexture(a));
                    b ? (a = b.baseTexture._canvasRenderTarget.context, e = b.baseTexture._canvasRenderTarget.resolution, b = b.frame) : (a = d.rootContext, b = n, b.width = d.width, b.height = d.height);
                    return a.getImageData(0, 0, b.width * e, b.height * e).data
                };
                a.prototype.destroy = function() {
                    this.renderer = this.renderer.extract = null
                };
                return a
            }();
            g["default"] = a;
            h.CanvasRenderer.registerPlugin("extract",
                a)
        }, {
            "../../core": 63
        }],
        124: [function(a, c, g) {
            g.__esModule = !0;
            var h = a("./webgl/WebGLExtract");
            Object.defineProperty(g, "webgl", {
                enumerable: !0,
                get: function() {
                    return (h && h.__esModule ? h : {
                        "default": h
                    })["default"]
                }
            });
            var n = a("./canvas/CanvasExtract");
            Object.defineProperty(g, "canvas", {
                enumerable: !0,
                get: function() {
                    return (n && n.__esModule ? n : {
                        "default": n
                    })["default"]
                }
            })
        }, {
            "./canvas/CanvasExtract": 123,
            "./webgl/WebGLExtract": 125
        }],
        125: [function(a, c, g) {
            g.__esModule = !0;
            var h = function(a) {
                    if (a && a.__esModule) return a;
                    var c = {};
                    if (null != a)
                        for (var d in a) Object.prototype.hasOwnProperty.call(a, d) && (c[d] = a[d]);
                    c["default"] = a;
                    return c
                }(a("../../core")),
                n = new h.Rectangle;
            a = function() {
                function a(c) {
                    if (!(this instanceof a)) throw new TypeError("Cannot call a class as a function");
                    this.renderer = c;
                    c.extract = this
                }
                a.prototype.image = function(a) {
                    var d = new Image;
                    d.src = this.base64(a);
                    return d
                };
                a.prototype.base64 = function(a) {
                    return this.canvas(a).toDataURL()
                };
                a.prototype.canvas = function(a) {
                    var d = this.renderer,
                        e, b, c;
                    c = void 0;
                    a &&
                        (c = a instanceof h.RenderTexture ? a : this.renderer.generateTexture(a));
                    c ? (e = c.baseTexture._glRenderTargets[this.renderer.CONTEXT_UID], a = e.resolution, b = c.frame, c = !1) : (e = this.renderer.rootRenderTarget, a = e.resolution, c = !0, b = n, b.width = e.size.width, b.height = e.size.height);
                    var f = b.width * a,
                        g = b.height * a,
                        m = new h.CanvasRenderTarget(f, g);
                    e && (d.bindRenderTarget(e), e = new Uint8Array(4 * f * g), d = d.gl, d.readPixels(b.x * a, b.y * a, f, g, d.RGBA, d.UNSIGNED_BYTE, e), d = m.context.getImageData(0, 0, f, g), d.data.set(e), m.context.putImageData(d,
                        0, 0), c && (m.context.scale(1, -1), m.context.drawImage(m.canvas, 0, -g)));
                    return m.canvas
                };
                a.prototype.pixels = function(a) {
                    var d = this.renderer,
                        e, b;
                    b = void 0;
                    a && (b = a instanceof h.RenderTexture ? a : this.renderer.generateTexture(a));
                    b ? (e = b.baseTexture._glRenderTargets[this.renderer.CONTEXT_UID], a = e.resolution, b = b.frame) : (e = this.renderer.rootRenderTarget, a = e.resolution, b = n, b.width = e.size.width, b.height = e.size.height);
                    var c = b.width * a,
                        f = b.height * a,
                        g = new Uint8Array(4 * c * f);
                    e && (d.bindRenderTarget(e), d = d.gl, d.readPixels(b.x *
                        a, b.y * a, c, f, d.RGBA, d.UNSIGNED_BYTE, g));
                    return g
                };
                a.prototype.destroy = function() {
                    this.renderer = this.renderer.extract = null
                };
                return a
            }();
            g["default"] = a;
            h.WebGLRenderer.registerPlugin("extract", a)
        }, {
            "../../core": 63
        }],
        126: [function(a, c, g) {
            function h(a, d) {
                if ("function" !== typeof d && null !== d) throw new TypeError("Super expression must either be null or a function, not " + typeof d);
                a.prototype = Object.create(d && d.prototype, {
                    constructor: {
                        value: a,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                });
                d && (Object.setPrototypeOf ?
                    Object.setPrototypeOf(a, d) : a.__proto__ = d)
            }
            g.__esModule = !0;
            var n = function() {
                    function a(a, e) {
                        for (var b = 0; b < e.length; b++) {
                            var d = e[b];
                            d.enumerable = d.enumerable || !1;
                            d.configurable = !0;
                            "value" in d && (d.writable = !0);
                            Object.defineProperty(a, d.key, d)
                        }
                    }
                    return function(d, e, b) {
                        e && a(d.prototype, e);
                        b && a(d, b);
                        return d
                    }
                }(),
                m = function(a) {
                    if (a && a.__esModule) return a;
                    var d = {};
                    if (null != a)
                        for (var e in a) Object.prototype.hasOwnProperty.call(a, e) && (d[e] = a[e]);
                    d["default"] = a;
                    return d
                }(a("../core"));
            a = function(a) {
                function d(e,
                    b) {
                    if (!(this instanceof d)) throw new TypeError("Cannot call a class as a function");
                    var c;
                    c = a.call(this, e[0] instanceof m.Texture ? e[0] : e[0].texture);
                    if (!this) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                    c = !c || "object" !== typeof c && "function" !== typeof c ? this : c;
                    c._textures = null;
                    c._durations = null;
                    c.textures = e;
                    c._autoUpdate = !1 !== b;
                    c.animationSpeed = 1;
                    c.loop = !0;
                    c.onComplete = null;
                    c.onFrameChange = null;
                    c._currentTime = 0;
                    c.playing = !1;
                    return c
                }
                h(d, a);
                d.prototype.stop = function() {
                    this.playing &&
                        (this.playing = !1, this._autoUpdate && m.ticker.shared.remove(this.update, this))
                };
                d.prototype.play = function() {
                    this.playing || (this.playing = !0, this._autoUpdate && m.ticker.shared.add(this.update, this))
                };
                d.prototype.gotoAndStop = function(a) {
                    this.stop();
                    var b = this.currentFrame;
                    this._currentTime = a;
                    b !== this.currentFrame && this.updateTexture()
                };
                d.prototype.gotoAndPlay = function(a) {
                    var b = this.currentFrame;
                    this._currentTime = a;
                    b !== this.currentFrame && this.updateTexture();
                    this.play()
                };
                d.prototype.update = function(a) {
                    var b =
                        this.animationSpeed * a,
                        d = this.currentFrame;
                    if (null !== this._durations) {
                        for (var e = this._currentTime % 1 * this._durations[this.currentFrame], e = e + b / 60 * 1E3; 0 > e;) this._currentTime--, e += this._durations[this.currentFrame];
                        a = Math.sign(this.animationSpeed * a);
                        for (this._currentTime = Math.floor(this._currentTime); e >= this._durations[this.currentFrame];) e -= this._durations[this.currentFrame] * a, this._currentTime += a;
                        this._currentTime += e / this._durations[this.currentFrame]
                    } else this._currentTime += b;
                    if (0 > this._currentTime &&
                        !this.loop) {
                        if (this.gotoAndStop(0), this.onComplete) this.onComplete()
                    } else if (this._currentTime >= this._textures.length && !this.loop) {
                        if (this.gotoAndStop(this._textures.length - 1), this.onComplete) this.onComplete()
                    } else d !== this.currentFrame && this.updateTexture()
                };
                d.prototype.updateTexture = function() {
                    this._texture = this._textures[this.currentFrame];
                    this._textureID = -1;
                    if (this.onFrameChange) this.onFrameChange(this.currentFrame)
                };
                d.prototype.destroy = function() {
                    this.stop();
                    a.prototype.destroy.call(this)
                };
                d.fromFrames =
                    function(a) {
                        for (var b = [], e = 0; e < a.length; ++e) b.push(m.Texture.fromFrame(a[e]));
                        return new d(b)
                    };
                d.fromImages = function(a) {
                    for (var b = [], e = 0; e < a.length; ++e) b.push(m.Texture.fromImage(a[e]));
                    return new d(b)
                };
                n(d, [{
                    key: "totalFrames",
                    get: function() {
                        return this._textures.length
                    }
                }, {
                    key: "textures",
                    get: function() {
                        return this._textures
                    },
                    set: function(a) {
                        if (a[0] instanceof m.Texture) this._textures = a, this._durations = null;
                        else {
                            this._textures = [];
                            this._durations = [];
                            for (var b = 0; b < a.length; b++) this._textures.push(a[b].texture),
                                this._durations.push(a[b].time)
                        }
                    }
                }, {
                    key: "currentFrame",
                    get: function() {
                        var a = Math.floor(this._currentTime) % this._textures.length;
                        0 > a && (a += this._textures.length);
                        return a
                    }
                }]);
                return d
            }(m.Sprite);
            g["default"] = a
        }, {
            "../core": 63
        }],
        127: [function(a, c, g) {
            function h(a, b) {
                if (!a) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return !b || "object" !== typeof b && "function" !== typeof b ? a : b
            }

            function n(a, b) {
                if ("function" !== typeof b && null !== b) throw new TypeError("Super expression must either be null or a function, not " +
                    typeof b);
                a.prototype = Object.create(b && b.prototype, {
                    constructor: {
                        value: a,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                });
                b && (Object.setPrototypeOf ? Object.setPrototypeOf(a, b) : a.__proto__ = b)
            }
            g.__esModule = !0;
            var m = function() {
                    function a(a, d) {
                        for (var b = 0; b < d.length; b++) {
                            var e = d[b];
                            e.enumerable = e.enumerable || !1;
                            e.configurable = !0;
                            "value" in e && (e.writable = !0);
                            Object.defineProperty(a, e.key, e)
                        }
                    }
                    return function(b, d, e) {
                        d && a(b.prototype, d);
                        e && a(b, e);
                        return b
                    }
                }(),
                f = function(a) {
                    if (a && a.__esModule) return a;
                    var b = {};
                    if (null != a)
                        for (var d in a) Object.prototype.hasOwnProperty.call(a, d) && (b[d] = a[d]);
                    b["default"] = a;
                    return b
                }(a("../core")),
                d = (a = a("../core/math/ObservablePoint")) && a.__esModule ? a : {
                    "default": a
                };
            a = function(a) {
                function b(e) {
                    var c = 1 < arguments.length && void 0 !== arguments[1] ? arguments[1] : {};
                    if (!(this instanceof b)) throw new TypeError("Cannot call a class as a function");
                    var f = h(this, a.call(this));
                    f._textWidth = 0;
                    f._textHeight = 0;
                    f._glyphs = [];
                    f._font = {
                        tint: void 0 !== c.tint ? c.tint : 16777215,
                        align: c.align || "left",
                        name: null,
                        size: 0
                    };
                    f.font = c.font;
                    f._text = e;
                    f.maxWidth = 0;
                    f.maxLineHeight = 0;
                    f._anchor = new d["default"](function() {
                        f.dirty = !0
                    }, f, 0, 0);
                    f.dirty = !1;
                    f.updateText();
                    return f
                }
                n(b, a);
                b.prototype.updateText = function() {
                    for (var a = b.fonts[this._font.name], d = this._font.size / a.size, e = new f.Point, c = [], g = [], m = null, h = 0, n = 0, z = 0, r = -1, A = 0, B = 0, D = 0; D < this.text.length; D++) {
                        var C = this.text.charCodeAt(D);
                        /(\s)/.test(this.text.charAt(D)) && (r = D, A = h);
                        if (/(?:\r\n|\r|\n)/.test(this.text.charAt(D))) g.push(h), n = Math.max(n, h), z++, e.x =
                            0, e.y += a.lineHeight, m = null;
                        else if (-1 !== r && 0 < this.maxWidth && e.x * d > this.maxWidth) f.utils.removeItems(c, r, D - r), D = r, r = -1, g.push(A), n = Math.max(n, A), z++, e.x = 0, e.y += a.lineHeight, m = null;
                        else {
                            var F = a.chars[C];
                            F && (m && F.kerning[m] && (e.x += F.kerning[m]), c.push({
                                texture: F.texture,
                                line: z,
                                charCode: C,
                                position: new f.Point(e.x + F.xOffset, e.y + F.yOffset)
                            }), h = e.x + (F.texture.width + F.xOffset), e.x += F.xAdvance, B = Math.max(B, F.yOffset + F.texture.height), m = C)
                        }
                    }
                    g.push(h);
                    n = Math.max(n, h);
                    m = [];
                    for (h = 0; h <= z; h++) r = 0, "right" === this._font.align ?
                        r = n - g[h] : "center" === this._font.align && (r = (n - g[h]) / 2), m.push(r);
                    g = c.length;
                    z = this.tint;
                    for (h = 0; h < g; h++)(r = this._glyphs[h]) ? r.texture = c[h].texture : (r = new f.Sprite(c[h].texture), this._glyphs.push(r)), r.position.x = (c[h].position.x + m[c[h].line]) * d, r.position.y = c[h].position.y * d, r.scale.x = r.scale.y = d, r.tint = z, r.parent || this.addChild(r);
                    for (c = g; c < this._glyphs.length; ++c) this.removeChild(this._glyphs[c]);
                    this._textWidth = n * d;
                    this._textHeight = (e.y + a.lineHeight) * d;
                    if (0 !== this.anchor.x || 0 !== this.anchor.y)
                        for (a =
                            0; a < g; a++) this._glyphs[a].x -= this._textWidth * this.anchor.x, this._glyphs[a].y -= this._textHeight * this.anchor.y;
                    this.maxLineHeight = B * d
                };
                b.prototype.updateTransform = function() {
                    this.validate();
                    this.containerUpdateTransform()
                };
                b.prototype.getLocalBounds = function() {
                    this.validate();
                    return a.prototype.getLocalBounds.call(this)
                };
                b.prototype.validate = function() {
                    this.dirty && (this.updateText(), this.dirty = !1)
                };
                m(b, [{
                    key: "tint",
                    get: function() {
                        return this._font.tint
                    },
                    set: function(a) {
                        this._font.tint = "number" === typeof a &&
                            0 <= a ? a : 16777215;
                        this.dirty = !0
                    }
                }, {
                    key: "align",
                    get: function() {
                        return this._font.align
                    },
                    set: function(a) {
                        this._font.align = a || "left";
                        this.dirty = !0
                    }
                }, {
                    key: "anchor",
                    get: function() {
                        return this._anchor
                    },
                    set: function(a) {
                        "number" === typeof a ? this._anchor.set(a) : this._anchor.copy(a)
                    }
                }, {
                    key: "font",
                    get: function() {
                        return this._font
                    },
                    set: function(a) {
                        a && ("string" === typeof a ? (a = a.split(" "), this._font.name = 1 === a.length ? a[0] : a.slice(1).join(" "), this._font.size = 2 <= a.length ? parseInt(a[0], 10) : b.fonts[this._font.name].size) :
                            (this._font.name = a.name, this._font.size = "number" === typeof a.size ? a.size : parseInt(a.size, 10)), this.dirty = !0)
                    }
                }, {
                    key: "text",
                    get: function() {
                        return this._text
                    },
                    set: function(a) {
                        a = a.toString() || " ";
                        this._text !== a && (this._text = a, this.dirty = !0)
                    }
                }, {
                    key: "textWidth",
                    get: function() {
                        this.validate();
                        return this._textWidth
                    }
                }, {
                    key: "textHeight",
                    get: function() {
                        this.validate();
                        return this._textHeight
                    }
                }]);
                return b
            }(f.Container);
            g["default"] = a;
            a.fonts = {}
        }, {
            "../core": 63,
            "../core/math/ObservablePoint": 66
        }],
        128: [function(a,
            c, g) {
            g.__esModule = !0;
            var h = function() {
                    function a(a, e) {
                        for (var b = 0; b < e.length; b++) {
                            var d = e[b];
                            d.enumerable = d.enumerable || !1;
                            d.configurable = !0;
                            "value" in d && (d.writable = !0);
                            Object.defineProperty(a, d.key, d)
                        }
                    }
                    return function(d, e, b) {
                        e && a(d.prototype, e);
                        b && a(d, b);
                        return d
                    }
                }(),
                n = (a = a("../core/math/Matrix")) && a.__esModule ? a : {
                    "default": a
                },
                m = new n["default"];
            a = function() {
                function a(d, e) {
                    if (!(this instanceof a)) throw new TypeError("Cannot call a class as a function");
                    this._texture = d;
                    this.mapCoord = new n["default"];
                    this.uClampFrame = new Float32Array(4);
                    this.uClampOffset = new Float32Array(2);
                    this._lastTextureID = -1;
                    this.clampOffset = 0;
                    this.clampMargin = "undefined" === typeof e ? .5 : e
                }
                a.prototype.update = function(a) {
                    var d = this._texture;
                    if (d && d.valid && (a || this._lastTextureID !== d._updateID)) {
                        this._lastTextureID = d._updateID;
                        a = d._uvs;
                        this.mapCoord.set(a.x1 - a.x0, a.y1 - a.y0, a.x3 - a.x0, a.y3 - a.y0, a.x0, a.y0);
                        a = d.orig;
                        var b = d.trim;
                        b && (m.set(a.width / b.width, 0, 0, a.height / b.height, -b.x / b.width, -b.y / b.height), this.mapCoord.append(m));
                        a = d.baseTexture;
                        var b = this.uClampFrame,
                            c = this.clampMargin / a.resolution,
                            f = this.clampOffset;
                        b[0] = (d._frame.x + c + f) / a.width;
                        b[1] = (d._frame.y + c + f) / a.height;
                        b[2] = (d._frame.x + d._frame.width - c + f) / a.width;
                        b[3] = (d._frame.y + d._frame.height - c + f) / a.height;
                        this.uClampOffset[0] = f / a.realWidth;
                        this.uClampOffset[1] = f / a.realHeight
                    }
                };
                h(a, [{
                    key: "texture",
                    get: function() {
                        return this._texture
                    },
                    set: function(a) {
                        this._texture = a;
                        this._lastTextureID = -1
                    }
                }]);
                return a
            }();
            g["default"] = a
        }, {
            "../core/math/Matrix": 65
        }],
        129: [function(a,
            c, g) {
            function h(a, d) {
                if ("function" !== typeof d && null !== d) throw new TypeError("Super expression must either be null or a function, not " + typeof d);
                a.prototype = Object.create(d && d.prototype, {
                    constructor: {
                        value: a,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                });
                d && (Object.setPrototypeOf ? Object.setPrototypeOf(a, d) : a.__proto__ = d)
            }
            g.__esModule = !0;
            var n = function() {
                    function a(a, b) {
                        for (var d = 0; d < b.length; d++) {
                            var e = b[d];
                            e.enumerable = e.enumerable || !1;
                            e.configurable = !0;
                            "value" in e && (e.writable = !0);
                            Object.defineProperty(a,
                                e.key, e)
                        }
                    }
                    return function(b, d, e) {
                        d && a(b.prototype, d);
                        e && a(b, e);
                        return b
                    }
                }(),
                m = function(a) {
                    if (a && a.__esModule) return a;
                    var b = {};
                    if (null != a)
                        for (var d in a) Object.prototype.hasOwnProperty.call(a, d) && (b[d] = a[d]);
                    b["default"] = a;
                    return b
                }(a("../core")),
                f = (c = a("../core/sprites/canvas/CanvasTinter")) && c.__esModule ? c : {
                    "default": c
                },
                d = (a = a("./TextureTransform")) && a.__esModule ? a : {
                    "default": a
                },
                e = new m.Point;
            a = function(a) {
                function b(e) {
                    var c = 1 < arguments.length && void 0 !== arguments[1] ? arguments[1] : 100,
                        f = 2 < arguments.length &&
                        void 0 !== arguments[2] ? arguments[2] : 100;
                    if (!(this instanceof b)) throw new TypeError("Cannot call a class as a function");
                    var g;
                    g = a.call(this, e);
                    if (!this) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                    g = !g || "object" !== typeof g && "function" !== typeof g ? this : g;
                    g.tileTransform = new m.TransformStatic;
                    g._width = c;
                    g._height = f;
                    g._canvasPattern = null;
                    g.uvTransform = e.transform || new d["default"](e);
                    g.pluginName = "tilingSprite";
                    g.uvRespectAnchor = !1;
                    return g
                }
                h(b, a);
                b.prototype._onTextureUpdate =
                    function() {
                        this.uvTransform && (this.uvTransform.texture = this._texture)
                    };
                b.prototype._renderWebGL = function(a) {
                    var b = this._texture;
                    b && b.valid && (this.tileTransform.updateLocalTransform(), this.uvTransform.update(), a.setObjectRenderer(a.plugins[this.pluginName]), a.plugins[this.pluginName].render(this))
                };
                b.prototype._renderCanvas = function(a) {
                    var b = this._texture;
                    if (b.baseTexture.hasLoaded) {
                        var d = a.context,
                            e = this.worldTransform,
                            c = a.resolution,
                            g = b.baseTexture,
                            h = b.baseTexture.resolution,
                            n = this.tilePosition.x /
                            this.tileScale.x % b._frame.width,
                            p = this.tilePosition.y / this.tileScale.y % b._frame.height;
                        if (!this._canvasPattern) {
                            var u = new m.CanvasRenderTarget(b._frame.width, b._frame.height, h);
                            16777215 !== this.tint ? (this.cachedTint !== this.tint && (this.cachedTint = this.tint, this.tintedTexture = f["default"].getTintedTexture(this, this.tint)), u.context.drawImage(this.tintedTexture, 0, 0)) : u.context.drawImage(g.source, -b._frame.x, -b._frame.y);
                            this._canvasPattern = u.context.createPattern(u.canvas, "repeat")
                        }
                        d.globalAlpha = this.worldAlpha;
                        d.setTransform(e.a * c, e.b * c, e.c * c, e.d * c, e.tx * c, e.ty * c);
                        d.scale(this.tileScale.x / h, this.tileScale.y / h);
                        d.translate(n + this.anchor.x * -this._width, p + this.anchor.y * -this._height);
                        a.setBlendMode(this.blendMode);
                        d.fillStyle = this._canvasPattern;
                        d.fillRect(-n, -p, this._width / this.tileScale.x * h, this._height / this.tileScale.y * h)
                    }
                };
                b.prototype._calculateBounds = function() {
                    this._bounds.addFrame(this.transform, this._width * -this._anchor._x, this._height * -this._anchor._y, this._width * (1 - this._anchor._x), this._height * (1 -
                        this._anchor._y))
                };
                b.prototype.getLocalBounds = function(b) {
                    return 0 === this.children.length ? (this._bounds.minX = this._width * -this._anchor._x, this._bounds.minY = this._height * -this._anchor._y, this._bounds.maxX = this._width * (1 - this._anchor._x), this._bounds.maxY = this._height * (1 - this._anchor._x), b || (this._localBoundsRect || (this._localBoundsRect = new m.Rectangle), b = this._localBoundsRect), this._bounds.getRectangle(b)) : a.prototype.getLocalBounds.call(this, b)
                };
                b.prototype.containsPoint = function(a) {
                    this.worldTransform.applyInverse(a,
                        e);
                    var b = this._width;
                    a = this._height;
                    var d = -b * this.anchor._x;
                    return e.x > d && e.x < d + b && (b = -a * this.anchor._y, e.y > b && e.y < b + a) ? !0 : !1
                };
                b.prototype.destroy = function() {
                    a.prototype.destroy.call(this);
                    this.uvTransform = this.tileTransform = null
                };
                b.from = function(a, d, e) {
                    return new b(m.Texture.from(a), d, e)
                };
                b.fromFrame = function(a, d, e) {
                    var c = m.utils.TextureCache[a];
                    if (!c) throw Error('The frameId "' + a + '" does not exist in the texture cache ' + this);
                    return new b(c, d, e)
                };
                b.fromImage = function(a, d, e, c, f) {
                    return new b(m.Texture.fromImage(a,
                        c, f), d, e)
                };
                n(b, [{
                    key: "clampMargin",
                    get: function() {
                        return this.uvTransform.clampMargin
                    },
                    set: function(a) {
                        this.uvTransform.clampMargin = a;
                        this.uvTransform.update(!0)
                    }
                }, {
                    key: "tileScale",
                    get: function() {
                        return this.tileTransform.scale
                    },
                    set: function(a) {
                        this.tileTransform.scale.copy(a)
                    }
                }, {
                    key: "tilePosition",
                    get: function() {
                        return this.tileTransform.position
                    },
                    set: function(a) {
                        this.tileTransform.position.copy(a)
                    }
                }, {
                    key: "width",
                    get: function() {
                        return this._width
                    },
                    set: function(a) {
                        this._width = a
                    }
                }, {
                    key: "height",
                    get: function() {
                        return this._height
                    },
                    set: function(a) {
                        this._height = a
                    }
                }]);
                return b
            }(m.Sprite);
            g["default"] = a
        }, {
            "../core": 63,
            "../core/sprites/canvas/CanvasTinter": 102,
            "./TextureTransform": 128
        }],
        130: [function(a, c, g) {
            var h = function(a) {
                if (a && a.__esModule) return a;
                var d = {};
                if (null != a)
                    for (var e in a) Object.prototype.hasOwnProperty.call(a, e) && (d[e] = a[e]);
                d["default"] = a;
                return d
            }(a("../core"));
            a = h.DisplayObject;
            var n = new h.Matrix;
            a.prototype._cacheAsBitmap = !1;
            a.prototype._cacheData = !1;
            var m = function d() {
                if (!(this instanceof d)) throw new TypeError("Cannot call a class as a function");
                this.sprite = this.originalFilterArea = this.originalMask = this.originalDestroy = this.originalHitTest = this.originalUpdateTransform = this.originalGetLocalBounds = this.originalCalculateBounds = this.originalRenderCanvas = this.originalRenderWebGL = null
            };
            Object.defineProperties(a.prototype, {
                cacheAsBitmap: {
                    get: function() {
                        return this._cacheAsBitmap
                    },
                    set: function(a) {
                        this._cacheAsBitmap !== a && ((this._cacheAsBitmap = a) ? (this._cacheData || (this._cacheData = new m), a = this._cacheData, a.originalRenderWebGL = this.renderWebGL, a.originalRenderCanvas =
                            this.renderCanvas, a.originalUpdateTransform = this.updateTransform, a.originalCalculateBounds = this._calculateBounds, a.originalGetLocalBounds = this.getLocalBounds, a.originalDestroy = this.destroy, a.originalContainsPoint = this.containsPoint, a.originalMask = this._mask, a.originalFilterArea = this.filterArea, this.renderWebGL = this._renderCachedWebGL, this.renderCanvas = this._renderCachedCanvas, this.destroy = this._cacheAsBitmapDestroy) : (a = this._cacheData, a.sprite && this._destroyCachedDisplayObject(), this.renderWebGL =
                            a.originalRenderWebGL, this.renderCanvas = a.originalRenderCanvas, this._calculateBounds = a.originalCalculateBounds, this.getLocalBounds = a.originalGetLocalBounds, this.destroy = a.originalDestroy, this.updateTransform = a.originalUpdateTransform, this.containsPoint = a.originalContainsPoint, this._mask = a.originalMask, this.filterArea = a.originalFilterArea))
                    }
                }
            });
            a.prototype._renderCachedWebGL = function(a) {
                !this.visible || 0 >= this.worldAlpha || !this.renderable || (this._initCachedDisplayObject(a), this._cacheData.sprite._transformID = -1, this._cacheData.sprite.worldAlpha = this.worldAlpha, this._cacheData.sprite._renderWebGL(a))
            };
            a.prototype._initCachedDisplayObject = function(a) {
                if (!this._cacheData || !this._cacheData.sprite) {
                    var d = this.alpha;
                    this.alpha = 1;
                    a.currentRenderer.flush();
                    var b = this.getLocalBounds().clone();
                    this._filters && b.pad(this._filters[0].padding);
                    var c = a._activeRenderTarget,
                        g = a.filterManager.filterStack,
                        m = h.RenderTexture.create(b.width | 0, b.height | 0);
                    n.tx = -b.x;
                    n.ty = -b.y;
                    this.transform.worldTransform.identity();
                    this.renderWebGL =
                        this._cacheData.originalRenderWebGL;
                    a.render(this, m, !0, n, !0);
                    a.bindRenderTarget(c);
                    a.filterManager.filterStack = g;
                    this.renderWebGL = this._renderCachedWebGL;
                    this.updateTransform = this.displayObjectUpdateTransform;
                    this.filterArea = this._mask = null;
                    a = new h.Sprite(m);
                    a.transform.worldTransform = this.transform.worldTransform;
                    a.anchor.x = -(b.x / b.width);
                    a.anchor.y = -(b.y / b.height);
                    a.alpha = d;
                    a._bounds = this._bounds;
                    this._calculateBounds = this._calculateCachedBounds;
                    this.getLocalBounds = this._getCachedLocalBounds;
                    this._cacheData.sprite =
                        a;
                    this.transform._parentID = -1;
                    this.updateTransform();
                    this.containsPoint = a.containsPoint.bind(a)
                }
            };
            a.prototype._renderCachedCanvas = function(a) {
                !this.visible || 0 >= this.worldAlpha || !this.renderable || (this._initCachedDisplayObjectCanvas(a), this._cacheData.sprite.worldAlpha = this.worldAlpha, this._cacheData.sprite.renderCanvas(a))
            };
            a.prototype._initCachedDisplayObjectCanvas = function(a) {
                if (!this._cacheData || !this._cacheData.sprite) {
                    var d = this.getLocalBounds(),
                        b = this.alpha;
                    this.alpha = 1;
                    var c = a.context,
                        g = h.RenderTexture.create(d.width |
                            0, d.height | 0);
                    this.transform.localTransform.copy(n);
                    n.invert();
                    n.tx -= d.x;
                    n.ty -= d.y;
                    this.renderCanvas = this._cacheData.originalRenderCanvas;
                    a.render(this, g, !0, n, !1);
                    a.context = c;
                    this.renderCanvas = this._renderCachedCanvas;
                    this._calculateBounds = this._calculateCachedBounds;
                    this.filterArea = this._mask = null;
                    a = new h.Sprite(g);
                    a.transform.worldTransform = this.transform.worldTransform;
                    a.anchor.x = -(d.x / d.width);
                    a.anchor.y = -(d.y / d.height);
                    a._bounds = this._bounds;
                    a.alpha = b;
                    this.updateTransform();
                    this.updateTransform =
                        this.displayObjectUpdateTransform;
                    this._cacheData.sprite = a;
                    this.containsPoint = a.containsPoint.bind(a)
                }
            };
            a.prototype._calculateCachedBounds = function() {
                this._cacheData.sprite._calculateBounds()
            };
            a.prototype._getCachedLocalBounds = function() {
                return this._cacheData.sprite.getLocalBounds()
            };
            a.prototype._destroyCachedDisplayObject = function() {
                this._cacheData.sprite._texture.destroy(!0);
                this._cacheData.sprite = null
            };
            a.prototype._cacheAsBitmapDestroy = function() {
                this.cacheAsBitmap = !1;
                this.destroy()
            }
        }, {
            "../core": 63
        }],
        131: [function(a, c, g) {
            a = function(a) {
                if (a && a.__esModule) return a;
                var c = {};
                if (null != a)
                    for (var g in a) Object.prototype.hasOwnProperty.call(a, g) && (c[g] = a[g]);
                c["default"] = a;
                return c
            }(a("../core"));
            a.DisplayObject.prototype.name = null;
            a.Container.prototype.getChildByName = function(a) {
                for (var c = 0; c < this.children.length; c++)
                    if (this.children[c].name === a) return this.children[c];
                return null
            }
        }, {
            "../core": 63
        }],
        132: [function(a, c, g) {
            var h = function(a) {
                if (a && a.__esModule) return a;
                var c = {};
                if (null != a)
                    for (var f in a) Object.prototype.hasOwnProperty.call(a,
                        f) && (c[f] = a[f]);
                c["default"] = a;
                return c
            }(a("../core"));
            h.DisplayObject.prototype.getGlobalPosition = function() {
                var a = 0 < arguments.length && void 0 !== arguments[0] ? arguments[0] : new h.Point,
                    c = 1 < arguments.length && void 0 !== arguments[1] ? arguments[1] : !1;
                this.parent ? this.parent.toGlobal(this.position, a, c) : (a.x = this.position.x, a.y = this.position.y);
                return a
            }
        }, {
            "../core": 63
        }],
        133: [function(a, c, g) {
            function h(a) {
                return a && a.__esModule ? a : {
                    "default": a
                }
            }
            g.__esModule = !0;
            g.BitmapText = g.TilingSpriteRenderer = g.TilingSprite =
                g.AnimatedSprite = g.TextureTransform = void 0;
            var n = a("./TextureTransform");
            Object.defineProperty(g, "TextureTransform", {
                enumerable: !0,
                get: function() {
                    return h(n)["default"]
                }
            });
            var m = a("./AnimatedSprite");
            Object.defineProperty(g, "AnimatedSprite", {
                enumerable: !0,
                get: function() {
                    return h(m)["default"]
                }
            });
            var f = a("./TilingSprite");
            Object.defineProperty(g, "TilingSprite", {
                enumerable: !0,
                get: function() {
                    return h(f)["default"]
                }
            });
            var d = a("./webgl/TilingSpriteRenderer");
            Object.defineProperty(g, "TilingSpriteRenderer", {
                enumerable: !0,
                get: function() {
                    return h(d)["default"]
                }
            });
            var e = a("./BitmapText");
            Object.defineProperty(g, "BitmapText", {
                enumerable: !0,
                get: function() {
                    return h(e)["default"]
                }
            });
            a("./cacheAsBitmap");
            a("./getChildByName");
            a("./getGlobalPosition")
        }, {
            "./AnimatedSprite": 126,
            "./BitmapText": 127,
            "./TextureTransform": 128,
            "./TilingSprite": 129,
            "./cacheAsBitmap": 130,
            "./getChildByName": 131,
            "./getGlobalPosition": 132,
            "./webgl/TilingSpriteRenderer": 134
        }],
        134: [function(a, c, g) {
            function h(a, b) {
                if ("function" !== typeof b &&
                    null !== b) throw new TypeError("Super expression must either be null or a function, not " + typeof b);
                a.prototype = Object.create(b && b.prototype, {
                    constructor: {
                        value: a,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                });
                b && (Object.setPrototypeOf ? Object.setPrototypeOf(a, b) : a.__proto__ = b)
            }
            g.__esModule = !0;
            var n = function(a) {
                    if (a && a.__esModule) return a;
                    var b = {};
                    if (null != a)
                        for (var d in a) Object.prototype.hasOwnProperty.call(a, d) && (b[d] = a[d]);
                    b["default"] = a;
                    return b
                }(a("../../core")),
                m = a("../../core/const");
            a("path");
            var f = new n.Matrix,
                d = new Float32Array(4);
            a = function(a) {
                function b(d) {
                    if (!(this instanceof b)) throw new TypeError("Cannot call a class as a function");
                    d = a.call(this, d);
                    if (!this) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                    d = !d || "object" !== typeof d && "function" !== typeof d ? this : d;
                    d.shader = null;
                    d.simpleShader = null;
                    d.quad = null;
                    return d
                }
                h(b, a);
                b.prototype.onContextChange = function() {
                    var a = this.renderer.gl;
                    this.shader = new n.Shader(a, "attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n",
                        "varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = mod(vTextureCoord - uClampOffset, vec2(1.0, 1.0)) + uClampOffset;\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    vec4 sample = texture2D(uSampler, coord);\n    vec4 color = vec4(uColor.rgb * uColor.a, uColor.a);\n\n    gl_FragColor = sample * color ;\n}\n");
                    this.simpleShader = new n.Shader(a, "attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n", "varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\n\nvoid main(void)\n{\n    vec4 sample = texture2D(uSampler, vTextureCoord);\n    vec4 color = vec4(uColor.rgb * uColor.a, uColor.a);\n    gl_FragColor = sample * color;\n}\n");
                    this.renderer.bindVao(null);
                    this.quad = new n.Quad(a, this.renderer.state.attribState);
                    this.quad.initVao(this.shader)
                };
                b.prototype.render = function(a) {
                    var b = this.renderer,
                        e = this.quad;
                    b.bindVao(e.vao);
                    var c = e.vertices;
                    c[0] = c[6] = a._width * -a.anchor.x;
                    c[1] = c[3] = a._height * -a.anchor.y;
                    c[2] = c[4] = a._width * (1 - a.anchor.x);
                    c[5] = c[7] = a._height * (1 - a.anchor.y);
                    a.uvRespectAnchor && (c = e.uvs, c[0] = c[6] = -a.anchor.x, c[1] = c[3] = -a.anchor.y, c[2] = c[4] = 1 - a.anchor.x, c[5] = c[7] = 1 - a.anchor.y);
                    e.upload();
                    var c = a._texture,
                        g = c.baseTexture,
                        h = a.tileTransform.localTransform,
                        p = a.uvTransform,
                        t = g.isPowerOfTwo && c.frame.width === g.width && c.frame.height === g.height;
                    t && (g._glTextures[b.CONTEXT_UID] ? t = g.wrapMode !== m.WRAP_MODES.CLAMP : g.wrapMode === m.WRAP_MODES.CLAMP && (g.wrapMode = m.WRAP_MODES.REPEAT));
                    g = t ? this.simpleShader : this.shader;
                    b.bindShader(g);
                    var z = c.width,
                        r = c.height,
                        A = a._width,
                        B = a._height;
                    f.set(h.a * z / A, h.b * z / B, h.c * r / A, h.d * r / B, h.tx / A, h.ty / B);
                    f.invert();
                    t ? f.append(p.mapCoord) : (g.uniforms.uMapCoord = p.mapCoord.toArray(!0), g.uniforms.uClampFrame =
                        p.uClampFrame, g.uniforms.uClampOffset = p.uClampOffset);
                    g.uniforms.uTransform = f.toArray(!0);
                    n.utils.hex2rgb(a.tint, d);
                    d[3] = a.worldAlpha;
                    g.uniforms.uColor = d;
                    g.uniforms.translationMatrix = a.transform.worldTransform.toArray(!0);
                    g.uniforms.uSampler = b.bindTexture(c);
                    b.setBlendMode(a.blendMode);
                    e.vao.draw(this.renderer.gl.TRIANGLES, 6, 0)
                };
                return b
            }(n.ObjectRenderer);
            g["default"] = a;
            n.WebGLRenderer.registerPlugin("tilingSprite", a)
        }, {
            "../../core": 63,
            "../../core/const": 44,
            path: 22
        }],
        135: [function(a, c, g) {
            function h(a,
                b) {
                if ("function" !== typeof b && null !== b) throw new TypeError("Super expression must either be null or a function, not " + typeof b);
                a.prototype = Object.create(b && b.prototype, {
                    constructor: {
                        value: a,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                });
                b && (Object.setPrototypeOf ? Object.setPrototypeOf(a, b) : a.__proto__ = b)
            }
            g.__esModule = !0;
            var n = function() {
                function a(a, d) {
                    for (var b = 0; b < d.length; b++) {
                        var e = d[b];
                        e.enumerable = e.enumerable || !1;
                        e.configurable = !0;
                        "value" in e && (e.writable = !0);
                        Object.defineProperty(a, e.key, e)
                    }
                }
                return function(b, d, e) {
                    d && a(b.prototype, d);
                    e && a(b, e);
                    return b
                }
            }();
            c = function(a) {
                if (a && a.__esModule) return a;
                var b = {};
                if (null != a)
                    for (var d in a) Object.prototype.hasOwnProperty.call(a, d) && (b[d] = a[d]);
                b["default"] = a;
                return b
            }(a("../../core"));
            var m = a("./BlurXFilter"),
                f = m && m.__esModule ? m : {
                    "default": m
                },
                d = (a = a("./BlurYFilter")) && a.__esModule ? a : {
                    "default": a
                };
            a = function(a) {
                function b(e, c, g, m) {
                    if (!(this instanceof b)) throw new TypeError("Cannot call a class as a function");
                    var h;
                    h = a.call(this);
                    if (!this) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                    h = !h || "object" !== typeof h && "function" !== typeof h ? this : h;
                    h.blurXFilter = new f["default"](e, c, g, m);
                    h.blurYFilter = new d["default"](e, c, g, m);
                    h.resolution = 1;
                    h.padding = 0;
                    h.resolution = g || 1;
                    h.quality = c || 4;
                    h.blur = e || 8;
                    return h
                }
                h(b, a);
                b.prototype.apply = function(a, b, d) {
                    var e = a.getRenderTarget(!0);
                    this.blurXFilter.apply(a, b, e, !0);
                    this.blurYFilter.apply(a, e, d, !1);
                    a.returnRenderTarget(e)
                };
                n(b, [{
                    key: "blur",
                    get: function() {
                        return this.blurXFilter.blur
                    },
                    set: function(a) {
                        this.blurXFilter.blur = this.blurYFilter.blur = a;
                        this.padding = 2 * Math.max(Math.abs(this.blurXFilter.strength), Math.abs(this.blurYFilter.strength))
                    }
                }, {
                    key: "quality",
                    get: function() {
                        return this.blurXFilter.quality
                    },
                    set: function(a) {
                        this.blurXFilter.quality = this.blurYFilter.quality = a
                    }
                }, {
                    key: "blurX",
                    get: function() {
                        return this.blurXFilter.blur
                    },
                    set: function(a) {
                        this.blurXFilter.blur = a;
                        this.padding = 2 * Math.max(Math.abs(this.blurXFilter.strength), Math.abs(this.blurYFilter.strength))
                    }
                }, {
                    key: "blurY",
                    get: function() {
                        return this.blurYFilter.blur
                    },
                    set: function(a) {
                        this.blurYFilter.blur =
                            a;
                        this.padding = 2 * Math.max(Math.abs(this.blurXFilter.strength), Math.abs(this.blurYFilter.strength))
                    }
                }]);
                return b
            }(c.Filter);
            g["default"] = a
        }, {
            "../../core": 63,
            "./BlurXFilter": 136,
            "./BlurYFilter": 137
        }],
        136: [function(a, c, g) {
            function h(a) {
                return a && a.__esModule ? a : {
                    "default": a
                }
            }

            function n(a, b) {
                if ("function" !== typeof b && null !== b) throw new TypeError("Super expression must either be null or a function, not " + typeof b);
                a.prototype = Object.create(b && b.prototype, {
                    constructor: {
                        value: a,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                });
                b && (Object.setPrototypeOf ? Object.setPrototypeOf(a, b) : a.__proto__ = b)
            }
            g.__esModule = !0;
            var m = function() {
                function a(a, b) {
                    for (var d = 0; d < b.length; d++) {
                        var e = b[d];
                        e.enumerable = e.enumerable || !1;
                        e.configurable = !0;
                        "value" in e && (e.writable = !0);
                        Object.defineProperty(a, e.key, e)
                    }
                }
                return function(b, d, e) {
                    d && a(b.prototype, d);
                    e && a(b, e);
                    return b
                }
            }();
            c = function(a) {
                if (a && a.__esModule) return a;
                var b = {};
                if (null != a)
                    for (var d in a) Object.prototype.hasOwnProperty.call(a, d) && (b[d] = a[d]);
                b["default"] = a;
                return b
            }(a("../../core"));
            var f = a("./generateBlurVertSource"),
                d = h(f),
                f = a("./generateBlurFragSource"),
                e = h(f);
            a = a("./getMaxBlurKernelSize");
            var b = h(a);
            a = function(a) {
                function c(b, f, g, m) {
                    if (!(this instanceof c)) throw new TypeError("Cannot call a class as a function");
                    m = m || 5;
                    var h = (0, d["default"])(m, !0);
                    m = (0, e["default"])(m);
                    h = a.call(this, h, m);
                    if (!this) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                    h = !h || "object" !== typeof h && "function" !== typeof h ? this : h;
                    h.resolution = g || 1;
                    h._quality = 0;
                    h.quality =
                        f || 4;
                    h.strength = b || 8;
                    h.firstRun = !0;
                    return h
                }
                n(c, a);
                c.prototype.apply = function(a, c, f, g) {
                    if (this.firstRun) {
                        var m = a.renderer.gl,
                            m = (0, b["default"])(m);
                        this.vertexSrc = (0, d["default"])(m, !0);
                        this.fragmentSrc = (0, e["default"])(m);
                        this.firstRun = !1
                    }
                    this.uniforms.strength = 1 / f.size.width * (f.size.width / c.size.width);
                    this.uniforms.strength *= this.strength;
                    this.uniforms.strength /= this.passes;
                    if (1 === this.passes) a.applyFilter(this, c, f, g);
                    else {
                        for (var h = m = a.getRenderTarget(!0), n = 0; n < this.passes - 1; n++) {
                            a.applyFilter(this,
                                c, h, !0);
                            var q = h,
                                h = c;
                            c = q
                        }
                        a.applyFilter(this, c, f, g);
                        a.returnRenderTarget(m)
                    }
                };
                m(c, [{
                    key: "blur",
                    get: function() {
                        return this.strength
                    },
                    set: function(a) {
                        this.padding = 2 * Math.abs(a);
                        this.strength = a
                    }
                }, {
                    key: "quality",
                    get: function() {
                        return this._quality
                    },
                    set: function(a) {
                        this.passes = this._quality = a
                    }
                }]);
                return c
            }(c.Filter);
            g["default"] = a
        }, {
            "../../core": 63,
            "./generateBlurFragSource": 138,
            "./generateBlurVertSource": 139,
            "./getMaxBlurKernelSize": 140
        }],
        137: [function(a, c, g) {
            function h(a) {
                return a && a.__esModule ? a : {
                    "default": a
                }
            }

            function n(a, b) {
                if ("function" !== typeof b && null !== b) throw new TypeError("Super expression must either be null or a function, not " + typeof b);
                a.prototype = Object.create(b && b.prototype, {
                    constructor: {
                        value: a,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                });
                b && (Object.setPrototypeOf ? Object.setPrototypeOf(a, b) : a.__proto__ = b)
            }
            g.__esModule = !0;
            var m = function() {
                function a(a, b) {
                    for (var d = 0; d < b.length; d++) {
                        var e = b[d];
                        e.enumerable = e.enumerable || !1;
                        e.configurable = !0;
                        "value" in e && (e.writable = !0);
                        Object.defineProperty(a,
                            e.key, e)
                    }
                }
                return function(b, d, e) {
                    d && a(b.prototype, d);
                    e && a(b, e);
                    return b
                }
            }();
            c = function(a) {
                if (a && a.__esModule) return a;
                var b = {};
                if (null != a)
                    for (var d in a) Object.prototype.hasOwnProperty.call(a, d) && (b[d] = a[d]);
                b["default"] = a;
                return b
            }(a("../../core"));
            var f = a("./generateBlurVertSource"),
                d = h(f),
                f = a("./generateBlurFragSource"),
                e = h(f);
            a = a("./getMaxBlurKernelSize");
            var b = h(a);
            a = function(a) {
                function c(b, f, g, m) {
                    if (!(this instanceof c)) throw new TypeError("Cannot call a class as a function");
                    m = m || 5;
                    var h =
                        (0, d["default"])(m, !1);
                    m = (0, e["default"])(m);
                    h = a.call(this, h, m);
                    if (!this) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                    h = !h || "object" !== typeof h && "function" !== typeof h ? this : h;
                    h.resolution = g || 1;
                    h._quality = 0;
                    h.quality = f || 4;
                    h.strength = b || 8;
                    h.firstRun = !0;
                    return h
                }
                n(c, a);
                c.prototype.apply = function(a, c, f, g) {
                    if (this.firstRun) {
                        var m = a.renderer.gl,
                            m = (0, b["default"])(m);
                        this.vertexSrc = (0, d["default"])(m, !1);
                        this.fragmentSrc = (0, e["default"])(m);
                        this.firstRun = !1
                    }
                    this.uniforms.strength =
                        1 / f.size.height * (f.size.height / c.size.height);
                    this.uniforms.strength *= this.strength;
                    this.uniforms.strength /= this.passes;
                    if (1 === this.passes) a.applyFilter(this, c, f, g);
                    else {
                        for (var h = m = a.getRenderTarget(!0), n = 0; n < this.passes - 1; n++) {
                            a.applyFilter(this, c, h, !0);
                            var q = h,
                                h = c;
                            c = q
                        }
                        a.applyFilter(this, c, f, g);
                        a.returnRenderTarget(m)
                    }
                };
                m(c, [{
                    key: "blur",
                    get: function() {
                        return this.strength
                    },
                    set: function(a) {
                        this.padding = 2 * Math.abs(a);
                        this.strength = a
                    }
                }, {
                    key: "quality",
                    get: function() {
                        return this._quality
                    },
                    set: function(a) {
                        this.passes =
                            this._quality = a
                    }
                }]);
                return c
            }(c.Filter);
            g["default"] = a
        }, {
            "../../core": 63,
            "./generateBlurFragSource": 138,
            "./generateBlurVertSource": 139,
            "./getMaxBlurKernelSize": 140
        }],
        138: [function(a, c, g) {
            g.__esModule = !0;
            g["default"] = function(a) {
                for (var c = h[a], d = c.length, e = n, b = "", g, m = 0; m < a; m++) {
                    var q = "gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;".replace("%index%", m);
                    g = m;
                    m >= d && (g = a - m - 1);
                    q = q.replace("%value%", c[g]);
                    b += q;
                    b += "\n"
                }
                e = e.replace("%blur%", b);
                return e = e.replace("%size%", a)
            };
            var h = {
                    5: [.153388, .221461, .250301],
                    7: [.071303, .131514, .189879, .214607],
                    9: [.028532, .067234, .124009, .179044, .20236],
                    11: [.0093, .028002, .065984, .121703, .175713, .198596],
                    13: [.002406, .009255, .027867, .065666, .121117, .174868, .197641],
                    15: [4.89E-4, .002403, .009246, .02784, .065602, .120999, .174697, .197448]
                },
                n = "varying vec2 vBlurTexCoords[%size%];\nuniform sampler2D uSampler;\nvoid main(void)\n{\n    gl_FragColor = vec4(0.0);\n    %blur%\n}"
        }, {}],
        139: [function(a, c, g) {
                g.__esModule = !0;
                g["default"] = function(a, c) {
                    var f = Math.ceil(a /
                            2),
                        d = h,
                        e = "",
                        b;
                    b = c ? "vBlurTexCoords[%index%] = aTextureCoord + vec2(%sampleIndex% * strength, 0.0);" : "vBlurTexCoords[%index%] = aTextureCoord + vec2(0.0, %sampleIndex% * strength);";
                    for (var g = 0; g < a; g++) var m = b.replace("%index%", g),
                        m = m.replace("%sampleIndex%", g - (f - 1) + ".0"),
                        e = e + m,
                        e = e + "\n";
                    d = d.replace("%blur%", e);
                    return d = d.replace("%size%", a)
                };
                var h = "attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nuniform float strength;\nuniform mat3 projectionMatrix;\nvarying vec2 vBlurTexCoords[%size%];\nvoid main(void)\n{\ngl_Position = vec4((projectionMatrix * vec3((aVertexPosition), 1.0)).xy, 0.0, 1.0);\n%blur%\n}"
            },
            {}
        ],
        140: [function(a, c, g) {
            g.__esModule = !0;
            g["default"] = function(a) {
                a = a.getParameter(a.MAX_VARYING_VECTORS);
                for (var c = 15; c > a;) c -= 2;
                return c
            }
        }, {}],
        141: [function(a, c, g) {
            function h(a, c) {
                if ("function" !== typeof c && null !== c) throw new TypeError("Super expression must either be null or a function, not " + typeof c);
                a.prototype = Object.create(c && c.prototype, {
                    constructor: {
                        value: a,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                });
                c && (Object.setPrototypeOf ? Object.setPrototypeOf(a, c) : a.__proto__ = c)
            }
            g.__esModule = !0;
            var n =
                function() {
                    function a(a, d) {
                        for (var e = 0; e < d.length; e++) {
                            var b = d[e];
                            b.enumerable = b.enumerable || !1;
                            b.configurable = !0;
                            "value" in b && (b.writable = !0);
                            Object.defineProperty(a, b.key, b)
                        }
                    }
                    return function(c, d, e) {
                        d && a(c.prototype, d);
                        e && a(c, e);
                        return c
                    }
                }();
            c = function(a) {
                if (a && a.__esModule) return a;
                var c = {};
                if (null != a)
                    for (var d in a) Object.prototype.hasOwnProperty.call(a, d) && (c[d] = a[d]);
                c["default"] = a;
                return c
            }(a("../../core"));
            a("path");
            a = function(a) {
                function c() {
                    if (!(this instanceof c)) throw new TypeError("Cannot call a class as a function");
                    var d;
                    d = a.call(this, "attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}", "varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float m[20];\n\nvoid main(void)\n{\n\n    vec4 c = texture2D(uSampler, vTextureCoord);\n\n    gl_FragColor.r = (m[0] * c.r);\n        gl_FragColor.r += (m[1] * c.g);\n        gl_FragColor.r += (m[2] * c.b);\n        gl_FragColor.r += (m[3] * c.a);\n        gl_FragColor.r += m[4] * c.a;\n\n    gl_FragColor.g = (m[5] * c.r);\n        gl_FragColor.g += (m[6] * c.g);\n        gl_FragColor.g += (m[7] * c.b);\n        gl_FragColor.g += (m[8] * c.a);\n        gl_FragColor.g += m[9] * c.a;\n\n     gl_FragColor.b = (m[10] * c.r);\n        gl_FragColor.b += (m[11] * c.g);\n        gl_FragColor.b += (m[12] * c.b);\n        gl_FragColor.b += (m[13] * c.a);\n        gl_FragColor.b += m[14] * c.a;\n\n     gl_FragColor.a = (m[15] * c.r);\n        gl_FragColor.a += (m[16] * c.g);\n        gl_FragColor.a += (m[17] * c.b);\n        gl_FragColor.a += (m[18] * c.a);\n        gl_FragColor.a += m[19] * c.a;\n\n//    gl_FragColor = vec4(m[0]);\n}\n");
                    if (!this) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                    d = !d || "object" !== typeof d && "function" !== typeof d ? this : d;
                    d.uniforms.m = [1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0];
                    return d
                }
                h(c, a);
                c.prototype._loadMatrix = function(a) {
                    var d = a;
                    1 < arguments.length && void 0 !== arguments[1] && arguments[1] && (this._multiply(d, this.uniforms.m, a), d = this._colorMatrix(d));
                    this.uniforms.m = d
                };
                c.prototype._multiply = function(a, e, b) {
                    a[0] = e[0] * b[0] + e[1] * b[5] + e[2] * b[10] + e[3] * b[15];
                    a[1] = e[0] * b[1] +
                        e[1] * b[6] + e[2] * b[11] + e[3] * b[16];
                    a[2] = e[0] * b[2] + e[1] * b[7] + e[2] * b[12] + e[3] * b[17];
                    a[3] = e[0] * b[3] + e[1] * b[8] + e[2] * b[13] + e[3] * b[18];
                    a[4] = e[0] * b[4] + e[1] * b[9] + e[2] * b[14] + e[3] * b[19];
                    a[5] = e[5] * b[0] + e[6] * b[5] + e[7] * b[10] + e[8] * b[15];
                    a[6] = e[5] * b[1] + e[6] * b[6] + e[7] * b[11] + e[8] * b[16];
                    a[7] = e[5] * b[2] + e[6] * b[7] + e[7] * b[12] + e[8] * b[17];
                    a[8] = e[5] * b[3] + e[6] * b[8] + e[7] * b[13] + e[8] * b[18];
                    a[9] = e[5] * b[4] + e[6] * b[9] + e[7] * b[14] + e[8] * b[19];
                    a[10] = e[10] * b[0] + e[11] * b[5] + e[12] * b[10] + e[13] * b[15];
                    a[11] = e[10] * b[1] + e[11] * b[6] + e[12] * b[11] + e[13] *
                        b[16];
                    a[12] = e[10] * b[2] + e[11] * b[7] + e[12] * b[12] + e[13] * b[17];
                    a[13] = e[10] * b[3] + e[11] * b[8] + e[12] * b[13] + e[13] * b[18];
                    a[14] = e[10] * b[4] + e[11] * b[9] + e[12] * b[14] + e[13] * b[19];
                    a[15] = e[15] * b[0] + e[16] * b[5] + e[17] * b[10] + e[18] * b[15];
                    a[16] = e[15] * b[1] + e[16] * b[6] + e[17] * b[11] + e[18] * b[16];
                    a[17] = e[15] * b[2] + e[16] * b[7] + e[17] * b[12] + e[18] * b[17];
                    a[18] = e[15] * b[3] + e[16] * b[8] + e[17] * b[13] + e[18] * b[18];
                    a[19] = e[15] * b[4] + e[16] * b[9] + e[17] * b[14] + e[18] * b[19];
                    return a
                };
                c.prototype._colorMatrix = function(a) {
                    a = new Float32Array(a);
                    a[4] /= 255;
                    a[9] /= 255;
                    a[14] /= 255;
                    a[19] /= 255;
                    return a
                };
                c.prototype.brightness = function(a, e) {
                    this._loadMatrix([a, 0, 0, 0, 0, 0, a, 0, 0, 0, 0, 0, a, 0, 0, 0, 0, 0, 1, 0], e)
                };
                c.prototype.greyscale = function(a, e) {
                    this._loadMatrix([a, a, a, 0, 0, a, a, a, 0, 0, a, a, a, 0, 0, 0, 0, 0, 1, 0], e)
                };
                c.prototype.blackAndWhite = function(a) {
                    this._loadMatrix([.3, .6, .1, 0, 0, .3, .6, .1, 0, 0, .3, .6, .1, 0, 0, 0, 0, 0, 1, 0], a)
                };
                c.prototype.hue = function(a, e) {
                    a = (a || 0) / 180 * Math.PI;
                    var b = Math.cos(a),
                        d = Math.sin(a),
                        c = Math.sqrt,
                        f = 1 / 3,
                        c = c(f);
                    this._loadMatrix([b + (1 - b) * f, f * (1 - b) - c * d, f *
                        (1 - b) + c * d, 0, 0, f * (1 - b) + c * d, b + f * (1 - b), f * (1 - b) - c * d, 0, 0, f * (1 - b) - c * d, f * (1 - b) + c * d, b + f * (1 - b), 0, 0, 0, 0, 0, 1, 0
                    ], e)
                };
                c.prototype.contrast = function(a, e) {
                    var b = (a || 0) + 1,
                        d = -128 * (b - 1);
                    this._loadMatrix([b, 0, 0, 0, d, 0, b, 0, 0, d, 0, 0, b, 0, d, 0, 0, 0, 1, 0], e)
                };
                c.prototype.saturate = function() {
                    var a = 2 * (0 < arguments.length && void 0 !== arguments[0] ? arguments[0] : 0) / 3 + 1,
                        e = -.5 * (a - 1);
                    this._loadMatrix([a, e, e, 0, 0, e, a, e, 0, 0, e, e, a, 0, 0, 0, 0, 0, 1, 0], arguments[1])
                };
                c.prototype.desaturate = function() {
                    this.saturate(-1)
                };
                c.prototype.negative = function(a) {
                    this._loadMatrix([0,
                        1, 1, 0, 0, 1, 0, 1, 0, 0, 1, 1, 0, 0, 0, 0, 0, 0, 1, 0
                    ], a)
                };
                c.prototype.sepia = function(a) {
                    this._loadMatrix([.393, .7689999, .18899999, 0, 0, .349, .6859999, .16799999, 0, 0, .272, .5339999, .13099999, 0, 0, 0, 0, 0, 1, 0], a)
                };
                c.prototype.technicolor = function(a) {
                    this._loadMatrix([1.9125277891456083, -.8545344976951645, -.09155508482755585, 0, 11.793603434377337, -.3087833385928097, 1.7658908555458428, -.10601743074722245, 0, -70.35205161461398, -.231103377548616, -.7501899197440212, 1.847597816108189, 0, 30.950940869491138, 0, 0, 0, 1, 0], a)
                };
                c.prototype.polaroid =
                    function(a) {
                        this._loadMatrix([1.438, -.062, -.062, 0, 0, -.122, 1.378, -.122, 0, 0, -.016, -.016, 1.483, 0, 0, 0, 0, 0, 1, 0], a)
                    };
                c.prototype.toBGR = function(a) {
                    this._loadMatrix([0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0], a)
                };
                c.prototype.kodachrome = function(a) {
                    this._loadMatrix([1.1285582396593525, -.3967382283601348, -.03992559172921793, 0, 63.72958762196502, -.16404339962244616, 1.0835251566291304, -.05498805115633132, 0, 24.732407896706203, -.16786010706155763, -.5603416277695248, 1.6014850761964943, 0, 35.62982807460946, 0, 0, 0, 1,
                        0
                    ], a)
                };
                c.prototype.browni = function(a) {
                    this._loadMatrix([.5997023498159715, .34553243048391263, -.2708298674538042, 0, 47.43192855600873, -.037703249837783157, .8609577587992641, .15059552388459913, 0, -36.96841498319127, .24113635128153335, -.07441037908422492, .44972182064877153, 0, -7.562075277591283, 0, 0, 0, 1, 0], a)
                };
                c.prototype.vintage = function(a) {
                    this._loadMatrix([.6279345635605994, .3202183420819367, -.03965408211312453, 0, 9.651285835294123, .02578397704808868, .6441188644374771, .03259127616149294, 0, 7.462829176470591,
                        .0466055556782719, -.0851232987247891, .5241648018700465, 0, 5.159190588235296, 0, 0, 0, 1, 0
                    ], a)
                };
                c.prototype.colorTone = function(a, e, b, c, f) {
                    b = b || 16770432;
                    c = c || 3375104;
                    var d = (b >> 16 & 255) / 255,
                        g = (b >> 8 & 255) / 255;
                    b = (b & 255) / 255;
                    var m = (c >> 16 & 255) / 255,
                        h = (c >> 8 & 255) / 255;
                    c = (c & 255) / 255;
                    this._loadMatrix([.3, .59, .11, 0, 0, d, g, b, a || .2, 0, m, h, c, e || .15, 0, d - m, g - h, b - c, 0, 0], f)
                };
                c.prototype.night = function(a, e) {
                    a = a || .1;
                    this._loadMatrix([-2 * a, -a, 0, 0, 0, -a, 0, a, 0, 0, 0, a, 2 * a, 0, 0, 0, 0, 0, 1, 0], e)
                };
                c.prototype.predator = function(a, e) {
                    this._loadMatrix([11.224130630493164 *
                        a, -4.794486999511719 * a, -2.8746118545532227 * a, 0 * a, .40342438220977783 * a, -3.6330697536468506 * a, 9.193157196044922 * a, -2.951810836791992 * a, 0 * a, -1.316135048866272 * a, -3.2184197902679443 * a, -4.2375030517578125 * a, 7.476448059082031 * a, 0 * a, .8044459223747253 * a, 0, 0, 0, 1, 0
                    ], e)
                };
                c.prototype.lsd = function(a) {
                    this._loadMatrix([2, -.4, .5, 0, 0, -.5, 2, -.4, 0, 0, -.4, -.5, 3, 0, 0, 0, 0, 0, 1, 0], a)
                };
                c.prototype.reset = function() {
                    this._loadMatrix([1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0], !1)
                };
                n(c, [{
                    key: "matrix",
                    get: function() {
                        return this.uniforms.m
                    },
                    set: function(a) {
                        this.uniforms.m = a
                    }
                }]);
                return c
            }(c.Filter);
            g["default"] = a;
            a.prototype.grayscale = a.prototype.greyscale
        }, {
            "../../core": 63,
            path: 22
        }],
        142: [function(a, c, g) {
            function h(a, d) {
                if ("function" !== typeof d && null !== d) throw new TypeError("Super expression must either be null or a function, not " + typeof d);
                a.prototype = Object.create(d && d.prototype, {
                    constructor: {
                        value: a,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                });
                d && (Object.setPrototypeOf ? Object.setPrototypeOf(a, d) : a.__proto__ = d)
            }
            g.__esModule = !0;
            var n =
                function() {
                    function a(a, e) {
                        for (var b = 0; b < e.length; b++) {
                            var d = e[b];
                            d.enumerable = d.enumerable || !1;
                            d.configurable = !0;
                            "value" in d && (d.writable = !0);
                            Object.defineProperty(a, d.key, d)
                        }
                    }
                    return function(d, e, b) {
                        e && a(d.prototype, e);
                        b && a(d, b);
                        return d
                    }
                }(),
                m = function(a) {
                    if (a && a.__esModule) return a;
                    var d = {};
                    if (null != a)
                        for (var e in a) Object.prototype.hasOwnProperty.call(a, e) && (d[e] = a[e]);
                    d["default"] = a;
                    return d
                }(a("../../core"));
            a("path");
            a = function(a) {
                function d(e, b) {
                    if (!(this instanceof d)) throw new TypeError("Cannot call a class as a function");
                    var c = new m.Matrix;
                    e.renderable = !1;
                    var f;
                    f = a.call(this, "attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 filterMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\n\nvoid main(void)\n{\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vFilterCoord = ( filterMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n   vTextureCoord = aTextureCoord;\n}", "varying vec2 vFilterCoord;\nvarying vec2 vTextureCoord;\n\nuniform vec2 scale;\n\nuniform sampler2D uSampler;\nuniform sampler2D mapSampler;\n\nuniform vec4 filterClamp;\n\nvoid main(void)\n{\n   vec4 map =  texture2D(mapSampler, vFilterCoord);\n\n   map -= 0.5;\n   map.xy *= scale;\n\n   gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), filterClamp.xy, filterClamp.zw));\n}\n");
                    if (!this) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                    f = !f || "object" !== typeof f && "function" !== typeof f ? this : f;
                    f.maskSprite = e;
                    f.maskMatrix = c;
                    f.uniforms.mapSampler = e.texture;
                    f.uniforms.filterMatrix = c.toArray(!0);
                    f.uniforms.scale = {
                        x: 1,
                        y: 1
                    };
                    if (null === b || void 0 === b) b = 20;
                    f.scale = new m.Point(b, b);
                    return f
                }
                h(d, a);
                d.prototype.apply = function(a, b, d) {
                    var e = 1 / d.destinationFrame.width * (d.size.width / b.size.width);
                    this.uniforms.filterMatrix = a.calculateSpriteMatrix(this.maskMatrix,
                        this.maskSprite);
                    this.uniforms.scale.x = this.scale.x * e;
                    this.uniforms.scale.y = this.scale.y * e;
                    a.applyFilter(this, b, d)
                };
                n(d, [{
                    key: "map",
                    get: function() {
                        return this.uniforms.mapSampler
                    },
                    set: function(a) {
                        this.uniforms.mapSampler = a
                    }
                }]);
                return d
            }(m.Filter);
            g["default"] = a
        }, {
            "../../core": 63,
            path: 22
        }],
        143: [function(a, c, g) {
            function h(a, c) {
                if ("function" !== typeof c && null !== c) throw new TypeError("Super expression must either be null or a function, not " + typeof c);
                a.prototype = Object.create(c && c.prototype, {
                    constructor: {
                        value: a,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                });
                c && (Object.setPrototypeOf ? Object.setPrototypeOf(a, c) : a.__proto__ = c)
            }
            g.__esModule = !0;
            c = function(a) {
                if (a && a.__esModule) return a;
                var c = {};
                if (null != a)
                    for (var f in a) Object.prototype.hasOwnProperty.call(a, f) && (c[f] = a[f]);
                c["default"] = a;
                return c
            }(a("../../core"));
            a("path");
            a = function(a) {
                function c() {
                    if (!(this instanceof c)) throw new TypeError("Cannot call a class as a function");
                    var f = a.call(this, "\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nuniform vec4 filterArea;\n\nvarying vec2 vTextureCoord;\n\nvec2 mapCoord( vec2 coord )\n{\n    coord *= filterArea.xy;\n    coord += filterArea.zw;\n\n    return coord;\n}\n\nvec2 unmapCoord( vec2 coord )\n{\n    coord -= filterArea.zw;\n    coord /= filterArea.xy;\n\n    return coord;\n}\n\nvoid texcoords(vec2 fragCoord, vec2 resolution,\n               out vec2 v_rgbNW, out vec2 v_rgbNE,\n               out vec2 v_rgbSW, out vec2 v_rgbSE,\n               out vec2 v_rgbM) {\n    vec2 inverseVP = 1.0 / resolution.xy;\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n    v_rgbM = vec2(fragCoord * inverseVP);\n}\n\nvoid main(void) {\n\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n   vTextureCoord = aTextureCoord;\n\n   vec2 fragCoord = vTextureCoord * filterArea.xy;\n\n   texcoords(fragCoord, filterArea.xy, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}",
                        'varying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform vec4 filterArea;\n\n/**\n Basic FXAA implementation based on the code on geeks3d.com with the\n modification that the texture2DLod stuff was removed since it\'s\n unsupported by WebGL.\n \n --\n \n From:\n https://github.com/mitsuhiko/webgl-meincraft\n \n Copyright (c) 2011 by Armin Ronacher.\n \n Some rights reserved.\n \n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are\n met:\n \n * Redistributions of source code must retain the above copyright\n notice, this list of conditions and the following disclaimer.\n \n * Redistributions in binary form must reproduce the above\n copyright notice, this list of conditions and the following\n disclaimer in the documentation and/or other materials provided\n with the distribution.\n \n * The names of the contributors may not be used to endorse or\n promote products derived from this software without specific\n prior written permission.\n \n THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n#ifndef FXAA_REDUCE_MIN\n#define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n#define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n#define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent\n//texture reads can be a bottleneck\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 resolution,\n          vec2 v_rgbNW, vec2 v_rgbNE,\n          vec2 v_rgbSW, vec2 v_rgbSE,\n          vec2 v_rgbM) {\n    vec4 color;\n    mediump vec2 inverseVP = vec2(1.0 / resolution.x, 1.0 / resolution.y);\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n    \n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n    \n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n    \n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n                  dir * rcpDirMin)) * inverseVP;\n    \n    vec3 rgbA = 0.5 * (\n                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n    \n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\nvoid main() {\n\n      vec2 fragCoord = vTextureCoord * filterArea.xy;\n\n      vec4 color;\n\n    color = fxaa(uSampler, fragCoord, filterArea.xy, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n\n      gl_FragColor = color;\n}\n');
                    if (!this) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                    return !f || "object" !== typeof f && "function" !== typeof f ? this : f
                }
                h(c, a);
                return c
            }(c.Filter);
            g["default"] = a
        }, {
            "../../core": 63,
            path: 22
        }],
        144: [function(a, c, g) {
            function h(a) {
                return a && a.__esModule ? a : {
                    "default": a
                }
            }
            g.__esModule = !0;
            var n = a("./fxaa/FXAAFilter");
            Object.defineProperty(g, "FXAAFilter", {
                enumerable: !0,
                get: function() {
                    return h(n)["default"]
                }
            });
            var m = a("./noise/NoiseFilter");
            Object.defineProperty(g, "NoiseFilter", {
                enumerable: !0,
                get: function() {
                    return h(m)["default"]
                }
            });
            var f = a("./displacement/DisplacementFilter");
            Object.defineProperty(g, "DisplacementFilter", {
                enumerable: !0,
                get: function() {
                    return h(f)["default"]
                }
            });
            var d = a("./blur/BlurFilter");
            Object.defineProperty(g, "BlurFilter", {
                enumerable: !0,
                get: function() {
                    return h(d)["default"]
                }
            });
            var e = a("./blur/BlurXFilter");
            Object.defineProperty(g, "BlurXFilter", {
                enumerable: !0,
                get: function() {
                    return h(e)["default"]
                }
            });
            var b = a("./blur/BlurYFilter");
            Object.defineProperty(g,
                "BlurYFilter", {
                    enumerable: !0,
                    get: function() {
                        return h(b)["default"]
                    }
                });
            var p = a("./colormatrix/ColorMatrixFilter");
            Object.defineProperty(g, "ColorMatrixFilter", {
                enumerable: !0,
                get: function() {
                    return h(p)["default"]
                }
            });
            var u = a("./void/VoidFilter");
            Object.defineProperty(g, "VoidFilter", {
                enumerable: !0,
                get: function() {
                    return h(u)["default"]
                }
            })
        }, {
            "./blur/BlurFilter": 135,
            "./blur/BlurXFilter": 136,
            "./blur/BlurYFilter": 137,
            "./colormatrix/ColorMatrixFilter": 141,
            "./displacement/DisplacementFilter": 142,
            "./fxaa/FXAAFilter": 143,
            "./noise/NoiseFilter": 145,
            "./void/VoidFilter": 146
        }],
        145: [function(a, c, g) {
            function h(a, c) {
                if ("function" !== typeof c && null !== c) throw new TypeError("Super expression must either be null or a function, not " + typeof c);
                a.prototype = Object.create(c && c.prototype, {
                    constructor: {
                        value: a,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                });
                c && (Object.setPrototypeOf ? Object.setPrototypeOf(a, c) : a.__proto__ = c)
            }
            g.__esModule = !0;
            var n = function() {
                function a(a, d) {
                    for (var c = 0; c < d.length; c++) {
                        var b = d[c];
                        b.enumerable = b.enumerable ||
                            !1;
                        b.configurable = !0;
                        "value" in b && (b.writable = !0);
                        Object.defineProperty(a, b.key, b)
                    }
                }
                return function(c, d, e) {
                    d && a(c.prototype, d);
                    e && a(c, e);
                    return c
                }
            }();
            c = function(a) {
                if (a && a.__esModule) return a;
                var c = {};
                if (null != a)
                    for (var d in a) Object.prototype.hasOwnProperty.call(a, d) && (c[d] = a[d]);
                c["default"] = a;
                return c
            }(a("../../core"));
            a("path");
            a = function(a) {
                function c() {
                    if (!(this instanceof c)) throw new TypeError("Cannot call a class as a function");
                    var d;
                    d = a.call(this, "attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}",
                        "precision highp float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform float noise;\nuniform sampler2D uSampler;\n\nfloat rand(vec2 co)\n{\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main()\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n\n    float diff = (rand(gl_FragCoord.xy) - 0.5) * noise;\n\n    color.r += diff;\n    color.g += diff;\n    color.b += diff;\n\n    gl_FragColor = color;\n}\n");
                    if (!this) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                    d = !d || "object" !== typeof d && "function" !== typeof d ? this : d;
                    d.noise = .5;
                    return d
                }
                h(c, a);
                n(c, [{
                    key: "noise",
                    get: function() {
                        return this.uniforms.noise
                    },
                    set: function(a) {
                        this.uniforms.noise = a
                    }
                }]);
                return c
            }(c.Filter);
            g["default"] = a
        }, {
            "../../core": 63,
            path: 22
        }],
        146: [function(a, c, g) {
            function h(a, c) {
                if ("function" !== typeof c && null !== c) throw new TypeError("Super expression must either be null or a function, not " + typeof c);
                a.prototype = Object.create(c && c.prototype, {
                    constructor: {
                        value: a,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                });
                c && (Object.setPrototypeOf ? Object.setPrototypeOf(a, c) : a.__proto__ = c)
            }
            g.__esModule = !0;
            c = function(a) {
                if (a && a.__esModule) return a;
                var c = {};
                if (null != a)
                    for (var f in a) Object.prototype.hasOwnProperty.call(a, f) && (c[f] = a[f]);
                c["default"] = a;
                return c
            }(a("../../core"));
            a("path");
            a = function(a) {
                function c() {
                    if (!(this instanceof c)) throw new TypeError("Cannot call a class as a function");
                    var f;
                    f = a.call(this, "attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}",
                        "varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord);\n}\n");
                    if (!this) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                    f = !f || "object" !== typeof f && "function" !== typeof f ? this : f;
                    f.glShaderKey = "void";
                    return f
                }
                h(c, a);
                return c
            }(c.Filter);
            g["default"] = a
        }, {
            "../../core": 63,
            path: 22
        }],
        147: [function(a, c, g) {
            g.__esModule = !0;
            var h = function(a) {
                if (a && a.__esModule) return a;
                var c = {};
                if (null != a)
                    for (var f in a) Object.prototype.hasOwnProperty.call(a,
                        f) && (c[f] = a[f]);
                c["default"] = a;
                return c
            }(a("../core"));
            a = function() {
                function a() {
                    if (!(this instanceof a)) throw new TypeError("Cannot call a class as a function");
                    this.global = new h.Point;
                    this.originalEvent = this.target = null
                }
                a.prototype.getLocalPosition = function(a, c, d) {
                    return a.worldTransform.applyInverse(d || this.global, c)
                };
                return a
            }();
            g["default"] = a
        }, {
            "../core": 63
        }],
        148: [function(a, c, g) {
            g.__esModule = !0;
            a = function() {
                function a() {
                    if (!(this instanceof a)) throw new TypeError("Cannot call a class as a function");
                    this.stopped = !1;
                    this.data = this.type = this.currentTarget = this.target = null
                }
                a.prototype.stopPropagation = function() {
                    this.stopped = !0
                };
                a.prototype._reset = function() {
                    this.stopped = !1;
                    this.target = this.currentTarget = null
                };
                return a
            }();
            g["default"] = a
        }, {}],
        149: [function(a, c, g) {
            function h(a) {
                return a && a.__esModule ? a : {
                    "default": a
                }
            }

            function n(a, b) {
                if ("function" !== typeof b && null !== b) throw new TypeError("Super expression must either be null or a function, not " + typeof b);
                a.prototype = Object.create(b && b.prototype, {
                    constructor: {
                        value: a,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                });
                b && (Object.setPrototypeOf ? Object.setPrototypeOf(a, b) : a.__proto__ = b)
            }
            g.__esModule = !0;
            var m = function(a) {
                if (a && a.__esModule) return a;
                var b = {};
                if (null != a)
                    for (var d in a) Object.prototype.hasOwnProperty.call(a, d) && (b[d] = a[d]);
                b["default"] = a;
                return b
            }(a("../core"));
            c = a("./InteractionData");
            var f = h(c);
            c = a("./InteractionEvent");
            var d = h(c);
            c = a("eventemitter3");
            c = h(c);
            var e = a("./interactiveTarget"),
                e = h(e);
            a = a("ismobilejs");
            var b = h(a);
            Object.assign(m.DisplayObject.prototype,
                e["default"]);
            a = function(a) {
                function c(e, g) {
                    if (!(this instanceof c)) throw new TypeError("Cannot call a class as a function");
                    var h;
                    h = a.call(this);
                    if (!this) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                    h = !h || "object" !== typeof h && "function" !== typeof h ? this : h;
                    g = g || {};
                    h.renderer = e;
                    h.autoPreventDefault = void 0 !== g.autoPreventDefault ? g.autoPreventDefault : !0;
                    h.interactionFrequency = g.interactionFrequency || 10;
                    h.mouse = new f["default"];
                    h.mouse.global.set(-999999);
                    h.pointer =
                        new f["default"];
                    h.pointer.global.set(-999999);
                    h.eventData = new d["default"];
                    h.interactiveDataPool = [];
                    h.interactionDOMElement = null;
                    h.moveWhenInside = !1;
                    h.eventsAdded = !1;
                    h.mouseOverRenderer = !1;
                    h.supportsTouchEvents = "ontouchstart" in window;
                    h.supportsPointerEvents = !!window.PointerEvent;
                    h.normalizeTouchEvents = !h.supportsPointerEvents && h.supportsTouchEvents;
                    h.normalizeMouseEvents = !h.supportsPointerEvents && !b["default"].any;
                    h.onMouseUp = h.onMouseUp.bind(h);
                    h.processMouseUp = h.processMouseUp.bind(h);
                    h.onMouseDown =
                        h.onMouseDown.bind(h);
                    h.processMouseDown = h.processMouseDown.bind(h);
                    h.onMouseMove = h.onMouseMove.bind(h);
                    h.processMouseMove = h.processMouseMove.bind(h);
                    h.onMouseOut = h.onMouseOut.bind(h);
                    h.processMouseOverOut = h.processMouseOverOut.bind(h);
                    h.onMouseOver = h.onMouseOver.bind(h);
                    h.onPointerUp = h.onPointerUp.bind(h);
                    h.processPointerUp = h.processPointerUp.bind(h);
                    h.onPointerDown = h.onPointerDown.bind(h);
                    h.processPointerDown = h.processPointerDown.bind(h);
                    h.onPointerMove = h.onPointerMove.bind(h);
                    h.processPointerMove =
                        h.processPointerMove.bind(h);
                    h.onPointerOut = h.onPointerOut.bind(h);
                    h.processPointerOverOut = h.processPointerOverOut.bind(h);
                    h.onPointerOver = h.onPointerOver.bind(h);
                    h.onTouchStart = h.onTouchStart.bind(h);
                    h.processTouchStart = h.processTouchStart.bind(h);
                    h.onTouchEnd = h.onTouchEnd.bind(h);
                    h.processTouchEnd = h.processTouchEnd.bind(h);
                    h.onTouchMove = h.onTouchMove.bind(h);
                    h.processTouchMove = h.processTouchMove.bind(h);
                    h.defaultCursorStyle = "inherit";
                    h.currentCursorStyle = "inherit";
                    h._tempPoint = new m.Point;
                    h.resolution =
                        1;
                    h.setTargetElement(h.renderer.view, h.renderer.resolution);
                    return h
                }
                n(c, a);
                c.prototype.setTargetElement = function(a) {
                    var b = 1 < arguments.length && void 0 !== arguments[1] ? arguments[1] : 1;
                    this.removeEvents();
                    this.interactionDOMElement = a;
                    this.resolution = b;
                    this.addEvents()
                };
                c.prototype.addEvents = function() {
                    this.interactionDOMElement && (m.ticker.shared.add(this.update, this), window.navigator.msPointerEnabled ? (this.interactionDOMElement.style["-ms-content-zooming"] = "none", this.interactionDOMElement.style["-ms-touch-action"] =
                        "none") : this.supportsPointerEvents && (this.interactionDOMElement.style["touch-action"] = "none"), this.supportsPointerEvents ? (window.document.addEventListener("pointermove", this.onPointerMove, !0), this.interactionDOMElement.addEventListener("pointerdown", this.onPointerDown, !0), this.interactionDOMElement.addEventListener("pointerout", this.onPointerOut, !0), this.interactionDOMElement.addEventListener("pointerover", this.onPointerOver, !0), window.addEventListener("pointerup", this.onPointerUp, !0)) : (this.normalizeTouchEvents &&
                        (this.interactionDOMElement.addEventListener("touchstart", this.onPointerDown, !0), this.interactionDOMElement.addEventListener("touchend", this.onPointerUp, !0), this.interactionDOMElement.addEventListener("touchmove", this.onPointerMove, !0)), this.normalizeMouseEvents && (window.document.addEventListener("mousemove", this.onPointerMove, !0), this.interactionDOMElement.addEventListener("mousedown", this.onPointerDown, !0), this.interactionDOMElement.addEventListener("mouseout", this.onPointerOut, !0), this.interactionDOMElement.addEventListener("mouseover",
                            this.onPointerOver, !0), window.addEventListener("mouseup", this.onPointerUp, !0))), window.document.addEventListener("mousemove", this.onMouseMove, !0), this.interactionDOMElement.addEventListener("mousedown", this.onMouseDown, !0), this.interactionDOMElement.addEventListener("mouseout", this.onMouseOut, !0), this.interactionDOMElement.addEventListener("mouseover", this.onMouseOver, !0), window.addEventListener("mouseup", this.onMouseUp, !0), this.supportsTouchEvents && (this.interactionDOMElement.addEventListener("touchstart",
                        this.onTouchStart, !0), this.interactionDOMElement.addEventListener("touchend", this.onTouchEnd, !0), this.interactionDOMElement.addEventListener("touchmove", this.onTouchMove, !0)), this.eventsAdded = !0)
                };
                c.prototype.removeEvents = function() {
                    this.interactionDOMElement && (m.ticker.shared.remove(this.update, this), window.navigator.msPointerEnabled ? (this.interactionDOMElement.style["-ms-content-zooming"] = "", this.interactionDOMElement.style["-ms-touch-action"] = "") : this.supportsPointerEvents && (this.interactionDOMElement.style["touch-action"] =
                        ""), this.supportsPointerEvents ? (window.document.removeEventListener("pointermove", this.onPointerMove, !0), this.interactionDOMElement.removeEventListener("pointerdown", this.onPointerDown, !0), this.interactionDOMElement.removeEventListener("pointerout", this.onPointerOut, !0), this.interactionDOMElement.removeEventListener("pointerover", this.onPointerOver, !0), window.removeEventListener("pointerup", this.onPointerUp, !0)) : (this.normalizeTouchEvents && (this.interactionDOMElement.removeEventListener("touchstart",
                        this.onPointerDown, !0), this.interactionDOMElement.removeEventListener("touchend", this.onPointerUp, !0), this.interactionDOMElement.removeEventListener("touchmove", this.onPointerMove, !0)), this.normalizeMouseEvents && (window.document.removeEventListener("mousemove", this.onPointerMove, !0), this.interactionDOMElement.removeEventListener("mousedown", this.onPointerDown, !0), this.interactionDOMElement.removeEventListener("mouseout", this.onPointerOut, !0), this.interactionDOMElement.removeEventListener("mouseover",
                        this.onPointerOver, !0), window.removeEventListener("mouseup", this.onPointerUp, !0))), window.document.removeEventListener("mousemove", this.onMouseMove, !0), this.interactionDOMElement.removeEventListener("mousedown", this.onMouseDown, !0), this.interactionDOMElement.removeEventListener("mouseout", this.onMouseOut, !0), this.interactionDOMElement.removeEventListener("mouseover", this.onMouseOver, !0), window.removeEventListener("mouseup", this.onMouseUp, !0), this.supportsTouchEvents && (this.interactionDOMElement.removeEventListener("touchstart",
                        this.onTouchStart, !0), this.interactionDOMElement.removeEventListener("touchend", this.onTouchEnd, !0), this.interactionDOMElement.removeEventListener("touchmove", this.onTouchMove, !0)), this.interactionDOMElement = null, this.eventsAdded = !1)
                };
                c.prototype.update = function(a) {
                    this._deltaTime += a;
                    this._deltaTime < this.interactionFrequency || (this._deltaTime = 0, this.interactionDOMElement && (this.didMove ? this.didMove = !1 : (this.cursor = this.defaultCursorStyle, this.eventData._reset(), this.processInteractive(this.mouse.global,
                        this.renderer._lastObjectRendered, this.processMouseOverOut, !0), this.currentCursorStyle !== this.cursor && (this.currentCursorStyle = this.cursor, this.interactionDOMElement.style.cursor = this.cursor))))
                };
                c.prototype.dispatchEvent = function(a, b, d) {
                    if (!d.stopped && (d.currentTarget = a, d.type = b, a.emit(b, d), a[b])) a[b](d)
                };
                c.prototype.mapPositionToPoint = function(a, b, d) {
                    var c;
                    c = this.interactionDOMElement.parentElement ? this.interactionDOMElement.getBoundingClientRect() : {
                        x: 0,
                        y: 0,
                        width: 0,
                        height: 0
                    };
                    var e = navigator.isCocoonJS ?
                        this.resolution : 1 / this.resolution;
                    a.x = this.interactionDOMElement.width / c.width * (b - c.left) * e;
                    a.y = this.interactionDOMElement.height / c.height * (d - c.top) * e
                };
                c.prototype.processInteractive = function(a, b, d, c, e) {
                    if (!b || !b.visible) return !1;
                    e = b.interactive || e;
                    var f = !1,
                        g = e;
                    b.hitArea && (g = !1);
                    c && b._mask && (b._mask.containsPoint(a) || (c = !1));
                    c && b.filterArea && (b.filterArea.contains(a.x, a.y) || (c = !1));
                    if (b.interactiveChildren && b.children)
                        for (var m = b.children, h = m.length - 1; 0 <= h; h--) {
                            var n = m[h];
                            this.processInteractive(a,
                                n, d, c, g) && n.parent && (f = !0, c = g = !1)
                        }
                    e && (c && !f && (b.hitArea ? (b.worldTransform.applyInverse(a, this._tempPoint), f = b.hitArea.contains(this._tempPoint.x, this._tempPoint.y)) : b.containsPoint && (f = b.containsPoint(a))), b.interactive && (f && !this.eventData.target && (this.eventData.target = b, this.mouse.target = b, this.pointer.target = b), d(b, f)));
                    return f
                };
                c.prototype.onMouseDown = function(a) {
                    this.mouse.originalEvent = a;
                    this.eventData.data = this.mouse;
                    this.eventData._reset();
                    this.mapPositionToPoint(this.mouse.global, a.clientX,
                        a.clientY);
                    this.autoPreventDefault && this.mouse.originalEvent.preventDefault();
                    this.processInteractive(this.mouse.global, this.renderer._lastObjectRendered, this.processMouseDown, !0);
                    this.emit(2 === a.button || 3 === a.which ? "rightdown" : "mousedown", this.eventData)
                };
                c.prototype.processMouseDown = function(a, b) {
                    var d = this.mouse.originalEvent,
                        d = 2 === d.button || 3 === d.which;
                    b && (a[d ? "_isRightDown" : "_isLeftDown"] = !0, this.dispatchEvent(a, d ? "rightdown" : "mousedown", this.eventData))
                };
                c.prototype.onMouseUp = function(a) {
                    this.mouse.originalEvent =
                        a;
                    this.eventData.data = this.mouse;
                    this.eventData._reset();
                    this.mapPositionToPoint(this.mouse.global, a.clientX, a.clientY);
                    this.processInteractive(this.mouse.global, this.renderer._lastObjectRendered, this.processMouseUp, !0);
                    this.emit(2 === a.button || 3 === a.which ? "rightup" : "mouseup", this.eventData)
                };
                c.prototype.processMouseUp = function(a, b) {
                    var d = this.mouse.originalEvent,
                        c = (d = 2 === d.button || 3 === d.which) ? "_isRightDown" : "_isLeftDown";
                    b ? (this.dispatchEvent(a, d ? "rightup" : "mouseup", this.eventData), a[c] && (a[c] = !1,
                        this.dispatchEvent(a, d ? "rightclick" : "click", this.eventData))) : a[c] && (a[c] = !1, this.dispatchEvent(a, d ? "rightupoutside" : "mouseupoutside", this.eventData))
                };
                c.prototype.onMouseMove = function(a) {
                    this.mouse.originalEvent = a;
                    this.eventData.data = this.mouse;
                    this.eventData._reset();
                    this.mapPositionToPoint(this.mouse.global, a.clientX, a.clientY);
                    this.didMove = !0;
                    this.cursor = this.defaultCursorStyle;
                    this.processInteractive(this.mouse.global, this.renderer._lastObjectRendered, this.processMouseMove, !0);
                    this.emit("mousemove",
                        this.eventData);
                    this.currentCursorStyle !== this.cursor && (this.currentCursorStyle = this.cursor, this.interactionDOMElement.style.cursor = this.cursor)
                };
                c.prototype.processMouseMove = function(a, b) {
                    this.processMouseOverOut(a, b);
                    this.moveWhenInside && !b || this.dispatchEvent(a, "mousemove", this.eventData)
                };
                c.prototype.onMouseOut = function(a) {
                    this.mouseOverRenderer = !1;
                    this.mouse.originalEvent = a;
                    this.eventData.data = this.mouse;
                    this.eventData._reset();
                    this.mapPositionToPoint(this.mouse.global, a.clientX, a.clientY);
                    this.interactionDOMElement.style.cursor =
                        this.defaultCursorStyle;
                    this.mapPositionToPoint(this.mouse.global, a.clientX, a.clientY);
                    this.processInteractive(this.mouse.global, this.renderer._lastObjectRendered, this.processMouseOverOut, !1);
                    this.emit("mouseout", this.eventData)
                };
                c.prototype.processMouseOverOut = function(a, b) {
                    b && this.mouseOverRenderer ? (a._mouseOver || (a._mouseOver = !0, this.dispatchEvent(a, "mouseover", this.eventData)), a.buttonMode && (this.cursor = a.defaultCursor)) : a._mouseOver && (a._mouseOver = !1, this.dispatchEvent(a, "mouseout", this.eventData))
                };
                c.prototype.onMouseOver = function(a) {
                    this.mouseOverRenderer = !0;
                    this.mouse.originalEvent = a;
                    this.eventData.data = this.mouse;
                    this.eventData._reset();
                    this.emit("mouseover", this.eventData)
                };
                c.prototype.onPointerDown = function(a) {
                    this.normalizeToPointerData(a);
                    this.pointer.originalEvent = a;
                    this.eventData.data = this.pointer;
                    this.eventData._reset();
                    this.mapPositionToPoint(this.pointer.global, a.clientX, a.clientY);
                    this.autoPreventDefault && (this.normalizeMouseEvents || this.normalizeTouchEvents) && this.pointer.originalEvent.preventDefault();
                    this.processInteractive(this.pointer.global, this.renderer._lastObjectRendered, this.processPointerDown, !0);
                    this.emit("pointerdown", this.eventData)
                };
                c.prototype.processPointerDown = function(a, b) {
                    b && (a._pointerDown = !0, this.dispatchEvent(a, "pointerdown", this.eventData))
                };
                c.prototype.onPointerUp = function(a) {
                    this.normalizeToPointerData(a);
                    this.pointer.originalEvent = a;
                    this.eventData.data = this.pointer;
                    this.eventData._reset();
                    this.mapPositionToPoint(this.pointer.global, a.clientX, a.clientY);
                    this.processInteractive(this.pointer.global,
                        this.renderer._lastObjectRendered, this.processPointerUp, !0);
                    this.emit("pointerup", this.eventData)
                };
                c.prototype.processPointerUp = function(a, b) {
                    b ? (this.dispatchEvent(a, "pointerup", this.eventData), a._pointerDown && (a._pointerDown = !1, this.dispatchEvent(a, "pointertap", this.eventData))) : a._pointerDown && (a._pointerDown = !1, this.dispatchEvent(a, "pointerupoutside", this.eventData))
                };
                c.prototype.onPointerMove = function(a) {
                    this.normalizeToPointerData(a);
                    this.pointer.originalEvent = a;
                    this.eventData.data = this.pointer;
                    this.eventData._reset();
                    this.mapPositionToPoint(this.pointer.global, a.clientX, a.clientY);
                    this.processInteractive(this.pointer.global, this.renderer._lastObjectRendered, this.processPointerMove, !0);
                    this.emit("pointermove", this.eventData)
                };
                c.prototype.processPointerMove = function(a, b) {
                    this.pointer.originalEvent.changedTouches || this.processPointerOverOut(a, b);
                    this.moveWhenInside && !b || this.dispatchEvent(a, "pointermove", this.eventData)
                };
                c.prototype.onPointerOut = function(a) {
                    this.normalizeToPointerData(a);
                    this.pointer.originalEvent = a;
                    this.eventData.data = this.pointer;
                    this.eventData._reset();
                    this.mapPositionToPoint(this.pointer.global, a.clientX, a.clientY);
                    this.processInteractive(this.pointer.global, this.renderer._lastObjectRendered, this.processPointerOverOut, !1);
                    this.emit("pointerout", this.eventData)
                };
                c.prototype.processPointerOverOut = function(a, b) {
                    b && this.mouseOverRenderer ? a._pointerOver || (a._pointerOver = !0, this.dispatchEvent(a, "pointerover", this.eventData)) : a._pointerOver && (a._pointerOver = !1, this.dispatchEvent(a,
                        "pointerout", this.eventData))
                };
                c.prototype.onPointerOver = function(a) {
                    this.pointer.originalEvent = a;
                    this.eventData.data = this.pointer;
                    this.eventData._reset();
                    this.emit("pointerover", this.eventData)
                };
                c.prototype.onTouchStart = function(a) {
                    this.autoPreventDefault && a.preventDefault();
                    for (var b = a.changedTouches, d = b.length, c = 0; c < d; c++) {
                        var e = this.getTouchData(b[c]);
                        e.originalEvent = a;
                        this.eventData.data = e;
                        this.eventData._reset();
                        this.processInteractive(e.global, this.renderer._lastObjectRendered, this.processTouchStart,
                            !0);
                        this.emit("touchstart", this.eventData);
                        this.returnTouchData(e)
                    }
                };
                c.prototype.processTouchStart = function(a, b) {
                    b && (a._touchDown = !0, this.dispatchEvent(a, "touchstart", this.eventData))
                };
                c.prototype.onTouchEnd = function(a) {
                    this.autoPreventDefault && a.preventDefault();
                    for (var b = a.changedTouches, d = b.length, c = 0; c < d; c++) {
                        var e = this.getTouchData(b[c]);
                        e.originalEvent = a;
                        this.eventData.data = e;
                        this.eventData._reset();
                        this.processInteractive(e.global, this.renderer._lastObjectRendered, this.processTouchEnd, !0);
                        this.emit("touchend", this.eventData);
                        this.returnTouchData(e)
                    }
                };
                c.prototype.processTouchEnd = function(a, b) {
                    b ? (this.dispatchEvent(a, "touchend", this.eventData), a._touchDown && (a._touchDown = !1, this.dispatchEvent(a, "tap", this.eventData))) : a._touchDown && (a._touchDown = !1, this.dispatchEvent(a, "touchendoutside", this.eventData))
                };
                c.prototype.onTouchMove = function(a) {
                    this.autoPreventDefault && a.preventDefault();
                    for (var b = a.changedTouches, d = b.length, c = 0; c < d; c++) {
                        var e = this.getTouchData(b[c]);
                        e.originalEvent = a;
                        this.eventData.data =
                            e;
                        this.eventData._reset();
                        this.processInteractive(e.global, this.renderer._lastObjectRendered, this.processTouchMove, this.moveWhenInside);
                        this.emit("touchmove", this.eventData);
                        this.returnTouchData(e)
                    }
                };
                c.prototype.processTouchMove = function(a, b) {
                    this.moveWhenInside && !b || this.dispatchEvent(a, "touchmove", this.eventData)
                };
                c.prototype.getTouchData = function(a) {
                    var b = this.interactiveDataPool.pop() || new f["default"];
                    b.identifier = a.identifier;
                    this.mapPositionToPoint(b.global, a.clientX, a.clientY);
                    navigator.isCocoonJS &&
                        (b.global.x /= this.resolution, b.global.y /= this.resolution);
                    a.globalX = b.global.x;
                    a.globalY = b.global.y;
                    return b
                };
                c.prototype.returnTouchData = function(a) {
                    this.interactiveDataPool.push(a)
                };
                c.prototype.normalizeToPointerData = function(a) {
                    this.normalizeTouchEvents && a.changedTouches ? ("undefined" === typeof a.button && (a.button = a.touches.length ? 1 : 0), "undefined" === typeof a.buttons && (a.buttons = a.touches.length ? 1 : 0), "undefined" === typeof a.isPrimary && (a.isPrimary = 1 === a.touches.length), "undefined" === typeof a.width &&
                        (a.width = a.changedTouches[0].radiusX || 1), "undefined" === typeof a.height && (a.height = a.changedTouches[0].radiusY || 1), "undefined" === typeof a.tiltX && (a.tiltX = 0), "undefined" === typeof a.tiltY && (a.tiltY = 0), "undefined" === typeof a.pointerType && (a.pointerType = "touch"), "undefined" === typeof a.pointerId && (a.pointerId = a.changedTouches[0].identifier || 0), "undefined" === typeof a.pressure && (a.pressure = a.changedTouches[0].force || .5), "undefined" === typeof a.rotation && (a.rotation = a.changedTouches[0].rotationAngle || 0), "undefined" ===
                        typeof a.clientX && (a.clientX = a.changedTouches[0].clientX), "undefined" === typeof a.clientY && (a.clientY = a.changedTouches[0].clientY), "undefined" === typeof a.pageX && (a.pageX = a.changedTouches[0].pageX), "undefined" === typeof a.pageY && (a.pageY = a.changedTouches[0].pageY), "undefined" === typeof a.screenX && (a.screenX = a.changedTouches[0].screenX), "undefined" === typeof a.screenY && (a.screenY = a.changedTouches[0].screenY), "undefined" === typeof a.layerX && (a.layerX = a.offsetX = a.clientX), "undefined" === typeof a.layerY && (a.layerY =
                            a.offsetY = a.clientY)) : this.normalizeMouseEvents && ("undefined" === typeof a.isPrimary && (a.isPrimary = !0), "undefined" === typeof a.width && (a.width = 1), "undefined" === typeof a.height && (a.height = 1), "undefined" === typeof a.tiltX && (a.tiltX = 0), "undefined" === typeof a.tiltY && (a.tiltY = 0), "undefined" === typeof a.pointerType && (a.pointerType = "mouse"), "undefined" === typeof a.pointerId && (a.pointerId = 1), "undefined" === typeof a.pressure && (a.pressure = .5), "undefined" === typeof a.rotation && (a.rotation = 0))
                };
                c.prototype.destroy = function() {
                    this.removeEvents();
                    this.removeAllListeners();
                    this._tempPoint = this.processTouchMove = this.onTouchMove = this.processTouchEnd = this.onTouchEnd = this.processTouchStart = this.onTouchStart = this.onPointerOver = this.processPointerOverOut = this.onPointerOut = this.processPointerMove = this.onPointerMove = this.processPointerUp = this.onPointerUp = this.processPointerDown = this.onPointerDown = this.onMouseOver = this.processMouseOverOut = this.onMouseOut = this.processMouseMove = this.onMouseMove = this.processMouseUp = this.onMouseUp = this.processMouseDown =
                        this.onMouseDown = this.interactionDOMElement = this.interactiveDataPool = this.eventData = this.mouse = this.renderer = null
                };
                return c
            }(c["default"]);
            g["default"] = a;
            m.WebGLRenderer.registerPlugin("interaction", a);
            m.CanvasRenderer.registerPlugin("interaction", a)
        }, {
            "../core": 63,
            "./InteractionData": 147,
            "./InteractionEvent": 148,
            "./interactiveTarget": 151,
            eventemitter3: 3,
            ismobilejs: 4
        }],
        150: [function(a, c, g) {
            function h(a) {
                return a && a.__esModule ? a : {
                    "default": a
                }
            }
            g.__esModule = !0;
            var n = a("./InteractionData");
            Object.defineProperty(g,
                "InteractionData", {
                    enumerable: !0,
                    get: function() {
                        return h(n)["default"]
                    }
                });
            var m = a("./InteractionManager");
            Object.defineProperty(g, "InteractionManager", {
                enumerable: !0,
                get: function() {
                    return h(m)["default"]
                }
            });
            var f = a("./interactiveTarget");
            Object.defineProperty(g, "interactiveTarget", {
                enumerable: !0,
                get: function() {
                    return h(f)["default"]
                }
            })
        }, {
            "./InteractionData": 147,
            "./InteractionManager": 149,
            "./interactiveTarget": 151
        }],
        151: [function(a, c, g) {
            g.__esModule = !0;
            g["default"] = {
                interactive: !1,
                interactiveChildren: !0,
                hitArea: null,
                buttonMode: !1,
                defaultCursor: "pointer",
                _over: !1,
                _isLeftDown: !1,
                _isRightDown: !1,
                _pointerOver: !1,
                _pointerDown: !1,
                _touchDown: !1
            }
        }, {}],
        152: [function(a, c, g) {
            function h(a, b) {
                var c = {},
                    e = a.data.getElementsByTagName("info")[0],
                    f = a.data.getElementsByTagName("common")[0];
                c.font = e.getAttribute("face");
                c.size = parseInt(e.getAttribute("size"), 10);
                c.lineHeight = parseInt(f.getAttribute("lineHeight"), 10);
                c.chars = {};
                e = a.data.getElementsByTagName("char");
                for (f = 0; f < e.length; f++) {
                    var g = parseInt(e[f].getAttribute("id"),
                            10),
                        h = new m.Rectangle(parseInt(e[f].getAttribute("x"), 10) + b.frame.x, parseInt(e[f].getAttribute("y"), 10) + b.frame.y, parseInt(e[f].getAttribute("width"), 10), parseInt(e[f].getAttribute("height"), 10));
                    c.chars[g] = {
                        xOffset: parseInt(e[f].getAttribute("xoffset"), 10),
                        yOffset: parseInt(e[f].getAttribute("yoffset"), 10),
                        xAdvance: parseInt(e[f].getAttribute("xadvance"), 10),
                        kerning: {},
                        texture: new m.Texture(b.baseTexture, h)
                    }
                }
                e = a.data.getElementsByTagName("kerning");
                for (f = 0; f < e.length; f++) {
                    var g = parseInt(e[f].getAttribute("first"),
                            10),
                        h = parseInt(e[f].getAttribute("second"), 10),
                        n = parseInt(e[f].getAttribute("amount"), 10);
                    c.chars[h] && (c.chars[h].kerning[g] = n)
                }
                a.bitmapFont = c;
                d.BitmapText.fonts[c.font] = c
            }
            g.__esModule = !0;
            g.parse = h;
            g["default"] = function() {
                return function(a, b) {
                    if (a.data && a.type === f.Resource.TYPE.XML)
                        if (0 === a.data.getElementsByTagName("page").length || 0 === a.data.getElementsByTagName("info").length || null === a.data.getElementsByTagName("info")[0].getAttribute("face")) b();
                        else {
                            var d = a.isDataUrl ? "" : n.dirname(a.url);
                            a.isDataUrl &&
                                ("." === d && (d = ""), this.baseUrl && d && ("/" === this.baseUrl.charAt(this.baseUrl.length - 1) && (d += "/"), d = d.replace(this.baseUrl, "")));
                            d && "/" !== d.charAt(d.length - 1) && (d += "/");
                            d += a.data.getElementsByTagName("page")[0].getAttribute("file");
                            m.utils.TextureCache[d] ? (h(a, m.utils.TextureCache[d]), b()) : this.add(a.name + "_image", d, {
                                crossOrigin: a.crossOrigin,
                                loadType: f.Resource.LOAD_TYPE.IMAGE,
                                metadata: a.metadata.imageMetadata,
                                parentResource: a
                            }, function(d) {
                                h(a, d.texture);
                                b()
                            })
                        }
                    else b()
                }
            };
            var n = function(a) {
                    if (a && a.__esModule) return a;
                    var b = {};
                    if (null != a)
                        for (var d in a) Object.prototype.hasOwnProperty.call(a, d) && (b[d] = a[d]);
                    b["default"] = a;
                    return b
                }(a("path")),
                m = a("../core"),
                f = a("resource-loader"),
                d = a("../extras")
        }, {
            "../core": 63,
            "../extras": 133,
            path: 22,
            "resource-loader": 34
        }],
        153: [function(a, c, g) {
                function h(a) {
                    return a && a.__esModule ? a : {
                        "default": a
                    }
                }
                g.__esModule = !0;
                var n = a("./loader");
                Object.defineProperty(g, "Loader", {
                    enumerable: !0,
                    get: function() {
                        return h(n)["default"]
                    }
                });
                var m = a("./bitmapFontParser");
                Object.defineProperty(g, "bitmapFontParser", {
                    enumerable: !0,
                    get: function() {
                        return h(m)["default"]
                    }
                });
                Object.defineProperty(g, "parseBitmapFontData", {
                    enumerable: !0,
                    get: function() {
                        return m.parse
                    }
                });
                var f = a("./spritesheetParser");
                Object.defineProperty(g, "spritesheetParser", {
                    enumerable: !0,
                    get: function() {
                        return h(f)["default"]
                    }
                });
                var d = a("./textureParser");
                Object.defineProperty(g, "textureParser", {
                    enumerable: !0,
                    get: function() {
                        return h(d)["default"]
                    }
                });
                var e = a("resource-loader");
                Object.defineProperty(g, "Resource", {
                    enumerable: !0,
                    get: function() {
                        return e.Resource
                    }
                })
            },
            {
                "./bitmapFontParser": 152,
                "./loader": 154,
                "./spritesheetParser": 155,
                "./textureParser": 156,
                "resource-loader": 34
            }
        ],
        154: [function(a, c, g) {
            function h(a) {
                return a && a.__esModule ? a : {
                    "default": a
                }
            }

            function n(a, b) {
                if (!a) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return !b || "object" !== typeof b && "function" !== typeof b ? a : b
            }

            function m(a, b) {
                if ("function" !== typeof b && null !== b) throw new TypeError("Super expression must either be null or a function, not " + typeof b);
                a.prototype =
                    Object.create(b && b.prototype, {
                        constructor: {
                            value: a,
                            enumerable: !1,
                            writable: !0,
                            configurable: !0
                        }
                    });
                b && (Object.setPrototypeOf ? Object.setPrototypeOf(a, b) : a.__proto__ = b)
            }
            g.__esModule = !0;
            c = a("resource-loader");
            c = h(c);
            var f = a("resource-loader/lib/middlewares/parsing/blob"),
                d = a("eventemitter3"),
                e = h(d),
                d = a("./textureParser"),
                d = h(d),
                b = a("./spritesheetParser"),
                b = h(b);
            a = a("./bitmapFontParser");
            a = h(a);
            var p = function(a) {
                function b(d, c) {
                    if (!(this instanceof b)) throw new TypeError("Cannot call a class as a function");
                    var f = n(this, a.call(this, d, c));
                    e["default"].call(f);
                    for (var g = 0; g < b._pixiMiddleware.length; ++g) f.use(b._pixiMiddleware[g]());
                    f.onStart.add(function(a) {
                        return f.emit("start", a)
                    });
                    f.onProgress.add(function(a, b) {
                        return f.emit("progress", a, b)
                    });
                    f.onError.add(function(a, b, d) {
                        return f.emit("error", a, b, d)
                    });
                    f.onLoad.add(function(a, b) {
                        return f.emit("load", a, b)
                    });
                    f.onComplete.add(function(a, b) {
                        return f.emit("complete", a, b)
                    });
                    return f
                }
                m(b, a);
                b.addPixiMiddleware = function(a) {
                    b._pixiMiddleware.push(a)
                };
                return b
            }(c["default"]);
            g["default"] = p;
            for (var u in e["default"].prototype) p.prototype[u] = e["default"].prototype[u];
            p._pixiMiddleware = [f.blobMiddlewareFactory, d["default"], b["default"], a["default"]];
            g = c["default"].Resource;
            g.setExtensionXhrType("fnt", g.XHR_RESPONSE_TYPE.DOCUMENT)
        }, {
            "./bitmapFontParser": 152,
            "./spritesheetParser": 155,
            "./textureParser": 156,
            eventemitter3: 3,
            "resource-loader": 34,
            "resource-loader/lib/middlewares/parsing/blob": 35
        }],
        155: [function(a, c, g) {
            g.__esModule = !0;
            g["default"] = function() {
                return function(a, c) {
                    var b =
                        void 0,
                        d = a.name + "_image";
                    if (a.data && a.type === h.Resource.TYPE.JSON && a.data.frames && !this.resources[d]) {
                        var e = {
                                crossOrigin: a.crossOrigin,
                                loadType: h.Resource.LOAD_TYPE.IMAGE,
                                metadata: a.metadata.imageMetadata,
                                parentResource: a
                            },
                            b = a.isDataUrl ? a.data.meta.image : n["default"].dirname(a.url.replace(this.baseUrl, "")) + "/" + a.data.meta.image;
                        this.add(d, b, e, function(b) {
                            function d(b, d) {
                                for (var c = b; c - b < d && c < n.length;) {
                                    var e = n[c],
                                        f = h[e].frame;
                                    if (f) {
                                        var g, u = null,
                                            x = new m.Rectangle(0, 0, h[e].sourceSize.w / q, h[e].sourceSize.h /
                                                q);
                                        g = h[e].rotated ? new m.Rectangle(f.x / q, f.y / q, f.h / q, f.w / q) : new m.Rectangle(f.x / q, f.y / q, f.w / q, f.h / q);
                                        h[e].trimmed && (u = new m.Rectangle(h[e].spriteSourceSize.x / q, h[e].spriteSourceSize.y / q, f.w / q, f.h / q));
                                        a.textures[e] = new m.Texture(p, g, x, u, h[e].rotated ? 2 : 0);
                                        m.utils.TextureCache[e] = a.textures[e]
                                    }
                                    c++
                                }
                            }

                            function e(a) {
                                d(u * f, f);
                                u++;
                                setTimeout(a, 0)
                            }

                            function g() {
                                e(function() {
                                    u * f < n.length ? g() : c()
                                })
                            }
                            a.textures = {};
                            var h = a.data.frames,
                                n = Object.keys(h),
                                p = b.texture.baseTexture;
                            b = a.data.meta.scale;
                            var q = m.utils.getResolutionOfUrl(a.url,
                                null);
                            null === q && (q = void 0 !== b ? b : 1);
                            1 !== q && (p.resolution = q, p.update());
                            var u = 0;
                            n.length <= f ? (d(0, f), c()) : g()
                        })
                    } else c()
                }
            };
            var h = a("resource-loader"),
                n = (c = a("path")) && c.__esModule ? c : {
                    "default": c
                },
                m = function(a) {
                    if (a && a.__esModule) return a;
                    var d = {};
                    if (null != a)
                        for (var b in a) Object.prototype.hasOwnProperty.call(a, b) && (d[b] = a[b]);
                    d["default"] = a;
                    return d
                }(a("../core")),
                f = 1E3
        }, {
            "../core": 63,
            path: 22,
            "resource-loader": 34
        }],
        156: [function(a, c, g) {
                g.__esModule = !0;
                g["default"] = function() {
                    return function(a, c) {
                        if (a.data &&
                            a.type === n.Resource.TYPE.IMAGE) {
                            var d = new h.BaseTexture(a.data, null, h.utils.getResolutionOfUrl(a.url));
                            d.imageUrl = a.url;
                            a.texture = new h.Texture(d);
                            h.utils.BaseTextureCache[a.name] = d;
                            h.utils.TextureCache[a.name] = a.texture;
                            a.name !== a.url && (h.utils.BaseTextureCache[a.url] = d, h.utils.TextureCache[a.url] = a.texture)
                        }
                        c()
                    }
                };
                var h = function(a) {
                        if (a && a.__esModule) return a;
                        var c = {};
                        if (null != a)
                            for (var d in a) Object.prototype.hasOwnProperty.call(a, d) && (c[d] = a[d]);
                        c["default"] = a;
                        return c
                    }(a("../core")),
                    n = a("resource-loader")
            },
            {
                "../core": 63,
                "resource-loader": 34
            }
        ],
        157: [function(a, c, g) {
            function h(a, b) {
                if ("function" !== typeof b && null !== b) throw new TypeError("Super expression must either be null or a function, not " + typeof b);
                a.prototype = Object.create(b && b.prototype, {
                    constructor: {
                        value: a,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                });
                b && (Object.setPrototypeOf ? Object.setPrototypeOf(a, b) : a.__proto__ = b)
            }
            g.__esModule = !0;
            var n = function() {
                    function a(a, d) {
                        for (var b = 0; b < d.length; b++) {
                            var c = d[b];
                            c.enumerable = c.enumerable || !1;
                            c.configurable = !0;
                            "value" in c && (c.writable = !0);
                            Object.defineProperty(a, c.key, c)
                        }
                    }
                    return function(b, d, c) {
                        d && a(b.prototype, d);
                        c && a(b, c);
                        return b
                    }
                }(),
                m = function(a) {
                    if (a && a.__esModule) return a;
                    var b = {};
                    if (null != a)
                        for (var d in a) Object.prototype.hasOwnProperty.call(a, d) && (b[d] = a[d]);
                    b["default"] = a;
                    return b
                }(a("../core")),
                f = new m.Point,
                d = new m.Polygon;
            a = function(a) {
                function b(d, c, e, f, g) {
                    if (!(this instanceof b)) throw new TypeError("Cannot call a class as a function");
                    var h;
                    h = a.call(this);
                    if (!this) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                    h = !h || "object" !== typeof h && "function" !== typeof h ? this : h;
                    h._texture = null;
                    h.uvs = e || new Float32Array([0, 0, 1, 0, 1, 1, 0, 1]);
                    h.vertices = c || new Float32Array([0, 0, 100, 0, 100, 100, 0, 100]);
                    h.indices = f || new Uint16Array([0, 1, 3, 2]);
                    h.dirty = 0;
                    h.indexDirty = 0;
                    h.blendMode = m.BLEND_MODES.NORMAL;
                    h.canvasPadding = 0;
                    h.drawMode = g || b.DRAW_MODES.TRIANGLE_MESH;
                    h.texture = d;
                    h.shader = null;
                    h.tintRgb = new Float32Array([1, 1, 1]);
                    h._glDatas = {};
                    h.pluginName = "mesh";
                    return h
                }
                h(b, a);
                b.prototype._renderWebGL = function(a) {
                    a.setObjectRenderer(a.plugins[this.pluginName]);
                    a.plugins[this.pluginName].render(this)
                };
                b.prototype._renderCanvas = function(a) {
                    a.plugins[this.pluginName].render(this)
                };
                b.prototype._onTextureUpdate = function() {};
                b.prototype._calculateBounds = function() {
                    this._bounds.addVertices(this.transform, this.vertices, 0, this.vertices.length)
                };
                b.prototype.containsPoint = function(a) {
                    if (!this.getBounds().contains(a.x, a.y)) return !1;
                    this.worldTransform.applyInverse(a, f);
                    a = this.vertices;
                    for (var c = d.points, e = this.indices, g = this.indices.length, h = this.drawMode === b.DRAW_MODES.TRIANGLES ?
                            3 : 1, m = 0; m + 2 < g; m += h) {
                        var n = 2 * e[m],
                            p = 2 * e[m + 1],
                            z = 2 * e[m + 2];
                        c[0] = a[n];
                        c[1] = a[n + 1];
                        c[2] = a[p];
                        c[3] = a[p + 1];
                        c[4] = a[z];
                        c[5] = a[z + 1];
                        if (d.contains(f.x, f.y)) return !0
                    }
                    return !1
                };
                n(b, [{
                    key: "texture",
                    get: function() {
                        return this._texture
                    },
                    set: function(a) {
                        if (this._texture !== a && (this._texture = a))
                            if (a.baseTexture.hasLoaded) this._onTextureUpdate();
                            else a.once("update", this._onTextureUpdate, this)
                    }
                }, {
                    key: "tint",
                    get: function() {
                        return m.utils.rgb2hex(this.tintRgb)
                    },
                    set: function(a) {
                        this.tintRgb = m.utils.hex2rgb(a, this.tintRgb)
                    }
                }]);
                return b
            }(m.Container);
            g["default"] = a;
            a.DRAW_MODES = {
                TRIANGLE_MESH: 0,
                TRIANGLES: 1
            }
        }, {
            "../core": 63
        }],
        158: [function(a, c, g) {
            function h(a, c) {
                if ("function" !== typeof c && null !== c) throw new TypeError("Super expression must either be null or a function, not " + typeof c);
                a.prototype = Object.create(c && c.prototype, {
                    constructor: {
                        value: a,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                });
                c && (Object.setPrototypeOf ? Object.setPrototypeOf(a, c) : a.__proto__ = c)
            }
            g.__esModule = !0;
            var n = function() {
                function a(a, d) {
                    for (var c = 0; c < d.length; c++) {
                        var b =
                            d[c];
                        b.enumerable = b.enumerable || !1;
                        b.configurable = !0;
                        "value" in b && (b.writable = !0);
                        Object.defineProperty(a, b.key, b)
                    }
                }
                return function(c, d, e) {
                    d && a(c.prototype, d);
                    e && a(c, e);
                    return c
                }
            }();
            a = a("./Plane");
            a = function(a) {
                function c(d, e, b, f, g) {
                    if (!(this instanceof c)) throw new TypeError("Cannot call a class as a function");
                    var h;
                    h = a.call(this, d, 4, 4);
                    if (!this) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                    h = !h || "object" !== typeof h && "function" !== typeof h ? this : h;
                    var m = h.uvs;
                    m[6] = m[14] = m[22] = m[30] = 1;
                    m[25] = m[27] = m[29] = m[31] = 1;
                    h._origWidth = d.width;
                    h._origHeight = d.height;
                    h._uvw = 1 / h._origWidth;
                    h._uvh = 1 / h._origHeight;
                    h.width = d.width;
                    h.height = d.height;
                    m[2] = m[10] = m[18] = m[26] = h._uvw * e;
                    m[4] = m[12] = m[20] = m[28] = 1 - h._uvw * f;
                    m[9] = m[11] = m[13] = m[15] = h._uvh * b;
                    m[17] = m[19] = m[21] = m[23] = 1 - h._uvh * g;
                    h.leftWidth = "undefined" !== typeof e ? e : 10;
                    h.rightWidth = "undefined" !== typeof f ? f : 10;
                    h.topHeight = "undefined" !== typeof b ? b : 10;
                    h.bottomHeight = "undefined" !== typeof g ? g : 10;
                    return h
                }
                h(c, a);
                c.prototype.updateHorizontalVertices =
                    function() {
                        var a = this.vertices;
                        a[9] = a[11] = a[13] = a[15] = this._topHeight;
                        a[17] = a[19] = a[21] = a[23] = this._height - this._bottomHeight;
                        a[25] = a[27] = a[29] = a[31] = this._height
                    };
                c.prototype.updateVerticalVertices = function() {
                    var a = this.vertices;
                    a[2] = a[10] = a[18] = a[26] = this._leftWidth;
                    a[4] = a[12] = a[20] = a[28] = this._width - this._rightWidth;
                    a[6] = a[14] = a[22] = a[30] = this._width
                };
                c.prototype._renderCanvas = function(a) {
                    var d = a.context;
                    d.globalAlpha = this.worldAlpha;
                    var b = this.worldTransform,
                        c = a.resolution;
                    a.roundPixels ? d.setTransform(b.a *
                        c, b.b * c, b.c * c, b.d * c, b.tx * c | 0, b.ty * c | 0) : d.setTransform(b.a * c, b.b * c, b.c * c, b.d * c, b.tx * c, b.ty * c);
                    c = this._texture.baseTexture;
                    a = c.source;
                    b = c.width;
                    c = c.height;
                    this.drawSegment(d, a, b, c, 0, 1, 10, 11);
                    this.drawSegment(d, a, b, c, 2, 3, 12, 13);
                    this.drawSegment(d, a, b, c, 4, 5, 14, 15);
                    this.drawSegment(d, a, b, c, 8, 9, 18, 19);
                    this.drawSegment(d, a, b, c, 10, 11, 20, 21);
                    this.drawSegment(d, a, b, c, 12, 13, 22, 23);
                    this.drawSegment(d, a, b, c, 16, 17, 26, 27);
                    this.drawSegment(d, a, b, c, 18, 19, 28, 29);
                    this.drawSegment(d, a, b, c, 20, 21, 30, 31)
                };
                c.prototype.drawSegment =
                    function(a, c, b, f, g, h, m, n) {
                        var d = this.uvs,
                            e = this.vertices,
                            p = (d[m] - d[g]) * b,
                            q = (d[n] - d[h]) * f;
                        m = e[m] - e[g];
                        n = e[n] - e[h];
                        1 > p && (p = 1);
                        1 > q && (q = 1);
                        1 > m && (m = 1);
                        1 > n && (n = 1);
                        a.drawImage(c, d[g] * b, d[h] * f, p, q, e[g], e[h], m, n)
                    };
                n(c, [{
                    key: "width",
                    get: function() {
                        return this._width
                    },
                    set: function(a) {
                        this._width = a;
                        this.updateVerticalVertices()
                    }
                }, {
                    key: "height",
                    get: function() {
                        return this._height
                    },
                    set: function(a) {
                        this._height = a;
                        this.updateHorizontalVertices()
                    }
                }, {
                    key: "leftWidth",
                    get: function() {
                        return this._leftWidth
                    },
                    set: function(a) {
                        this._leftWidth =
                            a;
                        var d = this.uvs,
                            b = this.vertices;
                        d[2] = d[10] = d[18] = d[26] = this._uvw * a;
                        b[2] = b[10] = b[18] = b[26] = a;
                        this.dirty = !0
                    }
                }, {
                    key: "rightWidth",
                    get: function() {
                        return this._rightWidth
                    },
                    set: function(a) {
                        this._rightWidth = a;
                        var d = this.uvs,
                            b = this.vertices;
                        d[4] = d[12] = d[20] = d[28] = 1 - this._uvw * a;
                        b[4] = b[12] = b[20] = b[28] = this._width - a;
                        this.dirty = !0
                    }
                }, {
                    key: "topHeight",
                    get: function() {
                        return this._topHeight
                    },
                    set: function(a) {
                        this._topHeight = a;
                        var d = this.uvs,
                            b = this.vertices;
                        d[9] = d[11] = d[13] = d[15] = this._uvh * a;
                        b[9] = b[11] = b[13] = b[15] =
                            a;
                        this.dirty = !0
                    }
                }, {
                    key: "bottomHeight",
                    get: function() {
                        return this._bottomHeight
                    },
                    set: function(a) {
                        this._bottomHeight = a;
                        var d = this.uvs,
                            b = this.vertices;
                        d[17] = d[19] = d[21] = d[23] = 1 - this._uvh * a;
                        b[17] = b[19] = b[21] = b[23] = this._height - a;
                        this.dirty = !0
                    }
                }]);
                return c
            }((a && a.__esModule ? a : {
                "default": a
            })["default"]);
            g["default"] = a
        }, {
            "./Plane": 159
        }],
        159: [function(a, c, g) {
            function h(a, c) {
                if ("function" !== typeof c && null !== c) throw new TypeError("Super expression must either be null or a function, not " + typeof c);
                a.prototype =
                    Object.create(c && c.prototype, {
                        constructor: {
                            value: a,
                            enumerable: !1,
                            writable: !0,
                            configurable: !0
                        }
                    });
                c && (Object.setPrototypeOf ? Object.setPrototypeOf(a, c) : a.__proto__ = c)
            }
            g.__esModule = !0;
            var n = (a = a("./Mesh")) && a.__esModule ? a : {
                "default": a
            };
            a = function(a) {
                function c(d, e, b) {
                    if (!(this instanceof c)) throw new TypeError("Cannot call a class as a function");
                    d = a.call(this, d);
                    if (!this) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                    d = !d || "object" !== typeof d && "function" !== typeof d ?
                        this : d;
                    d._ready = !0;
                    d.verticesX = e || 10;
                    d.verticesY = b || 10;
                    d.drawMode = n["default"].DRAW_MODES.TRIANGLES;
                    d.refresh();
                    return d
                }
                h(c, a);
                c.prototype.refresh = function() {
                    for (var a = this.verticesX * this.verticesY, c = [], b = [], f = [], g = this.texture, h = this.verticesX - 1, m = this.verticesY - 1, n = g.width / h, w = g.height / m, v = 0; v < a; v++)
                        if (g._uvs) {
                            var t = v % this.verticesX,
                                z = v / this.verticesX | 0;
                            c.push(t * n, z * w);
                            b.push(g._uvs.x0 + t / (this.verticesX - 1) * (g._uvs.x1 - g._uvs.x0), g._uvs.y0 + z / (this.verticesY - 1) * (g._uvs.y3 - g._uvs.y0))
                        } else b.push(0);
                    a = h * m;
                    for (g = 0; g < a; g++) m = g % h, n = g / h | 0, w = n * this.verticesX + m + 1, v = (n + 1) * this.verticesX + m, t = (n + 1) * this.verticesX + m + 1, f.push(n * this.verticesX + m, w, v), f.push(w, t, v);
                    this.vertices = new Float32Array(c);
                    this.uvs = new Float32Array(b);
                    this.colors = new Float32Array([]);
                    this.indices = new Uint16Array(f);
                    this.indexDirty = !0
                };
                c.prototype._onTextureUpdate = function() {
                    n["default"].prototype._onTextureUpdate.call(this);
                    this._ready && this.refresh()
                };
                return c
            }(n["default"]);
            g["default"] = a
        }, {
            "./Mesh": 157
        }],
        160: [function(a, c, g) {
            function h(a,
                c) {
                if ("function" !== typeof c && null !== c) throw new TypeError("Super expression must either be null or a function, not " + typeof c);
                a.prototype = Object.create(c && c.prototype, {
                    constructor: {
                        value: a,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                });
                c && (Object.setPrototypeOf ? Object.setPrototypeOf(a, c) : a.__proto__ = c)
            }
            g.__esModule = !0;
            c = (c = a("./Mesh")) && c.__esModule ? c : {
                "default": c
            };
            var n = function(a) {
                if (a && a.__esModule) return a;
                var c = {};
                if (null != a)
                    for (var d in a) Object.prototype.hasOwnProperty.call(a, d) && (c[d] = a[d]);
                c["default"] = a;
                return c
            }(a("../core"));
            a = function(a) {
                function c(d, e) {
                    if (!(this instanceof c)) throw new TypeError("Cannot call a class as a function");
                    var b;
                    b = a.call(this, d);
                    if (!this) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                    b = !b || "object" !== typeof b && "function" !== typeof b ? this : b;
                    b.points = e;
                    b.vertices = new Float32Array(4 * e.length);
                    b.uvs = new Float32Array(4 * e.length);
                    b.colors = new Float32Array(2 * e.length);
                    b.indices = new Uint16Array(2 * e.length);
                    b._ready = !0;
                    b.refresh();
                    return b
                }
                h(c, a);
                c.prototype.refresh = function() {
                    var a = this.points;
                    if (!(1 > a.length) && this._texture._uvs) {
                        this.vertices.length / 4 !== a.length && (this.vertices = new Float32Array(4 * a.length), this.uvs = new Float32Array(4 * a.length), this.colors = new Float32Array(2 * a.length), this.indices = new Uint16Array(2 * a.length));
                        var c = this.uvs,
                            b = this.indices,
                            f = this.colors,
                            g = this._texture._uvs,
                            h = new n.Point(g.x0, g.y0),
                            g = new n.Point(g.x2 - g.x0, Number(g.y2 - g.y0));
                        c[0] = 0 + h.x;
                        c[1] = 0 + h.y;
                        c[2] = 0 + h.x;
                        c[3] = g.y + h.y;
                        f[0] = 1;
                        f[1] = 1;
                        b[0] =
                            0;
                        b[1] = 1;
                        for (var a = a.length, m = 1; m < a; m++) {
                            var y = 4 * m,
                                w = m / (a - 1);
                            c[y] = w * g.x + h.x;
                            c[y + 1] = 0 + h.y;
                            c[y + 2] = w * g.x + h.x;
                            c[y + 3] = g.y + h.y;
                            y = 2 * m;
                            f[y] = 1;
                            f[y + 1] = 1;
                            y = 2 * m;
                            b[y] = y;
                            b[y + 1] = y + 1
                        }
                        this.dirty++;
                        this.indexDirty++
                    }
                };
                c.prototype._onTextureUpdate = function() {
                    a.prototype._onTextureUpdate.call(this);
                    this._ready && this.refresh()
                };
                c.prototype.updateTransform = function() {
                    var a = this.points;
                    if (!(1 > a.length)) {
                        for (var c = a[0], b, f, g = this.vertices, h = a.length, m = 0; m < h; m++) {
                            var n = a[m],
                                w = 4 * m;
                            b = m < a.length - 1 ? a[m + 1] : n;
                            f = -(b.x - c.x);
                            c = b.y -
                                c.y;
                            b = Math.sqrt(c * c + f * f);
                            var v = this._texture.height / 2,
                                c = c / b;
                            f /= b;
                            c *= v;
                            f *= v;
                            g[w] = n.x + c;
                            g[w + 1] = n.y + f;
                            g[w + 2] = n.x - c;
                            g[w + 3] = n.y - f;
                            c = n
                        }
                        this.containerUpdateTransform()
                    }
                };
                return c
            }(c["default"]);
            g["default"] = a
        }, {
            "../core": 63,
            "./Mesh": 157
        }],
        161: [function(a, c, g) {
            g.__esModule = !0;
            c = function(a) {
                if (a && a.__esModule) return a;
                var c = {};
                if (null != a)
                    for (var f in a) Object.prototype.hasOwnProperty.call(a, f) && (c[f] = a[f]);
                c["default"] = a;
                return c
            }(a("../../core"));
            var h = (a = a("../Mesh")) && a.__esModule ? a : {
                "default": a
            };
            a = function() {
                function a(c) {
                    if (!(this instanceof a)) throw new TypeError("Cannot call a class as a function");
                    this.renderer = c
                }
                a.prototype.render = function(a) {
                    var c = this.renderer,
                        d = c.context,
                        e = a.worldTransform,
                        b = c.resolution;
                    c.roundPixels ? d.setTransform(e.a * b, e.b * b, e.c * b, e.d * b, e.tx * b | 0, e.ty * b | 0) : d.setTransform(e.a * b, e.b * b, e.c * b, e.d * b, e.tx * b, e.ty * b);
                    c.setBlendMode(a.blendMode);
                    a.drawMode === h["default"].DRAW_MODES.TRIANGLE_MESH ? this._renderTriangleMesh(a) : this._renderTriangles(a)
                };
                a.prototype._renderTriangleMesh = function(a) {
                    for (var c = a.vertices.length /
                            2, d = 0; d < c - 2; d++) {
                        var e = 2 * d;
                        this._renderDrawTriangle(a, e, e + 2, e + 4)
                    }
                };
                a.prototype._renderTriangles = function(a) {
                    for (var c = a.indices, d = c.length, e = 0; e < d; e += 3) this._renderDrawTriangle(a, 2 * c[e], 2 * c[e + 1], 2 * c[e + 2])
                };
                a.prototype._renderDrawTriangle = function(a, c, d, e) {
                    var b = this.renderer.context,
                        f = a.uvs,
                        g = a.vertices,
                        h = a._texture;
                    if (h.valid) {
                        var h = h.baseTexture,
                            m = h.source,
                            n = h.width,
                            w = h.height,
                            v = f[c] * h.width,
                            t = f[d] * h.width,
                            z = f[e] * h.width,
                            r = f[c + 1] * h.height,
                            A = f[d + 1] * h.height,
                            f = f[e + 1] * h.height,
                            B = g[c],
                            D = g[d],
                            C = g[e];
                        c = g[c + 1];
                        d = g[d + 1];
                        e = g[e + 1];
                        if (0 < a.canvasPadding) {
                            g = a.canvasPadding / a.worldTransform.a;
                            a = a.canvasPadding / a.worldTransform.d;
                            var F = (B + D + C) / 3,
                                E = (c + d + e) / 3,
                                G = B - F,
                                I = c - E,
                                H = Math.sqrt(G * G + I * I),
                                B = F + G / H * (H + g);
                            c = E + I / H * (H + a);
                            G = D - F;
                            I = d - E;
                            H = Math.sqrt(G * G + I * I);
                            D = F + G / H * (H + g);
                            d = E + I / H * (H + a);
                            G = C - F;
                            I = e - E;
                            H = Math.sqrt(G * G + I * I);
                            C = F + G / H * (H + g);
                            e = E + I / H * (H + a)
                        }
                        b.save();
                        b.beginPath();
                        b.moveTo(B, c);
                        b.lineTo(D, d);
                        b.lineTo(C, e);
                        b.closePath();
                        b.clip();
                        a = v * A + r * z + t * f - A * z - r * t - v * f;
                        b.transform((B * A + r * C + D * f - A * C - r * D - B * f) / a, (c * A + r * e + d * f -
                            A * e - r * d - c * f) / a, (v * D + B * z + t * C - D * z - B * t - v * C) / a, (v * d + c * z + t * e - d * z - c * t - v * e) / a, (v * A * C + r * D * z + B * t * f - B * A * z - r * t * C - v * D * f) / a, (v * A * e + r * d * z + c * t * f - c * A * z - r * t * e - v * d * f) / a);
                        b.drawImage(m, 0, 0, n * h.resolution, w * h.resolution, 0, 0, n, w);
                        b.restore()
                    }
                };
                a.prototype.renderMeshFlat = function(a) {
                    var c = this.renderer.context;
                    a = a.vertices;
                    var d = a.length / 2;
                    c.beginPath();
                    for (var e = 1; e < d - 2; ++e) {
                        var b = 2 * e,
                            g = a[b + 2],
                            h = a[b + 3],
                            m = a[b + 4],
                            n = a[b + 5];
                        c.moveTo(a[b], a[b + 1]);
                        c.lineTo(g, h);
                        c.lineTo(m, n)
                    }
                    c.fillStyle = "#FF0000";
                    c.fill();
                    c.closePath()
                };
                a.prototype.destroy =
                    function() {
                        this.renderer = null
                    };
                return a
            }();
            g["default"] = a;
            c.CanvasRenderer.registerPlugin("mesh", a)
        }, {
            "../../core": 63,
            "../Mesh": 157
        }],
        162: [function(a, c, g) {
            function h(a) {
                return a && a.__esModule ? a : {
                    "default": a
                }
            }
            g.__esModule = !0;
            var n = a("./Mesh");
            Object.defineProperty(g, "Mesh", {
                enumerable: !0,
                get: function() {
                    return h(n)["default"]
                }
            });
            var m = a("./webgl/MeshRenderer");
            Object.defineProperty(g, "MeshRenderer", {
                enumerable: !0,
                get: function() {
                    return h(m)["default"]
                }
            });
            var f = a("./canvas/CanvasMeshRenderer");
            Object.defineProperty(g,
                "CanvasMeshRenderer", {
                    enumerable: !0,
                    get: function() {
                        return h(f)["default"]
                    }
                });
            var d = a("./Plane");
            Object.defineProperty(g, "Plane", {
                enumerable: !0,
                get: function() {
                    return h(d)["default"]
                }
            });
            var e = a("./NineSlicePlane");
            Object.defineProperty(g, "NineSlicePlane", {
                enumerable: !0,
                get: function() {
                    return h(e)["default"]
                }
            });
            var b = a("./Rope");
            Object.defineProperty(g, "Rope", {
                enumerable: !0,
                get: function() {
                    return h(b)["default"]
                }
            })
        }, {
            "./Mesh": 157,
            "./NineSlicePlane": 158,
            "./Plane": 159,
            "./Rope": 160,
            "./canvas/CanvasMeshRenderer": 161,
            "./webgl/MeshRenderer": 163
        }],
        163: [function(a, c, g) {
            function h(a, c) {
                if ("function" !== typeof c && null !== c) throw new TypeError("Super expression must either be null or a function, not " + typeof c);
                a.prototype = Object.create(c && c.prototype, {
                    constructor: {
                        value: a,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                });
                c && (Object.setPrototypeOf ? Object.setPrototypeOf(a, c) : a.__proto__ = c)
            }
            g.__esModule = !0;
            var n = function(a) {
                    if (a && a.__esModule) return a;
                    var d = {};
                    if (null != a)
                        for (var b in a) Object.prototype.hasOwnProperty.call(a,
                            b) && (d[b] = a[b]);
                    d["default"] = a;
                    return d
                }(a("../../core")),
                m = (c = a("pixi-gl-core")) && c.__esModule ? c : {
                    "default": c
                },
                f = (c = a("../Mesh")) && c.__esModule ? c : {
                    "default": c
                };
            a("path");
            a = function(a) {
                function d(b) {
                    if (!(this instanceof d)) throw new TypeError("Cannot call a class as a function");
                    b = a.call(this, b);
                    if (!this) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                    b = !b || "object" !== typeof b && "function" !== typeof b ? this : b;
                    b.shader = null;
                    return b
                }
                h(d, a);
                d.prototype.onContextChange =
                    function() {
                        this.shader = new n.Shader(this.renderer.gl, "attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 translationMatrix;\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n}\n", "varying vec2 vTextureCoord;\nuniform float alpha;\nuniform vec3 tint;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord) * vec4(tint * alpha, alpha);\n}\n")
                    };
                d.prototype.render = function(a) {
                    var b = this.renderer,
                        d = b.gl,
                        c = a._texture;
                    if (c.valid) {
                        var e = a._glDatas[b.CONTEXT_UID];
                        e || (b.bindVao(null), e = {
                            shader: this.shader,
                            vertexBuffer: m["default"].GLBuffer.createVertexBuffer(d, a.vertices, d.STREAM_DRAW),
                            uvBuffer: m["default"].GLBuffer.createVertexBuffer(d, a.uvs, d.STREAM_DRAW),
                            indexBuffer: m["default"].GLBuffer.createIndexBuffer(d, a.indices, d.STATIC_DRAW),
                            vao: null,
                            dirty: a.dirty,
                            indexDirty: a.indexDirty
                        }, e.vao = (new m["default"].VertexArrayObject(d)).addIndex(e.indexBuffer).addAttribute(e.vertexBuffer,
                            e.shader.attributes.aVertexPosition, d.FLOAT, !1, 8, 0).addAttribute(e.uvBuffer, e.shader.attributes.aTextureCoord, d.FLOAT, !1, 8, 0), a._glDatas[b.CONTEXT_UID] = e);
                        b.bindVao(e.vao);
                        a.dirty !== e.dirty && (e.dirty = a.dirty, e.uvBuffer.upload(a.uvs));
                        a.indexDirty !== e.indexDirty && (e.indexDirty = a.indexDirty, e.indexBuffer.upload(a.indices));
                        e.vertexBuffer.upload(a.vertices);
                        b.bindShader(e.shader);
                        e.shader.uniforms.uSampler = b.bindTexture(c);
                        b.state.setBlendMode(a.blendMode);
                        e.shader.uniforms.translationMatrix = a.worldTransform.toArray(!0);
                        e.shader.uniforms.alpha = a.worldAlpha;
                        e.shader.uniforms.tint = a.tintRgb;
                        e.vao.draw(a.drawMode === f["default"].DRAW_MODES.TRIANGLE_MESH ? d.TRIANGLE_STRIP : d.TRIANGLES, a.indices.length, 0)
                    }
                };
                return d
            }(n.ObjectRenderer);
            g["default"] = a;
            n.WebGLRenderer.registerPlugin("mesh", a)
        }, {
            "../../core": 63,
            "../Mesh": 157,
            path: 22,
            "pixi-gl-core": 12
        }],
        164: [function(a, c, g) {
            function h(a, c) {
                if ("function" !== typeof c && null !== c) throw new TypeError("Super expression must either be null or a function, not " + typeof c);
                a.prototype = Object.create(c &&
                    c.prototype, {
                        constructor: {
                            value: a,
                            enumerable: !1,
                            writable: !0,
                            configurable: !0
                        }
                    });
                c && (Object.setPrototypeOf ? Object.setPrototypeOf(a, c) : a.__proto__ = c)
            }
            g.__esModule = !0;
            var n = function(a) {
                if (a && a.__esModule) return a;
                var c = {};
                if (null != a)
                    for (var d in a) Object.prototype.hasOwnProperty.call(a, d) && (c[d] = a[d]);
                c["default"] = a;
                return c
            }(a("../core"));
            a = function(a) {
                function c() {
                    var d = 0 < arguments.length && void 0 !== arguments[0] ? arguments[0] : 1500,
                        e = arguments[1],
                        b = 2 < arguments.length && void 0 !== arguments[2] ? arguments[2] :
                        16384;
                    if (!(this instanceof c)) throw new TypeError("Cannot call a class as a function");
                    var f;
                    f = a.call(this);
                    if (!this) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                    f = !f || "object" !== typeof f && "function" !== typeof f ? this : f;
                    16384 < b && (b = 16384);
                    b > d && (b = d);
                    f._properties = [!1, !0, !1, !1, !1];
                    f._maxSize = d;
                    f._batchSize = b;
                    f._glBuffers = {};
                    f._bufferToUpdate = 0;
                    f.interactiveChildren = !1;
                    f.blendMode = n.BLEND_MODES.NORMAL;
                    f.roundPixels = !0;
                    f.baseTexture = null;
                    f.setProperties(e);
                    return f
                }
                h(c, a);
                c.prototype.setProperties = function(a) {
                    a && (this._properties[0] = "scale" in a ? !!a.scale : this._properties[0], this._properties[1] = "position" in a ? !!a.position : this._properties[1], this._properties[2] = "rotation" in a ? !!a.rotation : this._properties[2], this._properties[3] = "uvs" in a ? !!a.uvs : this._properties[3], this._properties[4] = "alpha" in a ? !!a.alpha : this._properties[4])
                };
                c.prototype.updateTransform = function() {
                    this.displayObjectUpdateTransform()
                };
                c.prototype.renderWebGL = function(a) {
                    var d = this;
                    if (this.visible &&
                        !(0 >= this.worldAlpha) && this.children.length && this.renderable) {
                        if (!this.baseTexture && (this.baseTexture = this.children[0]._texture.baseTexture, !this.baseTexture.hasLoaded)) this.baseTexture.once("update", function() {
                            return d.onChildrenChange(0)
                        });
                        a.setObjectRenderer(a.plugins.particle);
                        a.plugins.particle.render(this)
                    }
                };
                c.prototype.onChildrenChange = function(a) {
                    a = Math.floor(a / this._batchSize);
                    a < this._bufferToUpdate && (this._bufferToUpdate = a)
                };
                c.prototype.renderCanvas = function(a) {
                    if (this.visible && !(0 >= this.worldAlpha) &&
                        this.children.length && this.renderable) {
                        var d = a.context,
                            b = this.worldTransform,
                            c = !0,
                            f, g, h, m, n = a.blendModes[this.blendMode];
                        n !== d.globalCompositeOperation && (d.globalCompositeOperation = n);
                        d.globalAlpha = this.worldAlpha;
                        this.displayObjectUpdateTransform();
                        for (n = 0; n < this.children.length; ++n) {
                            var v = this.children[n];
                            if (v.visible) {
                                var t = v._texture.frame;
                                d.globalAlpha = this.worldAlpha * v.alpha;
                                0 === v.rotation % (2 * Math.PI) ? (c && (d.setTransform(b.a, b.b, b.c, b.d, b.tx * a.resolution, b.ty * a.resolution), c = !1), f = v.anchor.x *
                                    -t.width * v.scale.x + v.position.x + .5, g = v.anchor.y * -t.height * v.scale.y + v.position.y + .5, h = t.width * v.scale.x, m = t.height * v.scale.y) : (c || (c = !0), v.displayObjectUpdateTransform(), f = v.worldTransform, a.roundPixels ? d.setTransform(f.a, f.b, f.c, f.d, f.tx * a.resolution | 0, f.ty * a.resolution | 0) : d.setTransform(f.a, f.b, f.c, f.d, f.tx * a.resolution, f.ty * a.resolution), f = v.anchor.x * -t.width + .5, g = v.anchor.y * -t.height + .5, h = t.width, m = t.height);
                                var z = v._texture.baseTexture.resolution;
                                d.drawImage(v._texture.baseTexture.source, t.x *
                                    z, t.y * z, t.width * z, t.height * z, f * z, g * z, h * z, m * z)
                            }
                        }
                    }
                };
                c.prototype.destroy = function(d) {
                    a.prototype.destroy.call(this, d);
                    if (this._buffers)
                        for (d = 0; d < this._buffers.length; ++d) this._buffers[d].destroy();
                    this._buffers = this._properties = null
                };
                return c
            }(n.Container);
            g["default"] = a
        }, {
            "../core": 63
        }],
        165: [function(a, c, g) {
            g.__esModule = !0;
            var h = a("./ParticleContainer");
            Object.defineProperty(g, "ParticleContainer", {
                enumerable: !0,
                get: function() {
                    return (h && h.__esModule ? h : {
                        "default": h
                    })["default"]
                }
            });
            var n = a("./webgl/ParticleRenderer");
            Object.defineProperty(g, "ParticleRenderer", {
                enumerable: !0,
                get: function() {
                    return (n && n.__esModule ? n : {
                        "default": n
                    })["default"]
                }
            })
        }, {
            "./ParticleContainer": 164,
            "./webgl/ParticleRenderer": 167
        }],
        166: [function(a, c, g) {
            g.__esModule = !0;
            var h = (c = a("pixi-gl-core")) && c.__esModule ? c : {
                    "default": c
                },
                n = (a = a("../../core/utils/createIndicesForQuads")) && a.__esModule ? a : {
                    "default": a
                };
            a = function() {
                function a(c, d, e, b) {
                    if (!(this instanceof a)) throw new TypeError("Cannot call a class as a function");
                    this.gl = c;
                    this.vertSize =
                        2;
                    this.vertByteSize = 4 * this.vertSize;
                    this.size = b;
                    this.dynamicProperties = [];
                    this.staticProperties = [];
                    for (c = 0; c < d.length; ++c) b = d[c], b = {
                        attribute: b.attribute,
                        size: b.size,
                        uploadFunction: b.uploadFunction,
                        offset: b.offset
                    }, e[c] ? this.dynamicProperties.push(b) : this.staticProperties.push(b);
                    this.staticStride = 0;
                    this.staticData = this.staticBuffer = null;
                    this.dynamicStride = 0;
                    this.dynamicData = this.dynamicBuffer = null;
                    this.initBuffers()
                }
                a.prototype.initBuffers = function() {
                    var a = this.gl,
                        d = 0;
                    this.indices = (0, n["default"])(this.size);
                    this.indexBuffer = h["default"].GLBuffer.createIndexBuffer(a, this.indices, a.STATIC_DRAW);
                    for (var c = this.dynamicStride = 0; c < this.dynamicProperties.length; ++c) {
                        var b = this.dynamicProperties[c];
                        b.offset = d;
                        d += b.size;
                        this.dynamicStride += b.size
                    }
                    this.dynamicData = new Float32Array(this.size * this.dynamicStride * 4);
                    this.dynamicBuffer = h["default"].GLBuffer.createVertexBuffer(a, this.dynamicData, a.STREAM_DRAW);
                    for (c = this.staticStride = d = 0; c < this.staticProperties.length; ++c) b = this.staticProperties[c], b.offset = d, d += b.size,
                        this.staticStride += b.size;
                    this.staticData = new Float32Array(this.size * this.staticStride * 4);
                    this.staticBuffer = h["default"].GLBuffer.createVertexBuffer(a, this.staticData, a.STATIC_DRAW);
                    this.vao = (new h["default"].VertexArrayObject(a)).addIndex(this.indexBuffer);
                    for (d = 0; d < this.dynamicProperties.length; ++d) c = this.dynamicProperties[d], this.vao.addAttribute(this.dynamicBuffer, c.attribute, a.FLOAT, !1, 4 * this.dynamicStride, 4 * c.offset);
                    for (d = 0; d < this.staticProperties.length; ++d) c = this.staticProperties[d], this.vao.addAttribute(this.staticBuffer,
                        c.attribute, a.FLOAT, !1, 4 * this.staticStride, 4 * c.offset)
                };
                a.prototype.uploadDynamic = function(a, d, c) {
                    for (var b = 0; b < this.dynamicProperties.length; b++) {
                        var e = this.dynamicProperties[b];
                        e.uploadFunction(a, d, c, this.dynamicData, this.dynamicStride, e.offset)
                    }
                    this.dynamicBuffer.upload()
                };
                a.prototype.uploadStatic = function(a, d, c) {
                    for (var b = 0; b < this.staticProperties.length; b++) {
                        var e = this.staticProperties[b];
                        e.uploadFunction(a, d, c, this.staticData, this.staticStride, e.offset)
                    }
                    this.staticBuffer.upload()
                };
                a.prototype.destroy =
                    function() {
                        this.dynamicData = this.dynamicProperties = null;
                        this.dynamicBuffer.destroy();
                        this.staticData = this.staticProperties = null;
                        this.staticBuffer.destroy()
                    };
                return a
            }();
            g["default"] = a
        }, {
            "../../core/utils/createIndicesForQuads": 117,
            "pixi-gl-core": 12
        }],
        167: [function(a, c, g) {
            function h(a, c) {
                if ("function" !== typeof c && null !== c) throw new TypeError("Super expression must either be null or a function, not " + typeof c);
                a.prototype = Object.create(c && c.prototype, {
                    constructor: {
                        value: a,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                });
                c && (Object.setPrototypeOf ? Object.setPrototypeOf(a, c) : a.__proto__ = c)
            }
            g.__esModule = !0;
            var n = function(a) {
                    if (a && a.__esModule) return a;
                    var d = {};
                    if (null != a)
                        for (var b in a) Object.prototype.hasOwnProperty.call(a, b) && (d[b] = a[b]);
                    d["default"] = a;
                    return d
                }(a("../../core")),
                m = (c = a("./ParticleShader")) && c.__esModule ? c : {
                    "default": c
                },
                f = (a = a("./ParticleBuffer")) && a.__esModule ? a : {
                    "default": a
                };
            a = function(a) {
                function d(b) {
                    if (!(this instanceof d)) throw new TypeError("Cannot call a class as a function");
                    b = a.call(this, b);
                    if (!this) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                    b = !b || "object" !== typeof b && "function" !== typeof b ? this : b;
                    b.shader = null;
                    b.indexBuffer = null;
                    b.properties = null;
                    b.tempMatrix = new n.Matrix;
                    b.CONTEXT_UID = 0;
                    return b
                }
                h(d, a);
                d.prototype.onContextChange = function() {
                    var a = this.renderer.gl;
                    this.CONTEXT_UID = this.renderer.CONTEXT_UID;
                    this.shader = new m["default"](a);
                    this.properties = [{
                        attribute: this.shader.attributes.aVertexPosition,
                        size: 2,
                        uploadFunction: this.uploadVertices,
                        offset: 0
                    }, {
                        attribute: this.shader.attributes.aPositionCoord,
                        size: 2,
                        uploadFunction: this.uploadPosition,
                        offset: 0
                    }, {
                        attribute: this.shader.attributes.aRotation,
                        size: 1,
                        uploadFunction: this.uploadRotation,
                        offset: 0
                    }, {
                        attribute: this.shader.attributes.aTextureCoord,
                        size: 2,
                        uploadFunction: this.uploadUvs,
                        offset: 0
                    }, {
                        attribute: this.shader.attributes.aColor,
                        size: 1,
                        uploadFunction: this.uploadAlpha,
                        offset: 0
                    }]
                };
                d.prototype.start = function() {
                    this.renderer.bindShader(this.shader)
                };
                d.prototype.render = function(a) {
                    var b = a.children,
                        d = a._maxSize,
                        c = a._batchSize,
                        e = this.renderer,
                        f = b.length;
                    if (0 !== f) {
                        f > d && (f = d);
                        (d = a._glBuffers[e.CONTEXT_UID]) || (d = a._glBuffers[e.CONTEXT_UID] = this.generateBuffers(a));
                        this.renderer.setBlendMode(a.blendMode);
                        var g = e.gl,
                            h = a.worldTransform.copy(this.tempMatrix);
                        h.prepend(e._activeRenderTarget.projectionMatrix);
                        this.shader.uniforms.projectionMatrix = h.toArray(!0);
                        this.shader.uniforms.uAlpha = a.worldAlpha;
                        this.shader.uniforms.uSampler = e.bindTexture(b[0]._texture.baseTexture);
                        for (var m = h = 0; h < f; h += c, m += 1) {
                            var n =
                                f - h;
                            n > c && (n = c);
                            var r = d[m];
                            r.uploadDynamic(b, h, n);
                            a._bufferToUpdate === m && (r.uploadStatic(b, h, n), a._bufferToUpdate = m + 1);
                            e.bindVao(r.vao);
                            r.vao.draw(g.TRIANGLES, 6 * n)
                        }
                    }
                };
                d.prototype.generateBuffers = function(a) {
                    var b = this.renderer.gl,
                        d = [],
                        c = a._maxSize,
                        e = a._batchSize;
                    a = a._properties;
                    for (var g = 0; g < c; g += e) d.push(new f["default"](b, this.properties, a, e));
                    return d
                };
                d.prototype.uploadVertices = function(a, d, c, e, f, g) {
                    for (var b, h, m, n, q = 0; q < c; ++q) {
                        n = a[d + q];
                        b = n._texture;
                        var p = n.scale.x,
                            u = n.scale.y;
                        m = b.trim;
                        var x = b.orig;
                        m ? (h = m.x - n.anchor.x * x.width, b = h + m.width, n = m.y - n.anchor.y * x.height, m = n + m.height) : (b = x.width * (1 - n.anchor.x), h = x.width * -n.anchor.x, m = x.height * (1 - n.anchor.y), n = x.height * -n.anchor.y);
                        e[g] = h * p;
                        e[g + 1] = n * u;
                        e[g + f] = b * p;
                        e[g + f + 1] = n * u;
                        e[g + 2 * f] = b * p;
                        e[g + 2 * f + 1] = m * u;
                        e[g + 3 * f] = h * p;
                        e[g + 3 * f + 1] = m * u;
                        g += 4 * f
                    }
                };
                d.prototype.uploadPosition = function(a, d, c, e, f, g) {
                    for (var b = 0; b < c; b++) {
                        var h = a[d + b].position;
                        e[g] = h.x;
                        e[g + 1] = h.y;
                        e[g + f] = h.x;
                        e[g + f + 1] = h.y;
                        e[g + 2 * f] = h.x;
                        e[g + 2 * f + 1] = h.y;
                        e[g + 3 * f] = h.x;
                        e[g + 3 * f + 1] = h.y;
                        g += 4 * f
                    }
                };
                d.prototype.uploadRotation =
                    function(a, d, c, e, f, g) {
                        for (var b = 0; b < c; b++) {
                            var h = a[d + b].rotation;
                            e[g] = h;
                            e[g + f] = h;
                            e[g + 2 * f] = h;
                            e[g + 3 * f] = h;
                            g += 4 * f
                        }
                    };
                d.prototype.uploadUvs = function(a, d, c, e, f, g) {
                    for (var b = 0; b < c; ++b) {
                        var h = a[d + b]._texture._uvs;
                        h ? (e[g] = h.x0, e[g + 1] = h.y0, e[g + f] = h.x1, e[g + f + 1] = h.y1, e[g + 2 * f] = h.x2, e[g + 2 * f + 1] = h.y2, e[g + 3 * f] = h.x3, e[g + 3 * f + 1] = h.y3) : (e[g] = 0, e[g + 1] = 0, e[g + f] = 0, e[g + f + 1] = 0, e[g + 2 * f] = 0, e[g + 2 * f + 1] = 0, e[g + 3 * f] = 0, e[g + 3 * f + 1] = 0);
                        g += 4 * f
                    }
                };
                d.prototype.uploadAlpha = function(a, d, c, e, f, g) {
                    for (var b = 0; b < c; b++) {
                        var h = a[d + b].alpha;
                        e[g] =
                            h;
                        e[g + f] = h;
                        e[g + 2 * f] = h;
                        e[g + 3 * f] = h;
                        g += 4 * f
                    }
                };
                d.prototype.destroy = function() {
                    this.renderer.gl && this.renderer.gl.deleteBuffer(this.indexBuffer);
                    a.prototype.destroy.call(this);
                    this.shader.destroy();
                    this.tempMatrix = this.indices = null
                };
                return d
            }(n.ObjectRenderer);
            g["default"] = a;
            n.WebGLRenderer.registerPlugin("particle", a)
        }, {
            "../../core": 63,
            "./ParticleBuffer": 166,
            "./ParticleShader": 168
        }],
        168: [function(a, c, g) {
            function h(a, c) {
                if ("function" !== typeof c && null !== c) throw new TypeError("Super expression must either be null or a function, not " +
                    typeof c);
                a.prototype = Object.create(c && c.prototype, {
                    constructor: {
                        value: a,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                });
                c && (Object.setPrototypeOf ? Object.setPrototypeOf(a, c) : a.__proto__ = c)
            }
            g.__esModule = !0;
            a = a("../../core/Shader");
            a = function(a) {
                function c(f) {
                    if (!(this instanceof c)) throw new TypeError("Cannot call a class as a function");
                    f = a.call(this, f, "attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute float aColor;\nattribute vec2 aPositionCoord;\nattribute vec2 aScale;\nattribute float aRotation;\nuniform mat3 projectionMatrix;\nvarying vec2 vTextureCoord;\nvarying float vColor;\nvoid main(void){\n   vec2 v = aVertexPosition;\n   v.x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);\n   v.y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);\n   v = v + aPositionCoord;\n   gl_Position = vec4((projectionMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);\n   vTextureCoord = aTextureCoord;\n   vColor = aColor;\n}",
                        "varying vec2 vTextureCoord;\nvarying float vColor;\nuniform sampler2D uSampler;\nuniform float uAlpha;\nvoid main(void){\n  vec4 color = texture2D(uSampler, vTextureCoord) * vColor * uAlpha;\n  if (color.a == 0.0) discard;\n  gl_FragColor = color;\n}");
                    if (!this) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                    return !f || "object" !== typeof f && "function" !== typeof f ? this : f
                }
                h(c, a);
                return c
            }((a && a.__esModule ? a : {
                "default": a
            })["default"]);
            g["default"] = a
        }, {
            "../../core/Shader": 42
        }],
        169: [function(a, c, g) {
            Math.sign || (Math.sign = function(a) {
                a = Number(a);
                return 0 === a || isNaN(a) ? a : 0 < a ? 1 : -1
            })
        }, {}],
        170: [function(a, c, g) {
            a = (a = a("object-assign")) && a.__esModule ? a : {
                "default": a
            };
            Object.assign || (Object.assign = a["default"])
        }, {
            "object-assign": 5
        }],
        171: [function(a, c, g) {
            a("./Object.assign");
            a("./requestAnimationFrame");
            a("./Math.sign");
            window.ArrayBuffer || (window.ArrayBuffer = Array);
            window.Float32Array || (window.Float32Array = Array);
            window.Uint32Array || (window.Uint32Array = Array);
            window.Uint16Array ||
                (window.Uint16Array = Array)
        }, {
            "./Math.sign": 169,
            "./Object.assign": 170,
            "./requestAnimationFrame": 172
        }],
        172: [function(a, c, g) {
            (function(a) {
                Date.now && Date.prototype.getTime || (Date.now = function() {
                    return (new Date).getTime()
                });
                a.performance && a.performance.now || function() {
                    var d = Date.now();
                    a.performance || (a.performance = {});
                    a.performance.now = function() {
                        return Date.now() - d
                    }
                }();
                for (var c = Date.now(), g = ["ms", "moz", "webkit", "o"], f = 0; f < g.length && !a.requestAnimationFrame; ++f) {
                    var d = g[f];
                    a.requestAnimationFrame = a[d +
                        "RequestAnimationFrame"];
                    a.cancelAnimationFrame = a[d + "CancelAnimationFrame"] || a[d + "CancelRequestAnimationFrame"]
                }
                a.requestAnimationFrame || (a.requestAnimationFrame = function(a) {
                    if ("function" !== typeof a) throw new TypeError(a + "is not a function");
                    var b = Date.now(),
                        d = 16 + c - b;
                    0 > d && (d = 0);
                    c = b;
                    return setTimeout(function() {
                        c = Date.now();
                        a(performance.now())
                    }, d)
                });
                a.cancelAnimationFrame || (a.cancelAnimationFrame = function(a) {
                    return clearTimeout(a)
                })
            }).call(this, "undefined" !== typeof global ? global : "undefined" !== typeof self ?
                self : "undefined" !== typeof window ? window : {})
        }, {}],
        173: [function(a, c, g) {
            function h(a, b) {
                return b instanceof d.Text ? (b.updateText(!0), !0) : !1
            }

            function n(a, b) {
                if (b instanceof d.TextStyle) {
                    var c = d.Text.getFontStyle(b);
                    d.Text.fontPropertiesCache[c] || d.Text.calculateFontProperties(c);
                    return !0
                }
                return !1
            }

            function m(a, b) {
                if (a instanceof d.Text) {
                    -1 === b.indexOf(a.style) && b.push(a.style); - 1 === b.indexOf(a) && b.push(a);
                    var c = a._texture.baseTexture; - 1 === b.indexOf(c) && b.push(c);
                    return !0
                }
                return !1
            }

            function f(a, b) {
                return a instanceof
                d.TextStyle ? (-1 === b.indexOf(a) && b.push(a), !0) : !1
            }
            g.__esModule = !0;
            var d = function(a) {
                    if (a && a.__esModule) return a;
                    var b = {};
                    if (null != a)
                        for (var d in a) Object.prototype.hasOwnProperty.call(a, d) && (b[d] = a[d]);
                    b["default"] = a;
                    return b
                }(a("../core")),
                e = (a = a("./limiters/CountLimiter")) && a.__esModule ? a : {
                    "default": a
                },
                b = d.ticker.shared;
            d.settings.UPLOADS_PER_FRAME = 4;
            a = function() {
                function a(b) {
                    var c = this;
                    if (!(this instanceof a)) throw new TypeError("Cannot call a class as a function");
                    this.limiter = new e["default"](d.settings.UPLOADS_PER_FRAME);
                    this.renderer = b;
                    this.uploadHookHelper = null;
                    this.queue = [];
                    this.addHooks = [];
                    this.uploadHooks = [];
                    this.completes = [];
                    this.ticking = !1;
                    this.delayedTick = function() {
                        c.queue && c.prepareItems()
                    };
                    this.register(m, h);
                    this.register(f, n)
                }
                a.prototype.upload = function(a, d) {
                    "function" === typeof a && (d = a, a = null);
                    a && this.add(a);
                    this.queue.length ? (d && this.completes.push(d), this.ticking || (this.ticking = !0, b.addOnce(this.tick, this))) : d && d()
                };
                a.prototype.tick = function() {
                    setTimeout(this.delayedTick, 0)
                };
                a.prototype.prepareItems =
                    function() {
                        for (this.limiter.beginFrame(); this.queue.length && this.limiter.allowedToUpload();) {
                            for (var a = this.queue[0], d = !1, c = 0, e = this.uploadHooks.length; c < e; c++)
                                if (this.uploadHooks[c](this.uploadHookHelper, a)) {
                                    this.queue.shift();
                                    d = !0;
                                    break
                                } d || this.queue.shift()
                        }
                        if (this.queue.length) b.addOnce(this.tick, this);
                        else
                            for (this.ticking = !1, a = this.completes.slice(0), d = this.completes.length = 0, c = a.length; d < c; d++) a[d]()
                    };
                a.prototype.register = function(a, b) {
                    a && this.addHooks.push(a);
                    b && this.uploadHooks.push(b);
                    return this
                };
                a.prototype.add = function(a) {
                    for (var b = 0, c = this.addHooks.length; b < c && !this.addHooks[b](a, this.queue); b++);
                    if (a instanceof d.Container)
                        for (b = a.children.length - 1; 0 <= b; b--) this.add(a.children[b]);
                    return this
                };
                a.prototype.destroy = function() {
                    this.ticking && b.remove(this.tick, this);
                    this.ticking = !1;
                    this.uploadHookHelper = this.limiter = this.queue = this.completes = this.renderer = this.uploadHooks = this.addHooks = null
                };
                return a
            }();
            g["default"] = a
        }, {
            "../core": 63,
            "./limiters/CountLimiter": 176
        }],
        174: [function(a, c, g) {
            function h(a,
                c) {
                if ("function" !== typeof c && null !== c) throw new TypeError("Super expression must either be null or a function, not " + typeof c);
                a.prototype = Object.create(c && c.prototype, {
                    constructor: {
                        value: a,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                });
                c && (Object.setPrototypeOf ? Object.setPrototypeOf(a, c) : a.__proto__ = c)
            }

            function n(a, c) {
                if (c instanceof f.BaseTexture) {
                    var b = c.source;
                    a.ctx.drawImage(b, 0, 0, 0 === b.width ? a.canvas.width : Math.min(a.canvas.width, b.width), 0 === b.height ? a.canvas.height : Math.min(a.canvas.height,
                        b.height), 0, 0, a.canvas.width, a.canvas.height);
                    return !0
                }
                return !1
            }

            function m(a, c) {
                if (a instanceof f.BaseTexture) return -1 === c.indexOf(a) && c.push(a), !0;
                if (a._texture && a._texture instanceof f.Texture) {
                    var b = a._texture.baseTexture; - 1 === c.indexOf(b) && c.push(b);
                    return !0
                }
                return !1
            }
            g.__esModule = !0;
            var f = function(a) {
                if (a && a.__esModule) return a;
                var d = {};
                if (null != a)
                    for (var b in a) Object.prototype.hasOwnProperty.call(a, b) && (d[b] = a[b]);
                d["default"] = a;
                return d
            }(a("../../core"));
            a = a("../BasePrepare");
            a = function(a) {
                function d(b) {
                    if (!(this instanceof d)) throw new TypeError("Cannot call a class as a function");
                    b = a.call(this, b);
                    if (!this) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                    b = !b || "object" !== typeof b && "function" !== typeof b ? this : b;
                    b.uploadHookHelper = b;
                    b.canvas = document.createElement("canvas");
                    b.canvas.width = 16;
                    b.canvas.height = 16;
                    b.ctx = b.canvas.getContext("2d");
                    b.register(m, n);
                    return b
                }
                h(d, a);
                d.prototype.destroy = function() {
                    a.prototype.destroy.call(this);
                    this.canvas = this.ctx = null
                };
                return d
            }((a && a.__esModule ?
                a : {
                    "default": a
                })["default"]);
            g["default"] = a;
            f.CanvasRenderer.registerPlugin("prepare", a)
        }, {
            "../../core": 63,
            "../BasePrepare": 173
        }],
        175: [function(a, c, g) {
            function h(a) {
                return a && a.__esModule ? a : {
                    "default": a
                }
            }
            g.__esModule = !0;
            var n = a("./webgl/WebGLPrepare");
            Object.defineProperty(g, "webgl", {
                enumerable: !0,
                get: function() {
                    return h(n)["default"]
                }
            });
            var m = a("./canvas/CanvasPrepare");
            Object.defineProperty(g, "canvas", {
                enumerable: !0,
                get: function() {
                    return h(m)["default"]
                }
            });
            var f = a("./BasePrepare");
            Object.defineProperty(g,
                "BasePrepare", {
                    enumerable: !0,
                    get: function() {
                        return h(f)["default"]
                    }
                });
            var d = a("./limiters/CountLimiter");
            Object.defineProperty(g, "CountLimiter", {
                enumerable: !0,
                get: function() {
                    return h(d)["default"]
                }
            });
            var e = a("./limiters/TimeLimiter");
            Object.defineProperty(g, "TimeLimiter", {
                enumerable: !0,
                get: function() {
                    return h(e)["default"]
                }
            })
        }, {
            "./BasePrepare": 173,
            "./canvas/CanvasPrepare": 174,
            "./limiters/CountLimiter": 176,
            "./limiters/TimeLimiter": 177,
            "./webgl/WebGLPrepare": 178
        }],
        176: [function(a, c, g) {
            g.__esModule = !0;
            a = function() {
                function a(c) {
                    if (!(this instanceof a)) throw new TypeError("Cannot call a class as a function");
                    this.maxItemsPerFrame = c;
                    this.itemsLeft = 0
                }
                a.prototype.beginFrame = function() {
                    this.itemsLeft = this.maxItemsPerFrame
                };
                a.prototype.allowedToUpload = function() {
                    return 0 < this.itemsLeft--
                };
                return a
            }();
            g["default"] = a
        }, {}],
        177: [function(a, c, g) {
            g.__esModule = !0;
            a = function() {
                function a(c) {
                    if (!(this instanceof a)) throw new TypeError("Cannot call a class as a function");
                    this.maxMilliseconds = c;
                    this.frameStart =
                        0
                }
                a.prototype.beginFrame = function() {
                    this.frameStart = Date.now()
                };
                a.prototype.allowedToUpload = function() {
                    return Date.now() - this.frameStart < this.maxMilliseconds
                };
                return a
            }();
            g["default"] = a
        }, {}],
        178: [function(a, c, g) {
            function h(a, d) {
                if ("function" !== typeof d && null !== d) throw new TypeError("Super expression must either be null or a function, not " + typeof d);
                a.prototype = Object.create(d && d.prototype, {
                    constructor: {
                        value: a,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                });
                d && (Object.setPrototypeOf ? Object.setPrototypeOf(a,
                    d) : a.__proto__ = d)
            }

            function n(a, d) {
                return d instanceof e.BaseTexture ? (d._glTextures[a.CONTEXT_UID] || a.textureManager.updateTexture(d), !0) : !1
            }

            function m(a, d) {
                return d instanceof e.Graphics ? ((d.dirty || d.clearDirty || !d._webGL[a.plugins.graphics.CONTEXT_UID]) && a.plugins.graphics.updateGraphics(d), !0) : !1
            }

            function f(a, d) {
                if (a instanceof e.BaseTexture) return -1 === d.indexOf(a) && d.push(a), !0;
                if (a._texture && a._texture instanceof e.Texture) {
                    var b = a._texture.baseTexture; - 1 === d.indexOf(b) && d.push(b);
                    return !0
                }
                return !1
            }

            function d(a, d) {
                return a instanceof e.Graphics ? (d.push(a), !0) : !1
            }
            g.__esModule = !0;
            var e = function(a) {
                if (a && a.__esModule) return a;
                var b = {};
                if (null != a)
                    for (var d in a) Object.prototype.hasOwnProperty.call(a, d) && (b[d] = a[d]);
                b["default"] = a;
                return b
            }(a("../../core"));
            a = a("../BasePrepare");
            a = function(a) {
                function b(c) {
                    if (!(this instanceof b)) throw new TypeError("Cannot call a class as a function");
                    c = a.call(this, c);
                    if (!this) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                    c = !c || "object" !== typeof c && "function" !== typeof c ? this : c;
                    c.uploadHookHelper = c.renderer;
                    c.register(f, n).register(d, m);
                    return c
                }
                h(b, a);
                return b
            }((a && a.__esModule ? a : {
                "default": a
            })["default"]);
            g["default"] = a;
            e.WebGLRenderer.registerPlugin("prepare", a)
        }, {
            "../../core": 63,
            "../BasePrepare": 173
        }],
        179: [function(a, c, g) {
            (function(c) {
                function h(a) {
                    if (a && a.__esModule) return a;
                    var b = {};
                    if (null != a)
                        for (var d in a) Object.prototype.hasOwnProperty.call(a, d) && (b[d] = a[d]);
                    b["default"] = a;
                    return b
                }
                g.__esModule = !0;
                g.loader =
                    g.prepare = g.particles = g.mesh = g.loaders = g.interaction = g.filters = g.extras = g.extract = g.accessibility = void 0;
                var m = a("./polyfill");
                Object.keys(m).forEach(function(a) {
                    "default" !== a && "__esModule" !== a && Object.defineProperty(g, a, {
                        enumerable: !0,
                        get: function() {
                            return m[a]
                        }
                    })
                });
                var f = a("./deprecation");
                Object.keys(f).forEach(function(a) {
                    "default" !== a && "__esModule" !== a && Object.defineProperty(g, a, {
                        enumerable: !0,
                        get: function() {
                            return f[a]
                        }
                    })
                });
                var d = a("./core");
                Object.keys(d).forEach(function(a) {
                    "default" !== a &&
                        "__esModule" !== a && Object.defineProperty(g, a, {
                            enumerable: !0,
                            get: function() {
                                return d[a]
                            }
                        })
                });
                var e = a("./accessibility"),
                    e = h(e),
                    b = a("./extract"),
                    b = h(b),
                    p = a("./extras"),
                    p = h(p),
                    u = a("./filters"),
                    u = h(u),
                    q = a("./interaction"),
                    q = h(q),
                    x = a("./loaders"),
                    x = h(x),
                    y = a("./mesh"),
                    y = h(y),
                    w = a("./particles"),
                    w = h(w),
                    v = a("./prepare"),
                    v = h(v);
                g.accessibility = e;
                g.extract = b;
                g.extras = p;
                g.filters = u;
                g.interaction = q;
                g.loaders = x;
                g.mesh = y;
                g.particles = w;
                g.prepare = v;
                e = x && x.Loader ? new x.Loader : null;
                g.loader = e;
                c.PIXI = g
            }).call(this, "undefined" !==
                typeof global ? global : "undefined" !== typeof self ? self : "undefined" !== typeof window ? window : {})
        }, {
            "./accessibility": 40,
            "./core": 63,
            "./deprecation": 122,
            "./extract": 124,
            "./extras": 133,
            "./filters": 144,
            "./interaction": 150,
            "./loaders": 153,
            "./mesh": 162,
            "./particles": 165,
            "./polyfill": 171,
            "./prepare": 175
        }]
    }, {}, [179])(179)
});
PIXI.TransparencyHitArea = function(k) {
    this.sprite = k
};
PIXI.TransparencyHitArea.create = function(k, a) {
    var c;
    c = a ? new PIXI.WebGLTransparencyHitArea(k) : new PIXI.CanvasTransparencyHitArea(k);
    c.init();
    return c
};
PIXI.TransparencyHitArea.prototype.init = function() {};
PIXI.TransparencyHitArea.prototype.contains = function(k, a) {
    if (0 === Math.abs(this.sprite.width) || 0 === Math.abs(this.sprite.height)) return !1;
    var c = this.sprite.texture.frame.width,
        g = this.sprite.texture.frame.height;
    k += this.sprite.anchor.x * c;
    a += this.sprite.anchor.y * g;
    return 0 <= k && k <= c && 0 <= a && a <= g ? !this.isTextureTransparentAt(Math.round(k + this.sprite.texture.frame.x), Math.round(a + this.sprite.texture.frame.y)) : !1
};
PIXI.TransparencyHitArea.prototype.getTexture = function() {
    return this.sprite.texture
};
PIXI.TransparencyHitArea.prototype.isTextureTransparentAt = function(k, a) {
    void(k, a);
    throw Error("Has to be implemented in subclasses");
};
PIXI.CanvasTransparencyHitArea = function(k) {
    PIXI.TransparencyHitArea.call(this, k);
    this.textureWidth = this.textureData = null
};
PIXI.CanvasTransparencyHitArea.prototype = Object.create(PIXI.TransparencyHitArea.prototype);
PIXI.CanvasTransparencyHitArea.constructor = PIXI.CanvasTransparencyHitArea;
PIXI.CanvasTransparencyHitArea.prototype.clone = function() {
    return new PIXI.CanvasTransparencyHitArea(this.sprite)
};
PIXI.CanvasTransparencyHitArea.prototype.init = function() {
    PIXI.TransparencyHitArea.prototype.init.call(this);
    null === PIXI.CanvasTransparencyHitArea.cachedRenderer && (PIXI.CanvasTransparencyHitArea.cachedRenderer = new PIXI.CanvasRenderer(1, 1));
    this.initTextureData()
};
PIXI.CanvasTransparencyHitArea.prototype.initTextureData = function() {
    if (!this.textureData) {
        var k = this.getTexture(),
            a = k.baseTexture.source;
        this.textureWidth = a.width;
        a = a.src;
        void 0 === PIXI.CanvasTransparencyHitArea.TextureData[a] && (k = this.createTextureData(k), PIXI.CanvasTransparencyHitArea.TextureData[a] = k);
        this.textureData = PIXI.CanvasTransparencyHitArea.TextureData[a]
    }
};
PIXI.CanvasTransparencyHitArea.prototype.createTextureData = function(k) {
    k = k.baseTexture.source;
    var a = PIXI.CanvasTransparencyHitArea.cachedRenderer,
        c = a.view;
    c.width = k.width;
    c.height = k.height;
    a = a.view.getContext("2d");
    a.clearRect(0, 0, k.width, k.height);
    a.drawImage(k, 0, 0);
    return a.getImageData(0, 0, k.width, k.height).data
};
PIXI.CanvasTransparencyHitArea.prototype.isTextureTransparentAt = function(k, a) {
    if (!this.textureData) throw Error("CanvasTransparencyHitArea#init() not called.");
    return 1 > this.textureData[4 * (k + a * this.textureWidth) + 3]
};
PIXI.CanvasTransparencyHitArea.TextureData = [];
PIXI.CanvasTransparencyHitArea.cachedRenderer = null;
PIXI.WebGLTransparencyHitArea = function(k) {
    PIXI.TransparencyHitArea.call(this, k);
    this.textureWidth = this.textureData = null
};
PIXI.WebGLTransparencyHitArea.prototype = Object.create(PIXI.TransparencyHitArea.prototype);
PIXI.WebGLTransparencyHitArea.constructor = PIXI.WebGLTransparencyHitArea;
PIXI.WebGLTransparencyHitArea.prototype.clone = function() {
    return new PIXI.WebGLTransparencyHitArea(this.sprite)
};
PIXI.WebGLTransparencyHitArea.prototype.init = function() {
    PIXI.TransparencyHitArea.prototype.init.call(this);
    null === PIXI.WebGLTransparencyHitArea.cachedRenderer && (PIXI.WebGLTransparencyHitArea.cachedRenderer = new PIXI.WebGLRenderer(1, 1));
    this.initTextureData()
};
PIXI.WebGLTransparencyHitArea.prototype.initTextureData = function() {
    if (!this.textureData) {
        var k = this.getTexture(),
            a = k.baseTexture.source;
        this.textureWidth = a.width;
        a = a.src;
        void 0 === PIXI.WebGLTransparencyHitArea.TextureData[a] && (k = this.createTextureData(k), PIXI.WebGLTransparencyHitArea.TextureData[a] = k);
        this.textureData = PIXI.WebGLTransparencyHitArea.TextureData[a]
    }
};
PIXI.WebGLTransparencyHitArea.prototype.createTextureData = function(k) {
    var a = k.baseTexture.source,
        c = PIXI.WebGLTransparencyHitArea.cachedRenderer.view;
    c.width = a.width;
    c.height = a.height;
    var c = PIXI.WebGLTransparencyHitArea.cachedRenderer.gl,
        g = c.createFramebuffer();
    c.bindFramebuffer(c.FRAMEBUFFER, g);
    void 0 === k.baseTexture._glTextures[c.id] && PIXI.WebGLTransparencyHitArea.cachedRenderer.updateTexture(k.baseTexture);
    c.framebufferTexture2D(c.FRAMEBUFFER, c.COLOR_ATTACHMENT0, c.TEXTURE_2D, k.baseTexture._glTextures[c.id],
        0);
    k = new Uint8Array(a.width * a.height * 4);
    try {
        c.readPixels(0, 0, a.width, a.height, c.RGBA, c.UNSIGNED_BYTE, k)
    } catch (h) {
        console.log(error)
    }
    c.bindFramebuffer(c.FRAMEBUFFER, null);
    return k
};
PIXI.WebGLTransparencyHitArea.prototype.isTextureTransparentAt = function(k, a) {
    if (!this.textureData) throw Error("WebGLTransparencyHitArea#init() not called.");
    return 255 > this.textureData[4 * (k + a * this.textureWidth) + 3]
};
PIXI.WebGLTransparencyHitArea.TextureData = [];
PIXI.WebGLTransparencyHitArea.cachedRenderer = null;

function getCurvePoints(k, a, c, g) {
    function h(a, b, f, g) {
        for (var h = 2, k; h < f; h += 2) {
            var m = a[h],
                n = a[h + 1],
                q = a[h + 2],
                p = a[h + 3],
                x = (q - a[h - 2]) * g,
                y = (p - a[h - 1]) * g,
                u = (a[h + 4] - m) * g,
                r = (a[h + 5] - n) * g,
                w = 0,
                v, t, z, J;
            for (k = 0; k < c; k++) v = b[w++], t = b[w++], z = b[w++], J = b[w++], e[d++] = v * m + t * q + z * x + J * u, e[d++] = v * n + t * p + z * y + J * r
        }
    }
    a = "number" === typeof a ? a : .5;
    c = "number" === typeof c ? c : 25;
    var n, m = 1,
        f = k.length,
        d = 0,
        e = new Float32Array((f - 2) * c + 2 + (g ? 2 * c : 0)),
        b = new Float32Array(4 * (c + 2)),
        p = 4;
    n = k.slice(0);
    g ? (n.unshift(k[f - 1]), n.unshift(k[f - 2]), n.push(k[0],
        k[1])) : (n.unshift(k[1]), n.unshift(k[0]), n.push(k[f - 2], k[f - 1]));
    for (b[0] = 1; m < c; m++) {
        var u = m / c,
            q = u * u,
            x = q * u,
            y = 2 * x,
            w = 3 * q;
        b[p++] = y - w + 1;
        b[p++] = w - y;
        b[p++] = x - 2 * q + u;
        b[p++] = x - q
    }
    b[++p] = 1;
    h(n, b, f, a);
    g && (n = [], n.push(k[f - 4], k[f - 3], k[f - 2], k[f - 1], k[0], k[1], k[2], k[3]), h(n, b, 4, a));
    f = g ? 0 : k.length - 2;
    e[d++] = k[f++];
    e[d] = k[f];
    return e
}
"undefined" !== typeof exports && (exports.getCurvePoints = getCurvePoints);
var servers = $("#socket_io_servers").attr("data-socket_io_servers").split(",");
1 == servers.length && "" == servers[0] && (servers = [location.host]);
var game = $("meta[name=game]").attr("content"),
    is_video_replay = !1; - 1 != location.pathname.indexOf(game + "3") && (is_video_replay = !0);

function is_safari() {
    return navigator.vendor && -1 < navigator.vendor.indexOf("Apple")
}
var static_host = $("#static_host").attr("data-static_host"),
    image_host = static_host + "/icons/",
    asset_host = static_host + "/",
    upload_path = $("#upload_path").attr("data-upload_path"),
    loader = PIXI.loader,
    assets = [];
"wows" == game ? (assets.push(image_host + "rotate.png"), assets.push(image_host + "bb.png", image_host + "cv.png", image_host + "ca.png", image_host + "dd.png"), assets.push(image_host + "circle.png", image_host + "recticle.png", image_host + "dot.png", image_host + "note.png", image_host + "cursor.png", image_host + "grid.png")) : "blitz" == game ? (assets.push(image_host + "rotate.png"), assets.push(image_host + "light.png", image_host + "medium.png", image_host + "heavy.png", image_host + "td.png", image_host + "arty.png"), assets.push(image_host + "circle.png",
    image_host + "recticle.png", image_host + "dot.png", image_host + "note.png", image_host + "cursor.png", image_host + "grid.png")) : "aw" == game ? (assets.push(image_host + "rotate.png"), loader.add("aw_assets.png", asset_host + "aw_assets.png", {
    crossOrigin: !0
}), loader.add("aw_assets.json", asset_host + "aw_assets.json", {
    crossOrigin: !0
})) : "lol" == game ? (assets.push(image_host + "rotate.png"), assets.push(image_host + "circle.png", image_host + "recticle.png", image_host + "dot.png", image_host + "note.png", image_host + "cursor.png", image_host +
    "grid.png")) : "hots" == game ? (assets.push(image_host + "rotate.png"), loader.add("hots_assets.png", asset_host + "hots_assets.png", {
    crossOrigin: !0
}), loader.add("hots_assets.json", asset_host + "hots_assets.json", {
    crossOrigin: !0
})) : (loader.add("wot_assets.png", asset_host + "wot_assets.png", {
    crossOrigin: !0
}), loader.add("wot_assets.json", asset_host + "wot_assets.json", {
    crossOrigin: !0
}));
for (var i in assets) loader.add(assets[i], assets[i], {
    crossOrigin: !0
});
var textures_loaded = !1;
loader.on("complete", function(k) {
    textures_loaded = !0
});
loader.load();

function img_texture(k) {
    return texture_atlas[k] ? (k = texture_atlas[k], new PIXI.Texture(loader.resources[k.sprite].texture, new PIXI.Rectangle(k.x, k.y, k.width, k.height))) : -1 == k.indexOf("://") ? PIXI.Texture.fromImage(image_host + k) : PIXI.Texture.fromImage(k)
}
var texture_atlas;

function setup_assets() {
    try {
        texture_atlas = {};
        for (var k in loader.resources)
            if ("json" == k.slice(-4))
                for (var a in loader.resources[k].data.tiles) texture_atlas[a] = loader.resources[k].data.tiles[a]
    } catch (c) {
        alert("Something is interfering with loading assets, probably adblock.")
    }
}
var room = location.search.split("room=")[1].split("&")[0],
    nowebgl = -1 != location.search.indexOf("nowebgl"),
    wot_live = -1 != location.search.indexOf("wot_live"),
    adjust_all_zoom = -1 != location.search.indexOf("adjust_zoom");

function hashstring(k) {
    var a = 0;
    for (i = 0; i < k.length; i++) a += k.charCodeAt(i);
    return a
}
var server = servers[hashstring(room) % servers.length];
console.log("connecting to server: ", server);

function parse_domain(k) {
    k = k.split(".");
    2 < k.length && (k = k.slice(1));
    return "." + k.join(".")
}
var sid = $("#sid").attr("data-sid"),
    socket;
try {
    socket = io.connect(server, {
        reconnectionDelay: 100,
        reconnectionDelayMax: 500,
        "reconnection limit": 1E3,
        "max reconnection attempts": Infinity,
        query: "connect_sid=" + sid + "&host=" + parse_domain(location.hostname)
    })
} catch (k) {
    alert("Could not establish a websocket connection to: " + server + "Please contact support with this information\n<pre>" + k + "</pre>")
}
var valid_chars = "0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";

function newUid() {
    for (var k = "", a = 0; 14 > a; a++) k += valid_chars.charAt(Math.floor(Math.random() * valid_chars.length));
    return k
}

function is_chrome() {
    return -1 < navigator.userAgent.toLowerCase().indexOf("chrome")
}

function is_firefox() {
    return -1 < navigator.userAgent.toLowerCase().indexOf("firefox")
}

function is_ie() {
    return -1 < navigator.userAgent.toLowerCase().indexOf("msie") || -1 < navigator.userAgent.toLowerCase().indexOf("trident")
}

function is_edge() {
    return -1 < navigator.userAgent.toLowerCase().indexOf("edge")
}
var last = function(k) {
    return k[k.length - 1]
};

function random_darkish_color() {
    var k = Math.round(127 * Math.random()).toString(16),
        a = Math.round(127 * Math.random()).toString(16),
        c = Math.round(127 * Math.random()).toString(16);
    return "#" + k + a + c
}

function random_color() {
    var k = Math.round(256 * Math.random()).toString(16),
        a = Math.round(256 * Math.random()).toString(16),
        c = Math.round(256 * Math.random()).toString(16);
    return "#" + ("00" + k.toString(16)).slice(-2) + ("00" + a.toString(16)).slice(-2) + ("00" + c.toString(16)).slice(-2)
}
var ARROW_LOOKBACK = 4,
    MOUSE_DRAW_SMOOTHING = .5,
    LEFT_BAR_MIN_WIDTH = 340,
    RIGHT_BAR_MIN_WIDTH = 340,
    SINGLE_SIDE_BAR_MIN_WIDTH;
SINGLE_SIDE_BAR_MIN_WIDTH = "blitz" == game ? 350 : 630;
var MIN_POLYGON_END_DISTANCE = .01,
    MIN_POLYGON_END_DISTANCE_TOUCH = .025,
    MIN_TRACK_MOVE_DISTANCE_SQ = 1E-4,
    ICON_SCALE = .00125,
    NOTE_SCALE = .03,
    THICKNESS_SCALE = 1,
    FONT_SCALE = .002,
    TEXT_QUALITY = 1,
    DRAW_QUALITY = 1,
    ARROW_SCALE = .008,
    ARROW_SCALE2 = 1.7,
    TEND_SCALE = .008,
    TEND_SCALE2 = 1.5,
    MAGIC_NUMBER = 25,
    EPSILON = 1E-9,
    ROTATE_ARROW_SCALE = .05,
    ROTATE_ARROW_MARGIN = .02,
    TEXT_BOX_QUALITY = 4,
    VIDEO_EXTENSIONS = ["mp4", "webgl", "avi"],
    VIDEO_SYNC_DELAY = 1E4,
    MOUSE_IDLE_HIDE_TIME = 5E3,
    MAX_CANVAS_SIZE = 4096,
    ICON_LABEL_SCALE = 1.5,
    TEXT_SCALE = .8,
    BACKGROUND_TEXT_SCALE =
    .8,
    PING_TIME = 500,
    dpi, chat_color = random_darkish_color(),
    room_data, active_slide = 0,
    active_context = "ping_context",
    active_menu = "ping_context",
    userlist = {},
    selected_icon, selected_icon_no_color = !1,
    selected_icon_circle_radius = 0,
    label_position = "pos_bottom",
    icon_extra_scale = 1,
    icon_color = 16711680,
    draw_color = 16711680,
    ping_color = 16711680,
    track_color = 16711680,
    line_color = 16711680,
    curve_color = 16711680,
    text_color = 16777215,
    background_text_color = 0,
    rectangle_outline_color = 16711680,
    rectangle_fill_color = 16711680,
    circle_outline_color =
    16711680,
    circle_fill_color = 16711680,
    polygon_outline_color = 16711680,
    polygon_fill_color = 16711680,
    area_outline_color = 16711680,
    area_fill_color = 16711680,
    background, draw_thickness, curve_thickness, line_thickness, icon_size, ping_size, track_size, draw_end_size, line_end_size, curve_end_size, rectangle_outline_thickness, rectangle_outline_transparancy, rectangle_fill_transparancy, circle_outline_thickness, circle_outline_transparancy, circle_fill_transparancy, polygon_outline_thickness, polygon_outline_transparancy, polygon_fill_transparancy,
    area_outline_thickness, area_outline_transparancy, area_fill_transparancy, my_user, undo_list = [],
    redo_list = [],
    is_room_locked, tactic_name = "",
    graphics, new_drawing, left_click_origin, selected_entities = [],
    previously_selected_entities = [],
    label_font_size = 30,
    last_ping_time, trackers = {},
    my_tracker, last_track_position, tracker_width = .05,
    tracker_height = .05,
    my_user_id, clipboard = [],
    slide_name, assets_loaded = !1,
    select_alpha = .6,
    resources_loading = 0,
    circle_draw_style = "edge",
    drag_delay_running = !1,
    current_text_element, last_mouse_location,
    ping_texture, just_activated, select_box, rotate_arrow0, rotate_arrow1, rotate_arrow2, rotate_arrow3, select_box_dirty = !1,
    select_center, objectContainer, fast_container, background_sprite, renderer, size, size_x, size_y, useWebGL, last_pan_loc, panning, last_move_func, last_end_func, draw_canvas, temp_draw_canvas, draw_context, temp_draw_context, grid_layer, zoom_level = 1,
    control_camera = !1,
    dragging_enabled = !0,
    dragging = !1,
    temp_canvas = document.createElement("canvas"),
    dragging_mode = {},
    presentation_mode = !0,
    align_left = !1,
    left_sidebar_width =
    0,
    right_sidebar_width = 0,
    offset = 0,
    sync_start_time, progress = 0,
    progress_update = Date.now(),
    video_layer, manual_pause = !1,
    sync_seek = !1,
    sync_event, clock_sync_event, last_video_sync = null,
    timeline, timeline_entities = {},
    video_ready = !1,
    video_paused = !0,
    initiated_play = !1,
    im_syncing = !1,
    idleMouseTimer, playback_rate = 1,
    base_playback_rate = 1,
    mouse_down_interrupted;
document.body.onmouseup = function() {
    mouse_down_interrupted = !0
};
var shifted;
$(document).on("keyup keydown", function(k) {
    can_edit() && (shifted = k.shiftKey, "input" != document.activeElement.localName && ("keydown" == k.type ? k.ctrlKey ? 90 == k.keyCode ? undo() : 89 == k.keyCode ? redo() : 65 == k.keyCode ? (select_all(), k.preventDefault()) : 83 == k.keyCode ? my_user.logged_in && tactic_name && "" != tactic_name && socket && (socket.emit("store", room, tactic_name), alert('Tactic stored as: "' + tactic_name + '"'), k.preventDefault()) : 67 == k.keyCode ? copy() : 88 == k.keyCode ? cut() : 86 == k.keyCode && paste() : 32 == k.keyCode && "keydown" ==
        k.type && video_layer && can_edit() && (toggle_play(), k.preventDefault()) : "keyup" == k.type && (46 == k.keyCode ? clear_selected() : 16 == k.keyCode ? "line_context" == active_context && new_drawing && on_line_end(k) : 34 === k.keyCode ? next_slide() : 33 === k.keyCode && prev_slide())))
});

function cut() {
    copy();
    clear_selected()
}

function copy() {
    clipboard = [];
    for (var k in selected_entities) {
        var a = selected_entities[k].container;
        selected_entities[k].container = null;
        clipboard.push(JSON.parse(JSON.stringify(selected_entities[k])));
        selected_entities[k].container = a
    }
}

function paste() {
    if (0 != clipboard.length) {
        deselect_all();
        var k = mouse_loc(),
            a = from_x_local(k.x),
            k = from_y_local(k.y);
        if (1 < Math.abs(a) || 1 < Math.abs(k)) a = k = 0;
        var c = 1,
            g = 1,
            h;
        for (h in clipboard) c = Math.min(c, clipboard[h].y), g = Math.min(g, clipboard[h].x);
        var n = [];
        for (h in clipboard) {
            var m = JSON.parse(JSON.stringify(clipboard[h]));
            m.uid = newUid();
            m.x = a + (m.x - g);
            m.y = k + (m.y - c);
            n.push(m);
            create_entity(m);
            snap_and_emit_entity(m);
            selected_entities.push(m);
            adjust_zoom(m);
            render_scene()
        }
        select_entities();
        undo_list.push(clone_action(["add",
            n
        ]))
    }
}

function adjust_zoom(k) {
    if (k.container) {
        var a = 1;
        k.draw_zoom_level && (a = zoom_level / k.draw_zoom_level);
        switch (k.type) {
            case "icon":
            case "note":
                k.container.scale.x = k.container.orig_scale[0] * a;
                k.container.scale.y = k.container.orig_scale[1] * a;
                redraw_circle(k);
                break;
            case "text":
                remove(k.uid);
                create_text2(k);
                break;
            case "background_text":
                remove(k.uid);
                create_background_text2(k);
                break;
            case "drawing":
                remove(k.uid);
                create_drawing2(k, DRAW_QUALITY, a);
                break;
            case "curve":
                remove(k.uid);
                create_curve2(k, DRAW_QUALITY, a);
                break;
            case "line":
                remove(k.uid);
                create_line2(k, DRAW_QUALITY, a);
                break;
            case "rectangle":
                remove(k.uid);
                create_rectangle2(k, DRAW_QUALITY, a);
                break;
            case "circle":
                remove(k.uid);
                create_circle2(k, DRAW_QUALITY, a);
                break;
            case "polygon":
                remove(k.uid);
                create_polygon2(k, DRAW_QUALITY, a);
                break;
            case "area":
                remove(k.uid), create_area2(k, DRAW_QUALITY, a)
        }
        k.scale && (k.container.scale.x = k.container.orig_scale[0] * k.scale[0], k.container.scale.y = k.container.orig_scale[1] * k.scale[1]);
        k.container.anchor && set_anchor(k.container,
            .5, .5);
        k.rotation && (k.container.rotation = -k.rotation)
    }
}

function zoom(k, a, c, g) {
    k = 1 + k * (a ? 1 : -1);
    objectContainer.scale.x *= k;
    objectContainer.scale.y *= k;
    c[0] += x_rel(background_sprite.x) / background_sprite.scale.x;
    c[1] += y_rel(background_sprite.y) / background_sprite.scale.y;
    objectContainer.x -= x_abs(c[0] * (1 - 1 / k) * objectContainer.scale.x * background_sprite.scale.x);
    objectContainer.y -= y_abs(c[1] * (1 - 1 / k) * objectContainer.scale.y * background_sprite.scale.y);
    correct();
    zoom_level = 1 / objectContainer.scale.y;
    if (room_data)
        for (var h in room_data.slides[active_slide].entities) c = room_data.slides[active_slide].entities[h],
            (adjust_all_zoom || "icon" == c.type || "text" == c.type || "background_text" == c.type) && adjust_zoom(c)
}

function focus_point() {
    if (align_left) {
        var k = window.innerHeight / 2;
        return [from_x_local((window.innerWidth - right_sidebar_width) / 2), from_y_local(k)]
    }
    return [from_x_local(window.innerWidth / 2), from_y_local(window.innerHeight / 2)]
}

function pan_zoom(k, a, c) {
    k = zoom_level / k;
    objectContainer.scale.x *= k;
    objectContainer.scale.y *= k;
    k = focus_point();
    c -= k[1];
    objectContainer.x -= to_x_local_vect(a - k[0]);
    objectContainer.y -= to_y_local_vect(c);
    zoom_level = 1 / objectContainer.scale.y;
    $("#zoom_level").text((1 / zoom_level).toFixed(2));
    correct();
    render_scene()
}

function correct() {
    objectContainer.x = Math.min(0, objectContainer.x);
    objectContainer.y = Math.min(0, objectContainer.y);
    renderer.width * objectContainer.scale.x + objectContainer.x < renderer.view.width && (objectContainer.x = Math.min(0, renderer.view.width - renderer.width * objectContainer.scale.x), 0 == objectContainer.x && (objectContainer.scale.x = renderer.view.width / renderer.width));
    renderer.height * objectContainer.scale.y + objectContainer.y < renderer.view.height && (objectContainer.y = Math.min(0, renderer.view.height - renderer.height *
        objectContainer.scale.y), 0 == objectContainer.y && (objectContainer.scale.y = renderer.view.height / renderer.height));
    objectContainer.scale.y != objectContainer.scale.x && (objectContainer.scale.x = Math.max(objectContainer.scale.x, objectContainer.scale.y), objectContainer.scale.y = Math.max(objectContainer.scale.x, objectContainer.scale.y));
    if (room_data)
        for (var k in room_data.slides[active_slide].entities) room_data.slides[active_slide].entities[k] && "note" == room_data.slides[active_slide].entities[k].type && align_note_text(room_data.slides[active_slide].entities[k]);
    my_tracker && on_track_move();
    render_scene()
}
var pan_state = {};

function on_pan(k) {
    once_per_frame(pan_state, function() {
        var a = mouse_loc(),
            c = a.x - last_pan_loc[0],
            g = a.y - last_pan_loc[1];
        last_pan_loc = [a.x, a.y];
        objectContainer.x += c;
        objectContainer.y += g;
        correct()
    })
}

function resize_renderer(k, a) {
    video_layer && (video_layer.width(k), video_layer.height(a));
    size_x = k;
    size_y = a;
    draw_canvas.width = k * DRAW_QUALITY;
    draw_canvas.height = a * DRAW_QUALITY;
    temp_draw_canvas.width = k * DRAW_QUALITY;
    temp_draw_canvas.height = a * DRAW_QUALITY;
    $(draw_canvas).css("width", "" + k + "px");
    $(draw_canvas).css("height", "" + a + "px");
    $(temp_draw_canvas).css("width", "" + k + "px");
    $(temp_draw_canvas).css("height", "" + a + "px");
    renderer.resize(k, a);
    $("#edit_window").css("width", "" + k + "px");
    $("#edit_window").css("height",
        "" + a + "px");
    var c = background_sprite.texture.width / background_sprite.texture.height,
        g = Math.min(window.innerHeight * c, window.innerWidth - iface_width);
    background_sprite.x = align_left ? 0 : (window.innerWidth - g) / 2;
    background_sprite.y = 0;
    change_background_dim(g, g / c);
    renderer.plugins.interaction.eventData.data && (c = mouse_loc(), zoom(0, !0, [from_x_local(c.x), from_y_local(c.y)]));
    refresh_all_entities()
}

function refresh_all_entities() {
    for (var k in room_data.slides[active_slide].entities) {
        var a = room_data.slides[active_slide].entities[k];
        "background" != a.type && a.container && (remove(a.uid, !0), create_entity(a))
    }
}
window.onresize = function() {
    if (is_video_replay) iface_width = 0, resize_renderer(window.innerWidth, window.innerHeight);
    else {
        var k = 1;
        background_sprite.texture && (k = background_sprite.texture.width / background_sprite.texture.height);
        var a = !1,
            c;
        $("#left_side_bar").length ? (iface_width = LEFT_BAR_MIN_WIDTH + RIGHT_BAR_MIN_WIDTH, c = RIGHT_BAR_MIN_WIDTH) : (c = iface_width = SINGLE_SIDE_BAR_MIN_WIDTH, a = !0);
        1 <= (window.innerWidth - iface_width) / window.innerHeight && !a ? (align_left = !1, $("#left_side_bar").length && ($("#left_side_bar").css("position",
            "relative"), $("#left_side_bar").css("top", "")), $("#right_side_bar").css("position", "relative"), $("#right_side_bar").css("top", ""), $("#map_select_box").prependTo($("#map_select_section")), k = window.innerHeight, a = window.innerWidth, resize_renderer(a, k)) : (align_left = !0, 1.25 * (window.innerWidth - c) >= window.innerHeight ? (window.innerWidth - c > window.innerHeight ? k = window.innerHeight : (a = window.innerWidth - c, k *= a), $("#left_side_bar").length && ($("#left_side_bar").css("position", "absolute"), $("#left_side_bar").css("top",
            "" + k + "px")), $("#right_side_bar").css("position", "relative"), $("#right_side_bar").css("top", ""), $("#map_select_box").prependTo($(".left_column")), iface_width = c) : (window.innerWidth > window.innerHeight ? k = window.innerHeight : (a = window.innerWidth, k *= a), $("#left_side_bar").length && ($("#left_side_bar").css("position", "absolute"), $("#left_side_bar").css("top", "" + k + "px")), $("#right_side_bar").css("position", "absolute"), $("#right_side_bar").css("top", "" + k + "px"), iface_width = 0), resize_renderer(window.innerWidth,
            k));
        render_scene()
    }
};

function mouse_loc() {
    return JSON.parse(JSON.stringify(renderer.plugins.interaction.eventData.data.global))
}

function x_rel(k) {
    return k * background_sprite.scale.x / background_sprite.height
}

function x_abs(k) {
    return k * background_sprite.height / background_sprite.scale.x
}

function y_rel(k) {
    return k * background_sprite.scale.y / background_sprite.height
}

function y_abs(k) {
    return k * background_sprite.height / background_sprite.scale.y
}

function to_x_local(k) {
    return (k * background_sprite.height + background_sprite.x) * objectContainer.scale.x + objectContainer.x
}

function from_x_local(k) {
    return ((k - objectContainer.x) / objectContainer.scale.x - background_sprite.x) / background_sprite.height
}

function to_y_local(k) {
    return (k * background_sprite.height + background_sprite.y) * objectContainer.scale.y + objectContainer.y
}

function from_y_local(k) {
    return ((k - objectContainer.y) / objectContainer.scale.y - background_sprite.y) / background_sprite.height
}

function to_x_local_vect(k) {
    return k * background_sprite.height * objectContainer.scale.x
}

function from_x_local_vect(k) {
    return k / objectContainer.scale.x / background_sprite.height
}

function to_y_local_vect(k) {
    return k * background_sprite.height * objectContainer.scale.y
}

function from_y_local_vect(k) {
    return k / objectContainer.scale.y / background_sprite.height
}

function mouse_x_abs(k) {
    return k
}

function mouse_y_abs(k) {
    return k
}

function mouse_x_rel(k) {
    return k / (background_sprite.height / background_sprite.scale.x)
}

function mouse_y_rel(k) {
    return k / (background_sprite.height / background_sprite.scale.y)
}

function is_video(k) {
    return "" != get_video_type(k)
}

function get_video_type(k) {
    for (var a = k.split(".").pop(), c = 0; c < VIDEO_EXTENSIONS.length; c++)
        if (a.startsWith(VIDEO_EXTENSIONS[c])) return "video/" + VIDEO_EXTENSIONS[c];
    return -1 != k.toUpperCase().indexOf("YOUTUBE") ? "video/youtube" : -1 != k.toUpperCase().indexOf("VIMEO") ? "video/vimeo" : ""
}

function reset_background() {
    background_sprite.alpha = 1;
    video_ready = !1;
    video_media && video_media.setCurrentTime(0);
    video_player && (video_player.pause(), video_player.remove());
    $("#video_player") && $("#video_player").remove();
    video_layer = null;
    $("#left_detect").unbind("mouseenter");
    $("#right_detect").unbind("mouseenter");
    $("#left_side_bar").unbind("mouseleave");
    $("#right_side_bar").unbind("mouseleave");
    $("#left_side_bar").show();
    $("#right_side_bar").show();
    clearTimeout(idleMouseTimer)
}
var video_player, video_media;

function init_video_controls() {
    $("#left_detect").mouseenter(function() {
        $("#left_side_bar").show()
    });
    $("#right_detect").mouseenter(function() {
        $("#right_side_bar").show()
    });
    $("#left_side_bar").mouseleave(function() {
        $("#left_side_bar").hide()
    });
    $("#right_side_bar").mouseleave(function() {
        $("#right_side_bar").hide()
    });
    $("#left_side_bar").hide();
    $("#right_side_bar").hide()
}

function start_syncing() {
    clearInterval(sync_event);
    im_syncing = !0;
    for (var k = 0; 5 > k; k++) setTimeout(function() {
        var a = video_progress();
        socket.emit("sync_video", room, a, get_server_time())
    }, 2E3 * k);
    sync_event = setInterval(function() {
        var a = video_progress();
        socket.emit("sync_video", room, a, get_server_time())
    }, 1E4)
}

function play_video_controls() {
    $(".mejs-controls").mouseenter(function() {
        $(".mejs-controls").css("opacity", 1)
    });
    $(".mejs-controls").mouseleave(function() {
        $(".mejs-controls").css("opacity", 0)
    });
    $(".mejs-controls").css("opacity", 0);
    can_edit() ? $(".mejs-controls").show() : $(".mejs-controls").hide()
}

function pause_video_controls() {
    $(".mejs-controls").unbind("mouseenter");
    $(".mejs-controls").unbind("mouseleave");
    $(".mejs-controls").css("opacity", 1)
}

function toggle_play() {
    if (background.is_video)
        if (video_paused) {
            var k = video_progress();
            socket.emit("play_video", room, k, base_playback_rate);
            initiated_play = !0;
            play_video_controls();
            start_syncing()
        } else manual_pause = !0, video_player.pause(), pause_video_controls()
}
var ignore_jump = !1;

function init_video_triggers() {
    video_media.addEventListener("pause", function(k) {
        manual_pause && (clearInterval(sync_event), im_syncing = !1, video_paused = !0, socket.emit("pause_video", room, video_progress()), manual_pause = !1)
    });
    video_media.addEventListener("play", function(k) {
        window.onresize();
        initiated_play ? (start_syncing(), initiated_play = !1) : stop_syncing();
        video_paused && (video_player.pause(), video_media.currentTime = last_video_sync ? last_video_sync[0] : 0, video_player.pause())
    });
    video_media.addEventListener("ended",
        function(k) {
            im_syncing && socket.emit("pause_video", room, 0)
        });
    video_media.addEventListener("canplay", function(k) {
        window.onresize()
    });
    video_media.addEventListener("timeupdate", function(k) {
        progress = video_media.currentTime;
        progress_update = Date.now()
    });
    $(".mejs-playpause-button").unbind("click");
    $(".mejs-playpause-button").click(function(k) {
        toggle_play();
        k.preventDefault();
        return !1
    });
    $(".mejs-time-rail").on("mousedown", function() {
        wait_for_seek(function() {
            socket.emit("seek_video", room, video_progress(), get_server_time());
            video_paused || start_syncing();
            rebuild_timeline()
        })
    })
}

function wait_for_seek(k) {
    var a = Date.now(),
        c = video_progress(),
        g = setInterval(function() {
            video_progress();
            .05 < Math.abs(video_progress() - (c + (Date.now() - a) / 1E3)) && (k(), clearInterval(g));
            1E4 < Date.now() - a && clearInterval(g)
        }, 5)
}

function change_background_dim(k, a) {
    var c = zoom_level,
        g;
    g = background_sprite.height;
    background_sprite.width = k;
    background_sprite.height = a;
    grid_layer.width = background_sprite.width / background_sprite.scale.x;
    grid_layer.height = background_sprite.height / background_sprite.scale.y;
    g = a / g;
    if (1 != g && room_data)
        for (var h in room_data.slides[active_slide].entities) {
            var n = room_data.slides[active_slide].entities[h];
            n.container && (n.container.x *= g, n.container.y *= g, n.container.width *= g, n.container.height *= g)
        }
    room_data.slides[active_slide].pan_zoom ?
        (c = room_data.slides[active_slide].pan_zoom, pan_zoom(c[0], c[1], c[2])) : (h = focus_point(), pan_zoom(c, h[0], h[1]));
    zoom_level = 1 / objectContainer.scale.y
}

function create_empty_background_texture(k, a, c) {
    "undefined" == typeof c && (c = 1);
    var g = new PIXI.Graphics;
    g.beginFill(16777215, c);
    g.moveTo(0, 0);
    g.lineTo(k, 0);
    g.lineTo(k, a);
    g.lineTo(0, a);
    g.lineTo(0, 0);
    g.endFill();
    return renderer.generateTexture(g)
}

function set_background(k, a) {
    if ("" != k.path)
        if (k.is_video) {
            reset_background();
            background_sprite.texture = create_empty_background_texture(1920, 1080, 0);
            background = k;
            history[background.uid] = background;
            room_data.slides[active_slide].entities[k.uid] = k;
            add_custom_map(background.path);
            $("#wotbase_map_select_container").hide();
            $("#map_select_container").show();
            var c = get_video_type(k.path);
            video_layer = $("<video />", {
                id: "video_player",
                autoplay: !1,
                controls: !0
            });
            $("<source />", {
                type: c,
                src: k.path
            }).appendTo(video_layer);
            video_layer.appendTo($("#video_div"));
            video_layer.mediaelementplayer({
                videoHeight: "100%",
                loop: !1,
                autoPlay: !1,
                enableAutosize: !0,
                alwaysShowControls: !0,
                speeds: "0.25 0.50 1.00 1.25 1.50 2.00".split(" "),
                defaultSpeed: "1.00",
                speedChar: "x",
                features: "playpause speed progress current duration tracks volume".split(" "),
                success: function(g, h, f) {
                    video_media = g;
                    video_paused = !room_data.playing;
                    video_player = f;
                    "video/youtube" == c && video_media.pluginApi.pauseVideo();
                    init_video_controls();
                    $(".mejs-controls").css("z-index",
                        9);
                    $(".mejs-controls").css("position", "fixed");
                    $(".mejs-controls").css("left", "0px");
                    $(".mejs-controls").css("bottom", "0px");
                    $(".mejs-controls").css("height", "26px");
                    init_video_triggers();
                    timeline = new FastPriorityQueue;
                    video_ready = !0;
                    room_data.playing ? room_data.last_sync ? handle_play(room_data.last_sync[0], Date.now()) : handle_play(0, Date.now()) : room_data.last_sync && (video_media.setCurrentTime(room_data.last_sync[0]), video_player.pause());
                    "youtube" == video_media.pluginType && (g = video_media.pluginType,
                        video_player.options.speeds = video_media.pluginApi.getAvailablePlaybackRates().map(function(a) {
                            return a.toFixed(2)
                        }), video_player.options.defaultSpeed = "1.00", video_media.pluginType = "native", video_player.buildspeed(f, f.controls, f.layers, f.media), $(".mejs-playpause-button").after($(".mejs-speed-button")), video_media.pluginType = g);
                    playback_rate = base_playback_rate = 1;
                    $(".mejs-speed-button").find(".mejs-speed-selector").on("click", 'input[type="radio"]', function() {
                        var a = parseFloat($(this).attr("value"));
                        socket.emit("change_rate", room, a);
                        set_playback_rate(a, a);
                        start_syncing()
                    });
                    var d = !1;
                    $(renderer.view).css("cursor", "none");
                    $(renderer.view).mousemove(function(a) {
                        d || ($(renderer.view).css("cursor", "default"), clearTimeout(idleMouseTimer), idleMouseTimer = setTimeout(function() {
                            $(renderer.view).css("cursor", "none");
                            d = !0;
                            setTimeout(function() {
                                d = !1
                            }, 200)
                        }, MOUSE_IDLE_HIDE_TIME))
                    });
                    socket.emit("request_sync", room);
                    window.onresize();
                    render_scene();
                    a && a(!0)
                }
            })
        } else {
            resources_loading++;
            var g;
            g = -1 == k.path.indexOf("://") ?
                PIXI.Texture.fromImage(static_host + k.path) : PIXI.Texture.fromImage(k.path);
            var h = function() {
                reset_background();
                background = k;
                history[background.uid] = background;
                background_sprite.texture = g;
                var c = $("#map_select").find('option[value="' + k.path + '"]').attr("data-grid");
                if (c) {
                    var h = new Image;
                    h.crossOrigin = "Anonymous";
                    h.onload = function() {
                        grid_layer.texture = new PIXI.Texture(new PIXI.BaseTexture(h));
                        render_scene()
                    };
                    h.src = image_host + c
                }
                room_data.slides[active_slide].entities[k.uid] = k;
                resources_loading--;
                0 < $("#map_select option[value='" +
                        background.path + "']").length ? ($("#map_select").val(background.path).change(), $("#select_hd").prop("checked", !0), $("#map_select_container").show(), $("#wotbase_select_container").hide(), $("#new_minimap_select_container").hide()) : 0 < $("#wotbase_select option[value='" + background.path + "']").length ? ($("#wotbase_select").val(background.path).change(), $("#select_wotbase").prop("checked", !0), $("#map_select_container").hide(), $("#wotbase_select_container").show(), $("#new_minimap_select_container").hide()) : 0 <
                    $("#new_minimap_select option[value='" + background.path + "']").length ? ($("#new_minimap_select").val(background.path).change(), $("#select_new_minimap").prop("checked", !0), $("#map_select_container").hide(), $("#wotbase_select_container").hide(), $("#new_minimap_select_container").show()) : (add_custom_map(background.path), $("#select_hd").prop("checked", !0), $("#map_select_container").show(), $("#wotbase_select_container").hide(), $("#new_minimap_select_container").hide());
                background.size_x && background.size_y &&
                    0 < background.size_x && 0 < background.size_y ? $("#map_size").text("(" + background.size_x + " x " + background.size_y + ")") : $("#map_size").text("");
                window.onresize();
                render_scene();
                a && a(!0)
            };
            g.baseTexture.hasLoaded ? h() : (g.baseTexture.on("loaded", function() {
                h()
            }), g.baseTexture.on("error", function(c) {
                alert("Image exists, but the host does not allow embedding. Try uploading your map to a service such as https://imgur.com.");
                resources_loading--;
                a && a(!1)
            }))
        }
    else reset_background(), background = k, history[background.uid] =
        background, $("#map_select").val(background.path).change(), $("#select_hd").prop("checked", !0), $("#map_select_container").show(), $("#wotbase_select_container").hide(), $("#new_minimap_select_container").hide(), background_sprite.texture = is_video_replay ? create_empty_background_texture(1920, 1080) : create_empty_background_texture(1E3, 1E3), window.onresize(), $("#map_size").text(""), render_scene(), a && a(!0)
}
var context_before_drag, move_selected, drag_timeout, last_drag_position, last_drag_update, dragged_entity;

function on_drag_start(k) {
    this == select_box && (once_per_frame(select_box_move_state, function() {}), select_box.mousemove = void 0, select_box.touchmove = void 0, select_box.mouseover = void 0, select_box.mouseout = void 0, select_box.touchend = void 0);
    drag_delay_running = !0;
    drag_timeout && clearTimeout(drag_timeout);
    _this = this;
    var a = k.data.getLocalPosition(background_sprite);
    last_mouse_location = [mouse_x_rel(a.x), mouse_y_rel(a.y)];
    mouse_down_interrupted = !1;
    a = 0;
    if ("ping_context" != active_context || _this.entity && "note" ==
        _this.entity.type) {
        if ("remove_context" == active_context || "eraser_context" == active_context) {
            _this.entity && (deselect_all(), remove(_this.entity.uid), undo_list.push(clone_action(["remove", [_this.entity]])), socket.emit("remove", room, _this.entity.uid, active_slide), "eraser_context" == active_context && on_left_click(k));
            _this == select_box && clear_selected();
            k.stopPropagation();
            return
        }
        "drag_context" != active_context && (context_before_drag = active_context);
        active_context = "drag_context";
        k.stopPropagation()
    } else a = 300;
    drag_timeout = setTimeout(function() {
        if (mouse_down_interrupted) drag_delay_running = !1, deselect_all();
        else if (is_room_locked && !my_user.role) _this.entity && "note" == _this.entity.type && (_this.mouseup = toggle_note, _this.touchend = toggle_note, _this.mouseupoutside = toggle_note, _this.touchendoutside = toggle_note);
        else {
            dragging = !0;
            var a = mouse_loc();
            last_drag_update = Date.now();
            last_drag_position = [from_x_local(a.x), from_y_local(a.y)];
            dragged_entity = _this;
            objectContainer.buttonMode = !0;
            "drag_context" != active_context &&
                (context_before_drag = active_context);
            active_context = "drag_context";
            _this.mouseup = on_drag_end;
            _this.touchend = on_drag_end;
            _this.mouseupoutside = on_drag_end;
            _this.touchendoutside = on_drag_end;
            _this.mousemove = on_drag_move;
            _this.touchmove = on_drag_move;
            $("html,body").css("cursor", "pointer");
            move_selected = !1;
            if (_this.entity)
                for (var g in selected_entities) {
                    if (selected_entities[g].uid == _this.entity.uid) {
                        move_selected = !0;
                        break
                    }
                } else move_selected = !0;
            move_selected || deselect_all();
            for (g in selected_entities) selected_entities[g].origin_x =
                selected_entities[g].x, selected_entities[g].origin_y = selected_entities[g].y, background_sprite.removeChild(selected_entities[g].container), background_sprite.addChild(selected_entities[g].container);
            _this.entity && (_this.entity.origin_x = _this.entity.x, _this.entity.origin_y = _this.entity.y);
            drag_delay_running = !1;
            select_box && (background_sprite.removeChild(select_box), background_sprite.addChild(select_box));
            render_scene()
        }
    }, a)
}

function toggle_note(k) {
    this.entity.is_open = this.entity.is_open ? !1 : !0;
    align_note_text(this.entity)
}

function move_entity(k, a, c) {
    k.container && (a = k.container.x + x_abs(a), c = k.container.y + y_abs(c), drag_entity(k, k.x + x_rel(a - k.container.x), k.y + y_rel(c - k.container.y)))
}

function once_per_frame(k, a) {
    k.in_progress || (k.in_progress = !0, requestAnimationFrame(function() {
        k.in_progress = !1;
        a()
    }))
}

function limit_rate(k, a, c) {
    clearTimeout(a.timeout);
    a.last_trigger || (a.last_trigger = Date.now());
    Date.now() - a.last_trigger > k ? (c(), a.last_trigger = Date.now()) : a.timeout = setTimeout(function() {
        c();
        a.last_trigger = Date.now()
    }, k + 5)
}
var drag_state = {};

function on_drag_move(k) {
    _this = this;
    once_per_frame(drag_state, function() {
        var a = k.data.getLocalPosition(background_sprite),
            a = [mouse_x_rel(a.x), mouse_y_rel(a.y)],
            c = a[0] - last_mouse_location[0],
            g = a[1] - last_mouse_location[1];
        if (move_selected)
            for (var h in selected_entities) move_entity(selected_entities[h], c, g);
        else move_entity(_this.entity, c, g);
        select_box && (select_box.x += x_abs(c), select_box.y += y_abs(g));
        select_box && (background_sprite.removeChild(select_box), background_sprite.addChild(select_box));
        last_mouse_location =
            a;
        render_scene()
    })
}

function on_drag_end(k) {
    once_per_frame(drag_state, function() {});
    if (this.entity && Math.abs(this.entity.origin_x - this.entity.x) < EPSILON && Math.abs(this.entity.origin_y - this.entity.y) < EPSILON) "remove_context" == context_before_drag ? (remove(this.entity.uid), undo_list.push(clone_action(["remove", [this.entity]])), socket.emit("remove", room, this.entity.uid, active_slide)) : "note" == this.entity.type && (toggle_note.call(this, k), deselect_all());
    else {
        k = ["drag", []];
        if (0 < selected_entities.length)
            for (var a in selected_entities) {
                var c = [selected_entities[a].origin_x,
                    selected_entities[a].origin_y
                ];
                k[1].push([c, selected_entities[a].uid]);
                delete selected_entities[a].origin_x;
                delete selected_entities[a].origin_y;
                socket.emit("drag", room, selected_entities[a].uid, active_slide, selected_entities[a].x, selected_entities[a].y)
            } else c = [this.entity.origin_x, this.entity.origin_y], k[1].push([c, this.entity.uid]), delete this.entity.origin_x, delete this.entity.origin_y, socket.emit("drag", room, this.entity.uid, active_slide, this.entity.x, this.entity.y);
        undo_list.push(clone_action(k))
    }
    cancel_drag();
    render_scene()
}

function remove(k, a) {
    var c = room_data.slides[active_slide].entities[k];
    if (c && c.container && (dragged_entity && dragged_entity.entity && dragged_entity.entity.uid == k && cancel_drag(!0), "note" == c.type && c.container.menu.remove(), background_sprite.removeChild(c.container), delete c.container, "icon" == c.type)) try {
        var g = $('button[id*="' + room_data.slides[active_slide].entities[k].tank + '"]').find("span");
        g[0].innerHTML = parseInt(g[0].innerHTML) - 1;
        g = $("#icon_context").find("span").first();
        g.text((parseInt(g.text()) - 1).toString())
    } catch (h) {}
    for (c =
        selected_entities.length; c--;)
        if (selected_entities[c].uid == k) {
            selected_entities.splice(c, 1);
            "drag_context" == active_context && move_selected && cancel_drag(!0);
            break
        } a || delete room_data.slides[active_slide].entities[k];
    select_box_dirty = !0;
    render_scene()
}

function move_tracker(k, a, c) {
    var g = .1 * a,
        h = .1 * c,
        n = 10,
        m = setInterval(function() {
            trackers[k] && (trackers[k].x += g, trackers[k].y += h, trackers[k].container.x += x_abs(g), trackers[k].container.y += y_abs(h), render_scene());
            n--;
            0 == n && clearInterval(m)
        }, 15)
}
var scene_dirty = !1;

function render_scene() {
    scene_dirty = !0
}

function get_offset() {
    return offset
}

function get_server_time() {
    return Date.now() + offset
}

function get_local_time(k) {
    return k - offset
}
var ping_container_atlas = {},
    ping_texture_atlas = {},
    active_pings = [];

function ping(k, a, c, g) {
    var h;
    if (ping_container_atlas[c]) h = ping_container_atlas[c];
    else {
        h = new PIXI.particles.ParticleContainer(500, {
            scale: !0,
            alpha: !0
        });
        ping_container_atlas[c] = h;
        var n = new PIXI.Sprite(ping_texture),
            n = PIXI.CanvasTinter.getTintedTexture(n, c);
        ping_texture_atlas[c] = new PIXI.Texture.fromCanvas(n);
        background_sprite.addChild(h)
    }
    c = new PIXI.Sprite(ping_texture_atlas[c]);
    c.anchor.set(.5);
    c.start_size = y_abs(.01) * (g / 10) * zoom_level;
    c.height = c.start_size;
    c.width = c.start_size;
    c.x = x_abs(k);
    c.y = y_abs(a);
    c.container = h;
    h.addChild(c);
    c.stop_time = Date.now() + PING_TIME;
    c.growth = 5 * c.height;
    render_scene();
    active_pings.push(c)
}

function update_pings() {
    var k = Date.now();
    active_pings = active_pings.filter(function(a) {
        var c = a.stop_time - k,
            g = 1 - c / PING_TIME,
            h = a.start_size + g * a.growth;
        a.height = h;
        a.width = h;
        a.alpha = .5 + .5 * (1 - g);
        if (0 >= c) return a.container.removeChild(a), render_scene(), !1;
        render_scene();
        return !0
    })
}

function setup_mouse_events(k, a) {
    objectContainer.mouseup = a;
    objectContainer.touchend = a;
    objectContainer.mouseupoutside = a;
    objectContainer.touchendoutside = a;
    objectContainer.mousemove = k;
    objectContainer.touchmove = k
}

function align_note_text(k) {
    if (k.container)
        if (k.is_open) {
            var a = $("#edit_window")[0].getBoundingClientRect(),
                c = a.left + to_x_local(k.x) + k.container.width * objectContainer.scale.x * background_sprite.scale.x,
                a = a.top + to_y_local(k.y);
            k.container.menu.attr("style", "top:" + a + "px; left:" + c + "px; display:block; z-index:8")
        } else k.container.menu.css("visibility", "hidden")
}
var drawArrow = function(k, a, c, g, h, n, m, f, d, e) {
    a *= e;
    c *= e;
    g *= e;
    h *= e;
    d *= 1.2;
    n = [g - a, h - c];
    var b = Math.atan2(n[1], n[0]);
    m = Math.abs(d * e / Math.cos(f));
    var p = b + Math.PI + f;
    e = g + Math.cos(p) * m;
    p = h + Math.sin(p) * m;
    f = b + Math.PI - f;
    g += Math.cos(f) * m;
    h += Math.sin(f) * m;
    k.beginPath();
    k.moveTo(e, p);
    k.lineTo(a + d / 3 * n[0], c + d / 3 * n[1]);
    k.lineTo(g, h);
    k.quadraticCurveTo((e + a + g) / 3, (p + c + h) / 3, e, p);
    k.fill()
};

function hexToRGBA(k, a) {
    var c = parseInt(k.slice(1, 3), 16),
        g = parseInt(k.slice(3, 5), 16),
        h = parseInt(k.slice(5, 7), 16);
    return "rgba(" + c + ", " + g + ", " + h + ", " + a + ")"
}

function init_canvas_simple(k, a, c, g) {
    c = "#" + ("00000" + (c | 0).toString(16)).substr(-6);
    k.lineWidth = a * THICKNESS_SCALE;
    k.strokeStyle = c;
    k.fillStyle = c;
    k.shadowBlur = k.lineWidth / 2;
    k.shadowColor = "#000000";
    "setLineDash" in k && ("dashed" == g ? (k.setLineDash([5 * a, 3 * a]), k.lineJoin = k.lineCap = "round") : "dotted" == g ? (k.setLineDash([a, a]), k.lineJoin = k.lineCap = "butt") : k.lineJoin = k.lineCap = "round")
}

function init_canvas(k, a, c, g, h, n, m) {
    init_canvas_simple(k, a, c, g);
    c = "#" + ("00000" + (c | 0).toString(16)).substr(-6);
    "undefined" !== typeof h && (n = "#" + ("00000" + (n | 0).toString(16)).substr(-6), a = hexToRGBA(n, h), k.fillStyle = a, ("00000" + (n | 0).toString(16)).substr(-6), c = hexToRGBA(c, m), k.strokeStyle = c)
}

function init_canvases(k, a, c, g, h, n) {
    start_drawing();
    init_canvas(draw_context, k * DRAW_QUALITY, a, c, g, h, n);
    init_canvas(temp_draw_context, k * DRAW_QUALITY, a, c, g, h, n);
    draw_context.beginPath();
    temp_draw_context.beginPath()
}

function can_edit() {
    return !is_room_locked || my_user.role
}

function t2o(k) {
    return 1 - k / 100
}
var last_point;

function on_left_click(k) {
    "drag_context" == active_context && cancel_drag(!0);
    var a = mouse_loc();
    if (can_edit()) {
        try {
            document.activeElement.blur()
        } catch (g) {}
        if ("drag_context" != active_context)
            if ("ping_context" != active_context && deselect_all(), "draw_context" == active_context) {
                setup_mouse_events(on_draw_move, on_draw_end);
                k = from_x_local(a.x);
                var c = from_y_local(a.y);
                new_drawing = {
                    uid: newUid(),
                    type: "drawing",
                    x: k,
                    y: c,
                    scale: [1, 1],
                    color: draw_color,
                    alpha: 1,
                    thickness: parseFloat(draw_thickness) * zoom_level,
                    end: $("#draw_end_type").find(".active").attr("data-end"),
                    style: $("#draw_type").find(".active").attr("data-style"),
                    path: [
                        [0, 0]
                    ],
                    end_size: draw_end_size * zoom_level,
                    draw_zoom_level: zoom_level
                };
                init_canvases(parseFloat(draw_thickness), new_drawing.color, new_drawing.style);
                point_buffer = [a.x, a.y];
                last_point = [a.x, a.y]
            } else "ruler_context" == active_context ? (setup_mouse_events(on_ruler_move, on_ruler_end), init_canvases(.1, 16777215, "full"), temp_draw_context.lineWidth = size_x / 1E3 * 2 * DRAW_QUALITY, temp_draw_context.strokeStyle = "#FFFFFF", temp_draw_context.fillStyle = "#FFFFFF",
                k = 22 * DRAW_QUALITY, temp_draw_context.font = "" + k + "px Arial", left_click_origin = [from_x_local(a.x), from_y_local(a.y)]) : "line_context" == active_context ? new_drawing || (setup_mouse_events(on_line_move, on_line_end), new_drawing = {
                uid: newUid(),
                type: "line",
                x: from_x_local(a.x),
                y: from_y_local(a.y),
                scale: [1, 1],
                color: line_color,
                alpha: 1,
                thickness: parseFloat(line_thickness) * zoom_level,
                path: [
                    [0, 0]
                ],
                end: $("#line_end_type").find(".active").attr("data-end"),
                style: $("#line_type").find(".active").attr("data-style"),
                end_size: line_end_size *
                    zoom_level,
                draw_zoom_level: zoom_level
            }, init_canvases(parseFloat(line_thickness), new_drawing.color, new_drawing.style), draw_context.moveTo(a.x * DRAW_QUALITY, a.y * DRAW_QUALITY), just_activated = !0) : "polygon_context" == active_context ? new_drawing || (setup_mouse_events(on_line_move, on_polygon_end), new_drawing = {
                    uid: newUid(),
                    type: "polygon",
                    x: from_x_local(a.x),
                    y: from_y_local(a.y),
                    scale: [1, 1],
                    outline_thickness: polygon_outline_thickness * zoom_level,
                    outline_color: polygon_outline_color,
                    outline_opacity: t2o(polygon_outline_transparancy),
                    fill_color: polygon_fill_color,
                    fill_opacity: t2o(polygon_fill_transparancy),
                    alpha: 1,
                    path: [
                        [0, 0]
                    ],
                    style: $("#polygon_type").find(".active").attr("data-style"),
                    draw_zoom_level: zoom_level
                }, init_canvases(polygon_outline_thickness, new_drawing.outline_color, new_drawing.style, new_drawing.fill_opacity, new_drawing.fill_color, new_drawing.outline_opacity), draw_context.moveTo(a.x * DRAW_QUALITY, a.y * DRAW_QUALITY), k = "touchstart" == k.type ? MIN_POLYGON_END_DISTANCE_TOUCH : MIN_POLYGON_END_DISTANCE, graphics = new PIXI.Graphics,
                graphics.lineStyle(new_drawing.outline_thickness / background_sprite.scale.y * THICKNESS_SCALE, new_drawing.outline_color, new_drawing.outline_opacity), graphics.moveTo(x_abs(from_x_local(a.x)), y_abs(from_y_local(a.y))), graphics.drawShape(new PIXI.Circle(x_abs(from_x_local(a.x)), y_abs(from_y_local(a.y)), background_sprite.height / background_sprite.scale.y * k * zoom_level)), background_sprite.addChild(graphics), just_activated = !0, render_scene()) : "curve_context" == active_context ? new_drawing || (new_drawing = {
                uid: newUid(),
                type: "curve",
                x: from_x_local(a.x),
                y: from_y_local(a.y),
                scale: [1, 1],
                color: curve_color,
                alpha: 1,
                thickness: parseFloat(curve_thickness) * zoom_level,
                path: [
                    [0, 0]
                ],
                end: $("#curve_end_type").find(".active").attr("data-end"),
                style: $("#curve_type").find(".active").attr("data-style"),
                end_size: curve_end_size * zoom_level,
                draw_zoom_level: zoom_level
            }, point_buffer = [a.x, a.y], init_canvases(parseFloat(curve_thickness), new_drawing.color, new_drawing.style), draw_context.moveTo(a.x * DRAW_QUALITY, a.y * DRAW_QUALITY), setup_mouse_events(on_curve_move,
                on_curve_end), just_activated = !0) : "area_context" == active_context ? new_drawing || (new_drawing = {
                uid: newUid(),
                type: "area",
                x: from_x_local(a.x),
                y: from_y_local(a.y),
                scale: [1, 1],
                outline_thickness: parseFloat(area_outline_thickness) * zoom_level,
                outline_color: area_outline_color,
                outline_opacity: t2o(area_outline_transparancy),
                fill_color: area_fill_color,
                fill_opacity: t2o(area_fill_transparancy),
                alpha: 1,
                path: [
                    [0, 0]
                ],
                style: $("#area_type").find(".active").attr("data-style"),
                draw_zoom_level: zoom_level
            }, point_buffer = [a.x,
                a.y
            ], init_canvases(parseFloat(area_outline_thickness), new_drawing.outline_color, new_drawing.style, new_drawing.fill_opacity, new_drawing.fill_color, new_drawing.outline_opacity), draw_context.moveTo(a.x * DRAW_QUALITY, a.y * DRAW_QUALITY), k = "touchstart" == k.type ? MIN_POLYGON_END_DISTANCE_TOUCH : MIN_POLYGON_END_DISTANCE, graphics = new PIXI.Graphics, graphics.lineStyle(new_drawing.outline_thickness / background_sprite.scale.y * THICKNESS_SCALE, new_drawing.outline_color, new_drawing.outline_opacity), graphics.moveTo(x_abs(from_x_local(a.x)),
                y_abs(from_y_local(a.y))), graphics.drawShape(new PIXI.Circle(x_abs(from_x_local(a.x)), y_abs(from_y_local(a.y)), background_sprite.height / background_sprite.scale.y * k * zoom_level)), background_sprite.addChild(graphics), setup_mouse_events(on_curve_move, on_area_end), just_activated = !0, render_scene()) : "icon_context" == active_context ? setup_mouse_events(void 0, on_icon_end) : "eraser_context" == active_context ? setup_mouse_events(on_eraser_move, on_eraser_end) : "ping_context" == active_context ? (drag_delay_running || deselect_all(),
                last_ping_time = new Date, setup_mouse_events(on_ping_move, on_ping_end)) : "select_context" == active_context ? (setup_mouse_events(on_select_move, on_select_end), init_canvases(2, 12303291, "dotted", .25, 12303291, 1), left_click_origin = [from_x_local(a.x), from_y_local(a.y)], deselect_all()) : "text_context" == active_context ? setup_mouse_events(void 0, on_text_end) : "background_text_context" == active_context ? setup_mouse_events(void 0, on_background_text_end) : "rectangle_context" == active_context ? new_drawing || (setup_mouse_events(on_rectangle_move,
                on_rectangle_end), left_click_origin = [from_x_local(a.x), from_y_local(a.y)], init_canvases(rectangle_outline_thickness, rectangle_outline_color, $("#rectangle_type").find(".active").attr("data-style"), t2o(rectangle_fill_transparancy), rectangle_fill_color, t2o(rectangle_outline_transparancy)), just_activated = new_drawing = !0) : "circle_context" == active_context ? new_drawing || (setup_mouse_events(on_circle_move, on_circle_end), left_click_origin = [from_x_local(a.x), from_y_local(a.y)], init_canvases(circle_outline_thickness,
                circle_outline_color, $("#circle_type").find(".active").attr("data-style"), t2o(circle_fill_transparancy), circle_fill_color, t2o(circle_outline_transparancy)), circle_draw_style = $("#circle_draw_style").find(".active").attr("data-draw_style"), temp_draw_context.save(), just_activated = new_drawing = !0) : "track_context" == active_context ? my_tracker ? stop_tracking() : (start_tracking(a), on_track_move(k)) : "note_context" == active_context && setup_mouse_events(void 0, on_note_end)
    } else setup_mouse_events(on_ruler_move, on_ruler_end),
        init_canvases(.1, 16777215, "full"), temp_draw_context.lineWidth = size_x / 1E3 * 2 * DRAW_QUALITY, temp_draw_context.strokeStyle = "#FFFFFF", temp_draw_context.fillStyle = "#FFFFFF", k = 22 * DRAW_QUALITY, temp_draw_context.font = "" + k + "px Arial", left_click_origin = [from_x_local(a.x), from_y_local(a.y)]
}
var eraser_state = {};

function on_eraser_move(k) {
    var a = mouse_loc();
    limit_rate(5, eraser_state, function() {
        renderer.plugins.interaction.processInteractive(a, objectContainer, function(a, g) {
            if (g && a.entity && "background" != a.entity.type) {
                var c = a.entity;
                remove(c.uid);
                undo_list.push(clone_action(["remove", [c]]));
                socket.emit("remove", room, c.uid, active_slide)
            }
        }, !0)
    })
}

function on_eraser_end(k) {
    setup_mouse_events(void 0, void 0)
}

function stop_tracking() {
    once_per_frame(track_state, function() {});
    setup_mouse_events(void 0, void 0);
    socket.emit("stop_track", room, my_tracker.uid);
    background_sprite.removeChild(my_tracker.container);
    my_tracker = void 0;
    render_scene()
}

function start_tracking(k) {
    setup_mouse_events(on_track_move);
    var a = $("#track_shape .active").attr("data-cursor"),
        c;
    c = "dot" == a || "cursor" == a ? .025 : .05;
    my_tracker = {
        uid: newUid(),
        shape: a,
        size: track_size / 10 * c,
        color: track_color,
        x: from_x_local(k.x),
        y: from_y_local(k.y),
        owner: my_user.id
    };
    last_track_position = [my_tracker.x, my_tracker.y];
    socket.emit("track", room, my_tracker);
    create_tracker(my_tracker)
}

function on_note_end(k) {
    setup_mouse_events(void 0, void 0);
    var a = k.data.getLocalPosition(background_sprite);
    k = mouse_x_rel(a.x);
    a = mouse_y_rel(a.y);
    k = {
        uid: newUid(),
        type: "note",
        x: k,
        y: a,
        scale: [1, 1],
        color: text_color,
        alpha: 1,
        text: "",
        font_size: font_size,
        font: "Arial",
        height: zoom_level,
        draw_zoom_level: zoom_level
    };
    undo_list.push(clone_action(["add", [k]]));
    create_note(k);
    k.container.is_open = !0;
    align_note_text(k);
    snap_and_emit_entity(k)
}

function create_note(k) {
    var a = img_texture("note.png"),
        a = new PIXI.Sprite(a),
        c = a.width / a.height;
    a.height = x_abs(NOTE_SCALE) * k.height;
    a.width = a.height * c;
    a.x = x_abs(k.x);
    a.y = y_abs(k.y);
    k.container = a;
    k.container.entity = k;
    k.container.is_open = !1;
    k.container.menu = $('<div class="popover fade right in" role="tooltip"><h3 style="display: none;" class="popover-title"></h3><div class="popover-content"><textarea style="height:400px; width:300px;" id="note_box"></textarea><br /><span id="notification_area" style="float: left;" hidden>Saved</span><div style="float:right; padding:3px;"></div></div></div>');
    $("#note_box", k.container.menu).val(k.text);
    is_room_locked && !my_user.role && ($("textarea", k.container.menu).prop("readonly", !0), $("button", k.container.menu).hide());
    $("body").append(k.container.menu);
    $("#note_box", k.container.menu).on("blur", function() {
        can_edit() && (k.text = $("#note_box", k.container.menu).val(), $("#notification_area", k.container.menu).show(), $("#notification_area", k.container.menu).fadeOut("slow"), snap_and_emit_entity(k))
    });
    align_note_text(k);
    init_dragging(k.container);
    background_sprite.addChild(k.container);
    render_scene();
    a.texture.on("update", function() {
        render_scene()
    });
    room_data.slides[active_slide].entities[k.uid] = k
}

function create_tracker(k) {
    var a = img_texture(k.shape + ".png");
    k.container = new PIXI.Sprite(a);
    k.container.tint = k.color;
    "cursor" != k.shape && k.container.anchor.set(.5);
    k.container.x = x_abs(k.x);
    k.container.y = y_abs(k.y);
    a = k.container.width / k.container.height;
    k.container.height = y_abs(k.size);
    k.container.width = k.container.height * a;
    trackers[k.uid] = k;
    background_sprite.addChild(trackers[k.uid].container);
    render_scene()
}

function remove_tracker(k) {
    background_sprite.removeChild(trackers[k].container);
    render_scene();
    delete trackers[k]
}
var last_track_update = Date.now(),
    count, track_timeout, track_state = {};

function on_track_move(k) {
    once_per_frame(track_state, function() {
        clearTimeout(track_timeout);
        var a = mouse_loc(),
            c = from_x_local(a.x),
            a = from_y_local(a.y);
        my_tracker.x = c;
        my_tracker.y = a;
        my_tracker.container.x = x_abs(c);
        my_tracker.container.y = y_abs(a);
        c = (last_track_position[0] - my_tracker.x) * (last_track_position[0] - my_tracker.x) + (last_track_position[1] - my_tracker.y) * (last_track_position[1] - my_tracker.y);
        render_scene();
        a = Date.now() - last_track_update;
        c > MIN_TRACK_MOVE_DISTANCE_SQ || 50 < a ? (last_track_update = Date.now(),
            0 < Math.abs(my_tracker.x - last_track_position[0] + my_tracker.y - last_track_position[1]) && (socket.emit("track_move", room, my_tracker.uid, my_tracker.x - last_track_position[0], my_tracker.y - last_track_position[1]), last_track_position = [my_tracker.x, my_tracker.y])) : track_timeout = setTimeout(function() {
                my_tracker && (last_track_update = Date.now(), socket.emit("track_move", room, my_tracker.uid, my_tracker.x - last_track_position[0], my_tracker.y - last_track_position[1]), last_track_position = [my_tracker.x, my_tracker.y], render_scene())
            },
            55)
    })
}

function on_area_end(k) {
    var a = mouse_loc(),
        c = a.x,
        g = a.y,
        h = Math.pow(new_drawing.x - from_x_local(c), 2) + Math.pow(new_drawing.y - from_y_local(g), 2),
        n = "touchend" == k.type || "touchendoutside" == k.type ? MIN_POLYGON_END_DISTANCE_TOUCH : MIN_POLYGON_END_DISTANCE;
    if (just_activated && (just_activated = !1, h < EPSILON)) return;
    h < n * n * zoom_level ? (create_area2(new_drawing, DRAW_QUALITY), emit_entity(new_drawing), undo_list.push(clone_action(["add", [new_drawing]])), background_sprite.removeChild(graphics), render_scene(), stop_drawing(), setup_mouse_events(void 0,
        void 0), new_drawing = null) : (point_buffer.push(a.x, a.y), new_drawing.path.push([from_x_local(c) - new_drawing.x, from_y_local(g) - new_drawing.y]), on_curve_move(k))
}
var curve_state = {},
    point_buffer = [];

function on_curve_move(k) {
    once_per_frame(curve_state, function() {
        var a = mouse_loc(),
            c = a.x,
            g = a.y;
        temp_draw_context.clearRect(0, 0, temp_draw_canvas.width * DRAW_QUALITY, temp_draw_canvas.height * DRAW_QUALITY);
        point_buffer.push(c, g);
        var h = smooth_draw(temp_draw_context, point_buffer, !1, DRAW_QUALITY);
        point_buffer.pop();
        point_buffer.pop();
        new_drawing.path.push([from_x_local(a.x) - new_drawing.x, from_y_local(a.y) - new_drawing.y]);
        draw_end(temp_draw_context, new_drawing, h[0], h[1], 1 / zoom_level, DRAW_QUALITY);
        new_drawing.path.pop();
        last_point = [c, g]
    })
}

function on_curve_end(k) {
    var a = mouse_loc(),
        c = a.x,
        g = a.y,
        h = Math.pow(from_x_local(c) - new_drawing.x - new_drawing.path[new_drawing.path.length - 1][0], 2) + Math.pow(from_y_local(g) - new_drawing.y - new_drawing.path[new_drawing.path.length - 1][1], 2);
    if (just_activated && (just_activated = !1, h < EPSILON)) return;
    var n = "touchend" == k.type || "touchendoutside" == k.type || "touchstart" == k.type || "touchstartoutside" == k.type ? MIN_POLYGON_END_DISTANCE_TOUCH : MIN_POLYGON_END_DISTANCE;
    h < n * n * zoom_level ? (create_curve2(new_drawing, DRAW_QUALITY),
        emit_entity(new_drawing), undo_list.push(clone_action(["add", [new_drawing]])), render_scene(), stop_drawing(), setup_mouse_events(void 0, void 0), new_drawing = null) : (point_buffer.push(a.x, a.y), new_drawing.path.push([from_x_local(c) - new_drawing.x, from_y_local(g) - new_drawing.y]), background_sprite.removeChild(graphics), graphics = new PIXI.Graphics, graphics.lineStyle(new_drawing.thickness / background_sprite.scale.y * THICKNESS_SCALE, new_drawing.color, 1), graphics.moveTo(x_abs(from_x_local(a.x)), y_abs(from_y_local(a.y))),
        graphics.drawShape(new PIXI.Circle(x_abs(from_x_local(a.x)), y_abs(from_y_local(a.y)), background_sprite.height / background_sprite.scale.y * n * zoom_level)), background_sprite.addChild(graphics), render_scene(), on_curve_move(k))
}

function on_polygon_end(k) {
    try {
        var a = k.data.getLocalPosition(background_sprite),
            c = mouse_x_rel(a.x),
            g = mouse_y_rel(a.y),
            c = c - new_drawing.x,
            g = g - new_drawing.y
    } catch (m) {}
    a = c * c + g * g;
    k = "touchend" == k.type || "touchendoutside" == k.type ? MIN_POLYGON_END_DISTANCE_TOUCH : MIN_POLYGON_END_DISTANCE;
    var h;
    h = 1 == new_drawing.path.length ? [to_x_local(new_drawing.x), to_y_local(new_drawing.y)] : [to_x_local(new_drawing.path[new_drawing.path.length - 2][0] + new_drawing.x), to_y_local(new_drawing.path[new_drawing.path.length - 2][1] + new_drawing.y)];
    var n = [to_x_local(c + new_drawing.x), to_y_local(g + new_drawing.y)];
    if (just_activated && (h = Math.pow(h[0] - n[0], 2) + Math.pow(h[1] - n[1], 2), just_activated = !1, .01 > h)) return;
    a < k * k * zoom_level ? (new_drawing.path.push([0, 0]), create_polygon2(new_drawing, DRAW_QUALITY), emit_entity(new_drawing), undo_list.push(clone_action(["add", [new_drawing]])), background_sprite.removeChild(graphics), render_scene(), setup_mouse_events(void 0, void 0), stop_drawing(), new_drawing = null) : (0 != new_drawing.path.length && c == last(new_drawing.path)[0] &&
        g == last(new_drawing.path)[1] || new_drawing.path.push([c, g]), draw_context.lineTo(n[0] * DRAW_QUALITY, n[1] * DRAW_QUALITY), draw_context.stroke())
}

function draw_shape(k, a, c, g, h, n) {
    var m = new PIXI.Graphics;
    m.lineStyle(k * THICKNESS_SCALE, c, a);
    m.beginFill(h, g);
    m.drawShape(n);
    m.endFill();
    m.boundsPadding = 1;
    return new PIXI.Sprite(renderer.generateTexture(m))
}
var ruler_state = {};

function on_ruler_move(k) {
    once_per_frame(ruler_state, function() {
        var a = k.data.getLocalPosition(background_sprite),
            c = background.size_x ? background.size_x : 0,
            g = background.size_y ? background.size_y : 0,
            h = to_x_local(left_click_origin[0]),
            n = to_y_local(left_click_origin[1]),
            m = to_x_local(mouse_x_rel(a.x)),
            f = to_y_local(mouse_y_rel(a.y)),
            d = Math.sqrt(Math.pow(h - m, 2) + Math.pow(n - f, 2));
        temp_draw_context.clearRect(0, 0, temp_draw_canvas.width * DRAW_QUALITY, temp_draw_canvas.height * DRAW_QUALITY);
        temp_draw_context.beginPath();
        temp_draw_context.moveTo(m * DRAW_QUALITY, f * DRAW_QUALITY);
        temp_draw_context.lineTo(h * DRAW_QUALITY, n * DRAW_QUALITY);
        temp_draw_context.moveTo((h + d) * DRAW_QUALITY, n * DRAW_QUALITY);
        temp_draw_context.arc(h * DRAW_QUALITY, n * DRAW_QUALITY, d * DRAW_QUALITY, 0, 2 * Math.PI);
        temp_draw_context.stroke();
        h = (h + to_x_local(mouse_x_rel(a.x))) / 2;
        n = (n + to_y_local(mouse_y_rel(a.y))) / 2;
        a = Math.sqrt(Math.pow(c * (left_click_origin[0] - mouse_x_rel(a.x)), 2) + Math.pow(g * (left_click_origin[1] - mouse_y_rel(a.y)), 2));
        c = "";
        c = "lol" == game || "csgo" ==
            game ? c + (Math.round(10 * a) / 10 + "u") : "wows" == game ? c + (Math.round(.01 * a) / 10 + "km") : c + (Math.round(10 * a) / 10 + "m");
        temp_draw_context.fillText(c, h * DRAW_QUALITY, n * DRAW_QUALITY)
    })
}

function on_ruler_end(k) {
    setup_mouse_events(void 0, void 0);
    once_per_frame(ruler_state, function() {
        temp_draw_context.clearRect(0, 0, temp_draw_canvas.width * DRAW_QUALITY, temp_draw_canvas.height * DRAW_QUALITY)
    })
}
var circle_state = {};

function on_circle_move(k) {
    once_per_frame(circle_state, function() {
        var a = mouse_loc(),
            c = from_x_local(a.x),
            g = from_y_local(a.y),
            h, k, m;
        "edge" == circle_draw_style ? (h = (left_click_origin[0] + c) / 2, k = (left_click_origin[1] + g) / 2, m = Math.sqrt(Math.pow(to_x_local(left_click_origin[0]) - to_x_local(c), 2) + Math.pow(to_y_local(left_click_origin[1]) - to_y_local(g), 2)), m /= 2) : "radius" == circle_draw_style && (h = left_click_origin[0], k = left_click_origin[1], m = Math.sqrt(Math.pow(to_x_local(left_click_origin[0]) - to_x_local(c), 2) + Math.pow(to_y_local(left_click_origin[1]) -
            to_y_local(g), 2)));
        temp_draw_context.clearRect(0, 0, temp_draw_canvas.width * DRAW_QUALITY, temp_draw_canvas.height * DRAW_QUALITY);
        temp_draw_context.beginPath();
        temp_draw_context.arc(to_x_local(h) * DRAW_QUALITY, to_y_local(k) * DRAW_QUALITY, m * DRAW_QUALITY, 0, 2 * Math.PI);
        temp_draw_context.fill();
        temp_draw_context.stroke();
        "radius" == circle_draw_style && background.size_x && 0 < background.size_x && background.size_y && 0 < background.size_y && (temp_draw_context.save(), temp_draw_context.strokeStyle = "#FFFFFF", temp_draw_context.fillStyle =
            "#FFFFFF", temp_draw_context.shadowBlur = 0, temp_draw_context.beginPath(), temp_draw_context.moveTo(to_x_local(h) * DRAW_QUALITY, to_y_local(k) * DRAW_QUALITY), temp_draw_context.lineTo(to_x_local(c) * DRAW_QUALITY, to_y_local(g) * DRAW_QUALITY), temp_draw_context.stroke(), m = to_x_local((h + c) / 2), a = to_y_local((k + g) / 2), temp_draw_context.font = "" + 22 * DRAW_QUALITY + "px Arial", c = Math.sqrt(Math.pow(background.size_x * (h - c), 2) + Math.pow(background.size_y * (k - g), 2)), temp_draw_context.strokeStyle = "#000000", temp_draw_context.fillStyle =
            "#FFFFFF", h = "", h = "lol" == game ? h + (Math.round(10 * c) / 10 + "u") : "wows" == game ? h + (Math.round(.01 * c) / 10 + "km") : h + (Math.round(10 * c) / 10 + "m"), temp_draw_context.fillText(h, m * DRAW_QUALITY, a * DRAW_QUALITY), temp_draw_context.restore())
    })
}

function on_circle_end(k) {
    once_per_frame(circle_state, function() {});
    var a = mouse_loc();
    k = from_x_local(a.x);
    var a = from_y_local(a.y),
        c, g, h;
    "edge" == circle_draw_style ? (c = (left_click_origin[0] + k) / 2, g = (left_click_origin[1] + a) / 2, h = Math.sqrt(Math.pow(to_x_local(left_click_origin[0]) - to_x_local(k), 2) + Math.pow(to_y_local(left_click_origin[1]) - to_y_local(a), 2)), h /= 2) : "radius" == circle_draw_style && (c = left_click_origin[0], g = left_click_origin[1], h = Math.sqrt(Math.pow(to_x_local(left_click_origin[0]) - to_x_local(k),
        2) + Math.pow(to_y_local(left_click_origin[1]) - to_y_local(a), 2)));
    c = {
        uid: newUid(),
        type: "circle",
        x: c,
        y: g,
        radius: from_y_local_vect(h),
        outline_thickness: circle_outline_thickness * zoom_level,
        outline_color: circle_outline_color,
        outline_opacity: t2o(circle_outline_transparancy),
        fill_opacity: t2o(circle_fill_transparancy),
        fill_color: circle_fill_color,
        alpha: 1,
        style: $("#circle_type").find(".active").attr("data-style"),
        draw_zoom_level: zoom_level
    };
    "radius" == circle_draw_style && background.size_x && 0 < background.size_x &&
        background.size_y && 0 < background.size_y && (c.draw_radius = [k - c.x, a - c.y]);
    new_drawing = void 0;
    create_circle2(c, DRAW_QUALITY);
    emit_entity(c);
    undo_list.push(clone_action(["add", [c]]));
    stop_drawing();
    setup_mouse_events(void 0, void 0)
}
var rectangle_state = {};

function on_rectangle_move(k) {
    once_per_frame(rectangle_state, function() {
        var a = k.data.getLocalPosition(background_sprite),
            c = Math.min(left_click_origin[0], mouse_x_rel(a.x)),
            g = Math.min(left_click_origin[1], mouse_y_rel(a.y)),
            h = Math.max(left_click_origin[0], mouse_x_rel(a.x)),
            a = Math.max(left_click_origin[1], mouse_y_rel(a.y));
        temp_draw_context.clearRect(0, 0, temp_draw_canvas.width * DRAW_QUALITY, temp_draw_canvas.height * DRAW_QUALITY);
        temp_draw_context.fillRect(to_x_local(c) * DRAW_QUALITY, to_y_local(g) * DRAW_QUALITY,
            (to_x_local(h) - to_x_local(c)) * DRAW_QUALITY, (to_y_local(a) - to_y_local(g)) * DRAW_QUALITY);
        temp_draw_context.strokeRect(to_x_local(c) * DRAW_QUALITY, to_y_local(g) * DRAW_QUALITY, (to_x_local(h) - to_x_local(c)) * DRAW_QUALITY, (to_y_local(a) - to_y_local(g)) * DRAW_QUALITY)
    })
}

function on_rectangle_end(k) {
    once_per_frame(rectangle_state, function() {});
    var a = k.data.getLocalPosition(background_sprite);
    k = Math.min(left_click_origin[0], mouse_x_rel(a.x));
    var c = Math.min(left_click_origin[1], mouse_y_rel(a.y)),
        g = Math.max(left_click_origin[0], mouse_x_rel(a.x)),
        a = Math.max(left_click_origin[1], mouse_y_rel(a.y));
    if (just_activated) {
        var h = Math.pow(to_x_local(k - g), 2) + Math.pow(to_y_local(c - a), 2);
        just_activated = !1;
        if (.01 > h) return
    }
    new_drawing = void 0;
    k = {
        uid: newUid(),
        type: "rectangle",
        x: k,
        y: c,
        width: g - k,
        height: a - c,
        outline_thickness: rectangle_outline_thickness * zoom_level,
        outline_color: rectangle_outline_color,
        outline_opacity: t2o(rectangle_outline_transparancy),
        fill_opacity: t2o(rectangle_fill_transparancy),
        fill_color: rectangle_fill_color,
        alpha: 1,
        style: $("#rectangle_type").find(".active").attr("data-style"),
        draw_zoom_level: zoom_level
    };
    create_rectangle2(k, DRAW_QUALITY);
    emit_entity(k);
    undo_list.push(clone_action(["add", [k]]));
    stop_drawing();
    setup_mouse_events(void 0, void 0)
}

function on_ping_move(k) {
    limit_rate(60, drag_state, function() {
        var a = Date.now();
        if (!(10 > a - last_ping_time)) {
            var c = mouse_loc(),
                g = from_x_local(c.x),
                c = from_y_local(c.y);
            last_ping_time = a;
            ping(g, c, ping_color, ping_size);
            socket.emit("ping_marker", room, g, c, ping_color, ping_size)
        }
    })
}

function on_ping_end(k) {
    limit_rate(60, drag_state, function() {});
    var a = mouse_loc();
    k = from_x_local(a.x);
    a = from_y_local(a.y);
    ping(k, a, ping_color, ping_size);
    socket.emit("ping_marker", room, k, a, ping_color, ping_size);
    setup_mouse_events(void 0, void 0)
}
var select_state = {};

function on_select_move(k) {
    once_per_frame(select_state, function() {
        var a = k.data.getLocalPosition(background_sprite),
            c = Math.min(left_click_origin[0], mouse_x_rel(a.x)),
            g = Math.min(left_click_origin[1], mouse_y_rel(a.y)),
            h = Math.max(left_click_origin[0], mouse_x_rel(a.x)),
            a = Math.max(left_click_origin[1], mouse_y_rel(a.y));
        temp_draw_context.clearRect(0, 0, temp_draw_canvas.width * DRAW_QUALITY, temp_draw_canvas.height * DRAW_QUALITY);
        temp_draw_context.fillRect(to_x_local(c) * DRAW_QUALITY, to_y_local(g) * DRAW_QUALITY,
            (to_x_local(h) - to_x_local(c)) * DRAW_QUALITY, (to_y_local(a) - to_y_local(g)) * DRAW_QUALITY);
        temp_draw_context.strokeRect(to_x_local(c) * DRAW_QUALITY, to_y_local(g) * DRAW_QUALITY, (to_x_local(h) - to_x_local(c)) * DRAW_QUALITY, (to_y_local(a) - to_y_local(g)) * DRAW_QUALITY)
    })
}

function on_select_end(k) {
    once_per_frame(select_state, function() {
        temp_draw_context.clearRect(0, 0, temp_draw_canvas.width * DRAW_QUALITY, temp_draw_canvas.height * DRAW_QUALITY)
    });
    setup_mouse_events(void 0, void 0);
    var a, c, g;
    g = mouse_loc();
    k = Math.min(from_x_local(g.x), left_click_origin[0]);
    a = Math.min(from_y_local(g.y), left_click_origin[1]);
    c = Math.max(from_x_local(g.x), left_click_origin[0]) - k;
    g = Math.max(from_y_local(g.y), left_click_origin[1]) - a;
    for (var h in room_data.slides[active_slide].entities)
        if (room_data.slides[active_slide].entities.hasOwnProperty(h) &&
            room_data.slides[active_slide].entities[h].container) {
            var n = room_data.slides[active_slide].entities[h].container,
                m, f, d;
            m = x_rel(n.width);
            f = y_rel(n.height);
            d = x_rel(n.x) - m * n.anchor.x;
            n = y_rel(n.y) - f * n.anchor.y;
            k < d && a < n && k + c > d + m && a + g > n + f && selected_entities.push(room_data.slides[active_slide].entities[h])
        } select_entities();
    undo_list.push(clone_action(["select", selected_entities, previously_selected_entities]));
    render_scene()
}

function measure_text(k) {
    return [x_rel(k.container.width), x_rel(k.container.height)]
}

function select_box_mousemove(k, a, c, g, h, n, m) {
    once_per_frame(select_box_move_state, function() {
        var f = mouse_loc();
        f.x = x_abs(from_x_local(f.x));
        f.y = y_abs(from_y_local(f.y));
        var d = Math.abs((f.x - a) / g),
            e = Math.abs((f.y - c) / h),
            b;
        for (b in selected_entities) {
            var k = selected_entities[b];
            n || (k.container.scale.x = d * k.container.start_scale[0], k.container.x = (k.container.x_orig - a) * d + a);
            m || (k.container.scale.y = e * k.container.start_scale[1], k.container.y = (k.container.y_orig - c) * e + c)
        }
        n || (select_box.width = Math.abs(a - f.x),
            select_box.left_x = Math.min(a, f.x), select_box.x = select_box.left_x + select_box.width / 2);
        m || (select_box.height = Math.abs(c - f.y), select_box.upper_y = Math.min(c, f.y), select_box.y = select_box.upper_y + select_box.height / 2);
        render_scene()
    });
    k.stopPropagation()
}

function select_box_mouseup(k, a, c, g, h, n, m) {
    once_per_frame(select_box_move_state, function() {});
    setup_mouse_events(void 0, void 0);
    var f = mouse_loc();
    f.x = x_abs(from_x_local(f.x));
    f.y = y_abs(from_y_local(f.y));
    g = Math.abs((f.x - a) / g);
    h = Math.abs((f.y - c) / h);
    var d = ["drag", []],
        e;
    for (e in selected_entities) {
        var b = selected_entities[e],
            p = [1, 1];
        b.scale && (p = [b.scale[0], b.scale[1]]);
        d[1].push([
            [b.x, b.y, [p[0], p[1]]], b.uid
        ]);
        var u = b.x,
            q = b.y;
        n || (u = x_rel((b.container.x_orig - a) * g + a - b.container.x_orig) + b.x, p[0] = g * b.container.start_scale[0] /
            b.container.orig_scale[0]);
        m || (q = y_rel((b.container.y_orig - c) * h + c - b.container.y_orig) + b.y, p[1] = h * b.container.start_scale[1] / b.container.orig_scale[1]);
        b.container.x = b.container.x_orig;
        b.container.y = b.container.y_orig;
        drag_entity(b, u, q, p);
        socket.emit("drag", room, b.uid, active_slide, u, q, p)
    }
    undo_list.push(clone_action(d));
    select_box.mouseover = on_select_over;
    select_box.mousemove = on_selectbox_move;
    select_box.touchmove = on_selectbox_move;
    n || (select_box.width = Math.abs(a - f.x), select_box.left_x = Math.min(a, f.x),
        select_box.x = select_box.left_x + select_box.width / 2);
    m || (select_box.height = Math.abs(c - f.y), select_box.upper_y = Math.min(c, f.y), select_box.y = select_box.upper_y + select_box.height / 2);
    render_scene();
    k.stopPropagation()
}

function prepare_resize(k, a, c, g, h, n, m) {
    for (var f in selected_entities) {
        var d = selected_entities[f];
        d.container.x_orig = d.container.x;
        d.container.y_orig = d.container.y;
        d.container.start_scale = [d.container.scale.x, d.container.scale.y]
    }
    background_sprite.removeChild(rotate_arrow0);
    background_sprite.removeChild(rotate_arrow1);
    background_sprite.removeChild(rotate_arrow2);
    background_sprite.removeChild(rotate_arrow3);
    setup_mouse_events(function(d) {
        select_box_mousemove(d, a, c, g, h, n, m)
    }, function(d) {
        select_box_mouseup(d,
            a, c, g, h, n, m)
    });
    select_box.mouseover = void 0;
    select_box.mousemove = void 0;
    select_box.touchmove = void 0;
    k.stopPropagation()
}
var select_box_move_state = {};

function on_selectbox_move(k) {
    once_per_frame(select_box_move_state, function() {
        var a = mouse_loc();
        a.x = x_abs(from_x_local(a.x));
        a.y = y_abs(from_y_local(a.y));
        a.x -= select_box.left_x;
        a.y -= select_box.upper_y;
        a.x /= select_box.width;
        a.y /= select_box.height;
        var c = y_abs(ROTATE_ARROW_MARGIN) * zoom_level,
            g = c / select_box.width,
            c = c / select_box.height,
            h = select_box.left_x,
            n = select_box.upper_y,
            m = h + select_box.width,
            f = n + select_box.height;
        a.x < 0 - g || a.x > 1 + g || a.y < 0 - c || a.y > 1 + c ? (on_select_out(k), k && k.stopPropagation()) : (g = Math.min(g,
            .25), c = Math.min(c, .25), a.x < g ? (a.y < c ? ($("html,body").css("cursor", "nw-resize"), objectContainer.mousedown = function(a) {
                prepare_resize(a, m, f, select_box.width, select_box.height, !1, !1)
            }) : a.y > 1 - c ? ($("html,body").css("cursor", "sw-resize"), objectContainer.mousedown = function(a) {
                prepare_resize(a, m, n, select_box.width, select_box.height, !1, !1)
            }) : ($("html,body").css("cursor", "w-resize"), objectContainer.mousedown = function(a) {
                prepare_resize(a, m, 0, select_box.width, select_box.height, !1, !0)
            }), select_box.mousedown = objectContainer.mousedown,
            select_box.touchstart = objectContainer.touchstart) : a.x > 1 - g ? (a.y < c ? ($("html,body").css("cursor", "ne-resize"), objectContainer.mousedown = function(a) {
            prepare_resize(a, h, f, select_box.width, select_box.height, !1, !1)
        }) : a.y > 1 - c ? ($("html,body").css("cursor", "se-resize"), objectContainer.mousedown = function(a) {
            prepare_resize(a, h, n, select_box.width, select_box.height, !1, !1)
        }) : ($("html,body").css("cursor", "e-resize"), objectContainer.mousedown = function(a) {
            prepare_resize(a, h, 0, select_box.width, select_box.height, !1,
                !0)
        }), select_box.mousedown = objectContainer.mousedown, select_box.touchstart = objectContainer.touchstart) : a.y < c ? ($("html,body").css("cursor", "n-resize"), objectContainer.mousedown = function(a) {
            prepare_resize(a, 0, f, select_box.width, select_box.height, !0, !1)
        }, select_box.mousedown = objectContainer.mousedown, select_box.touchstart = objectContainer.touchstart) : a.y > 1 - c ? ($("html,body").css("cursor", "s-resize"), objectContainer.mousedown = function(a) {
                prepare_resize(a, 0, n, select_box.width, select_box.height, !0, !1)
            }, select_box.mousedown =
            objectContainer.mousedown, select_box.touchstart = objectContainer.touchstart) : ($("html,body").css("cursor", "move"), select_box.mousedown = on_drag_start, select_box.touchstart = on_drag_start, objectContainer.mousedown = on_left_click))
    });
    k && k.stopPropagation()
}

function on_select_over(k) {
    dragging || (select_box.mousemove = on_selectbox_move, select_box.touchmove = on_selectbox_move, select_box.mouseout = on_select_out, select_box.touchend = on_select_out)
}

function on_select_out(k) {
    dragging || (once_per_frame(select_box_move_state, function() {}), $("html,body").css("cursor", "default"), select_box.mousemove = void 0, select_box.touchmove = void 0, select_box.mousedown = void 0, select_box.touchstart = void 0, objectContainer.mousedown = on_left_click, select_box.mouseout = void 0, select_box.touchend = void 0)
}

function make_resizable(k) {
    k.interactive = !0;
    k.draggable = !0;
    k.mouseover = on_select_over;
    k.mousedown = on_drag_start;
    k.touchstart = on_drag_start
}

function redraw_select_box() {
    if (select_box)
        if (select_box.rotation = 0, 0 < selected_entities.length) {
            var k = 99999,
                a = -99999,
                c = 99999,
                g = -99999,
                h;
            for (h in selected_entities) {
                var n = selected_entities[h].container,
                    m, f, d;
                f = -n.rotation;
                m = Math.abs(n.width * Math.cos(f)) + Math.abs(n.height * Math.sin(f));
                f = Math.abs(n.width * Math.sin(f)) + Math.abs(n.height * Math.cos(f));
                d = n.x - n.anchor.x * m;
                n = n.y - n.anchor.y * f;
                k = Math.min(d, k);
                c = Math.min(n, c);
                a = Math.max(d + m, a);
                g = Math.max(n + f, g)
            }
            select_center = [x_rel(k + (a - k) / 2), y_rel(c + (g - c) / 2)];
            select_box.left_x = k;
            select_box.upper_y = c;
            select_box.width = a - k;
            select_box.height = g - c;
            select_box.x = k + select_box.width / 2;
            select_box.y = c + select_box.height / 2;
            make_resizable(select_box);
            rotate_arrow0.x = k + select_box.width + rotate_arrow0.width / 2 + y_abs(ROTATE_ARROW_MARGIN) * zoom_level;
            rotate_arrow0.y = c + select_box.height / 2;
            rotate_arrow1.x = k + select_box.width / 2;
            rotate_arrow1.y = c - rotate_arrow1.width / 2 - y_abs(ROTATE_ARROW_MARGIN) * zoom_level;
            rotate_arrow2.x = k - rotate_arrow2.width / 2 - y_abs(ROTATE_ARROW_MARGIN) * zoom_level;
            rotate_arrow2.y = c + select_box.height / 2;
            rotate_arrow3.x = k + select_box.width / 2;
            rotate_arrow3.y = c + rotate_arrow3.width / 2 + select_box.height + y_abs(ROTATE_ARROW_MARGIN) * zoom_level;
            background_sprite.removeChild(rotate_arrow0);
            background_sprite.removeChild(rotate_arrow1);
            background_sprite.removeChild(rotate_arrow2);
            background_sprite.removeChild(rotate_arrow3);
            background_sprite.addChild(rotate_arrow0);
            background_sprite.addChild(rotate_arrow1);
            background_sprite.addChild(rotate_arrow2);
            background_sprite.addChild(rotate_arrow3);
            background_sprite.removeChild(select_box);
            background_sprite.addChild(select_box)
        } else remove_select_box();
    select_box_dirty = !1
}

function start_rotate_selection(k, a) {
    once_per_frame(drag_state, function() {});
    objectContainer.buttonMode = !0;
    setup_mouse_events(rotate_selection.bind(void 0, this, k), stop_rotate_selection.bind(void 0, this, k));
    var c = a.data.getLocalPosition(background_sprite);
    last_mouse_location = [mouse_x_rel(c.x), mouse_y_rel(c.y)];
    for (var g in selected_entities) c = room_data.slides[active_slide].entities[selected_entities[g].uid].container, c.x_orig = c.x, c.y_orig = c.y, c.rotation_orig = c.rotation;
    background_sprite.removeChild(rotate_arrow0);
    background_sprite.removeChild(rotate_arrow1);
    background_sprite.removeChild(rotate_arrow2);
    background_sprite.removeChild(rotate_arrow3);
    background_sprite.addChild(this);
    a.stopPropagation()
}

function rotate_selection(k, a, c) {
    once_per_frame(drag_state, function() {
        var g = c.data.getLocalPosition(background_sprite),
            g = [mouse_x_rel(g.x), mouse_y_rel(g.y)],
            h = g[1] - last_mouse_location[1];
        k.x += x_abs(g[0] - last_mouse_location[0]);
        k.y += y_abs(h);
        a = Math.atan2(-(g[1] - select_center[1]), g[0] - select_center[0]) - a;
        var h = Math.sin(-a),
            n = Math.cos(-a),
            m;
        for (m in selected_entities) {
            var f = room_data.slides[active_slide].entities[selected_entities[m].uid].container;
            f.x = f.x_orig;
            f.y = f.y_orig;
            f.x -= x_abs(select_center[0]);
            f.y -= y_abs(select_center[1]);
            var d = f.x;
            f.x = f.x * n - f.y * h;
            f.y = d * h + f.y * n;
            f.x += x_abs(select_center[0]);
            f.y += y_abs(select_center[1]);
            f.rotation = f.rotation_orig - a
        }
        select_box.rotation = -a;
        last_mouse_location = g;
        render_scene()
    })
}

function stop_rotate_selection(k, a, c) {
    once_per_frame(drag_state, function() {});
    objectContainer.buttonMode = !1;
    setup_mouse_events(void 0, void 0);
    c = c.data.getLocalPosition(background_sprite);
    c = [mouse_x_rel(c.x), mouse_y_rel(c.y)];
    var g = c[1] - last_mouse_location[1];
    k.x += x_abs(c[0] - last_mouse_location[0]);
    k.y += y_abs(g);
    a = Math.atan2(-(c[1] - select_center[1]), c[0] - select_center[0]) - a;
    k = Math.sin(-a);
    c = Math.cos(-a);
    var g = ["drag", []],
        h;
    for (h in selected_entities) {
        var n = room_data.slides[active_slide].entities[selected_entities[h].uid],
            m = n.container,
            m = room_data.slides[active_slide].entities[selected_entities[h].uid].container;
        m.x = m.x_orig;
        m.y = m.y_orig;
        m.x -= x_abs(select_center[0]);
        m.y -= y_abs(select_center[1]);
        var f = m.x;
        m.x = m.x * c - m.y * k;
        m.y = f * k + m.y * c;
        m.x += x_abs(select_center[0]);
        m.y += y_abs(select_center[1]);
        f = [1, 1];
        n.scale && (f = [n.scale[0], n.scale[1]]);
        var d = 0;
        n.rotation && (d = n.rotation);
        g[1].push([
            [n.x, n.y, [f[0], f[1]], d], n.uid
        ]);
        f = m.x - m.x_orig;
        d = m.y - m.y_orig;
        m.x = m.x_orig;
        m.y = m.y_orig;
        n.rotation || (n.rotation = 0);
        m = (n.rotation + a) % (2 * Math.PI);
        socket.emit("drag", room, n.uid, active_slide, x_rel(x_abs(n.x) + f), y_rel(y_abs(n.y) + d), n.scale, m);
        drag_entity(n, x_rel(x_abs(n.x) + f), y_rel(y_abs(n.y) + d), n.scale, m)
    }
    undo_list.push(clone_action(g));
    select_box_dirty = !0;
    render_scene()
}

function select_entities() {
    remove_select_box();
    var k = 99999,
        a = -99999,
        c = 99999,
        g = -99999,
        h;
    for (h in selected_entities) {
        var n = room_data.slides[active_slide].entities[selected_entities[h].uid].container,
            m, f, d;
        f = -n.rotation;
        m = Math.abs(n.width * Math.cos(f)) + Math.abs(n.height * Math.sin(f));
        f = Math.abs(n.width * Math.sin(f)) + Math.abs(n.height * Math.cos(f));
        d = n.x - n.anchor.x * m;
        n = n.y - n.anchor.y * f;
        k = Math.min(x_rel(d), k);
        c = Math.min(y_rel(n), c);
        a = Math.max(x_rel(d) + x_rel(m), a);
        g = Math.max(y_rel(n) + y_rel(f), g);
        room_data.slides[active_slide].entities[selected_entities[h].uid].container.alpha =
            select_alpha
    }
    if (0 < selected_entities.length) {
        select_center = [k + (a - k) / 2, c + (g - c) / 2];
        h = new PIXI.Rectangle(0, 0, x_abs(a - k), y_abs(g - c), 5);
        select_box = draw_select_box(h);
        select_box.anchor.x = .5;
        select_box.anchor.y = .5;
        h = x_abs(k);
        m = y_abs(c);
        select_box.left_x = h;
        select_box.upper_y = m;
        select_box.x = h + x_abs(a - k) / 2;
        select_box.y = m + y_abs(g - c) / 2;
        make_resizable(select_box);
        var e = img_texture("rotate.png"),
            k = e.width / e.height,
            b = y_abs(ROTATE_ARROW_SCALE) * zoom_level,
            p = b * k,
            k = function(a, d, c) {
                var f = new PIXI.Sprite(e);
                f.anchor.x =
                    .5;
                f.anchor.y = .5;
                f.width = p;
                f.height = b;
                f.interactive = !0;
                f.buttonMode = !0;
                f.draggable = !0;
                f.mousedown = start_rotate_selection.bind(f, c);
                f.touchstart = start_rotate_selection.bind(f, c);
                f.rotation = -c;
                f.x = a;
                f.y = d;
                background_sprite.addChild(f);
                return f
            };
        rotate_arrow0 = k(h + select_box.width + p / 2 + y_abs(ROTATE_ARROW_MARGIN) * zoom_level, m + select_box.height / 2, 0);
        rotate_arrow1 = k(h + select_box.width / 2, m - p / 2 - y_abs(ROTATE_ARROW_MARGIN) * zoom_level, Math.PI / 2);
        rotate_arrow2 = k(h - p / 2 - y_abs(ROTATE_ARROW_MARGIN) * zoom_level, m + select_box.height /
            2, Math.PI);
        rotate_arrow3 = k(h + select_box.width / 2, m + p / 2 + select_box.height + y_abs(ROTATE_ARROW_MARGIN) * zoom_level, -Math.PI / 2);
        background_sprite.addChild(select_box)
    }
    render_scene()
}

function draw_select_box(k) {
    var a = new PIXI.Graphics;
    a.lineStyle(1 * zoom_level, 16777215, .2);
    a.beginFill(16777215, .2);
    a.drawShape(k);
    a.endFill();
    return new PIXI.Sprite(renderer.generateTexture(a))
}

function select_all() {
    previously_selected_entities = selected_entities;
    selected_entities = [];
    for (var k in room_data.slides[active_slide].entities) room_data.slides[active_slide].entities.hasOwnProperty(k) && room_data.slides[active_slide].entities[k].container && selected_entities.push(room_data.slides[active_slide].entities[k]);
    select_entities();
    undo_list.push(clone_action(["select", selected_entities, previously_selected_entities]))
}

function remove_select_box() {
    once_per_frame(select_box_move_state, function() {});
    select_box && (select_box.mousedown = void 0, select_box.touchstart = void 0, select_box.mousemove = void 0, select_box.touchmove = void 0, select_box.mouseup = void 0, select_box.touchend = void 0, select_box.mouseout = void 0, select_box.mouseover = void 0, select_box.mouseupoutside = void 0, select_box.touchendoutside = void 0, objectContainer.mousedown = on_left_click, background_sprite.removeChild(select_box), background_sprite.removeChild(rotate_arrow0),
        background_sprite.removeChild(rotate_arrow1), background_sprite.removeChild(rotate_arrow2), background_sprite.removeChild(rotate_arrow3), select_box = void 0, render_scene());
    $("html,body").css("cursor", "default")
}

function deselect_all() {
    remove_select_box();
    previously_selected_entities = selected_entities;
    for (var k in selected_entities) selected_entities[k].container.filters = void 0, selected_entities[k].container.alpha = selected_entities[k].alpha;
    selected_entities = []
}
var INTERPOLATION_RESOLUTION = 25,
    INTERPOLATION_TENSION = .5,
    INTERPOLATION_LOOKBACK = 10;

function smooth_draw(k, a, c, g) {
    a = getCurvePoints(a, INTERPOLATION_TENSION, INTERPOLATION_RESOLUTION, c);
    k.beginPath();
    k.moveTo(a[0] * g, a[1] * g);
    for (c = 2; c < a.length; c += 2) k.lineTo(a[c] * g, a[c + 1] * g);
    k.stroke();
    k = a[a.length - 2] - a[a.length - 20];
    g = a[a.length - 1] - a[a.length - 19];
    c = Math.sqrt(Math.pow(k, 2) + Math.pow(g, 2));
    return [
        [a[a.length - 2] - k / c, a[a.length - 1] - g / c],
        [a[a.length - 2], a[a.length - 1]]
    ]
}
var draw_state = {},
    point_buffer = [];

function on_draw_move(k) {
    once_per_frame(draw_state, function() {
        var a = mouse_loc(),
            c = last_point[0] * MOUSE_DRAW_SMOOTHING + (1 - MOUSE_DRAW_SMOOTHING) * a.x,
            g = last_point[1] * MOUSE_DRAW_SMOOTHING + (1 - MOUSE_DRAW_SMOOTHING) * a.y;
        new_drawing.path.push([from_x_local(c) - new_drawing.x, from_y_local(g) - new_drawing.y]);
        temp_draw_context.clearRect(0, 0, temp_draw_canvas.width * DRAW_QUALITY, temp_draw_canvas.height * DRAW_QUALITY);
        point_buffer.push(c, g, a.x, a.y);
        smooth_draw(temp_draw_context, point_buffer, !1, DRAW_QUALITY);
        point_buffer.pop();
        point_buffer.pop();
        new_drawing.path.push([from_x_local(a.x) - new_drawing.x, from_y_local(a.y) - new_drawing.y]);
        draw_end_path(temp_draw_context, new_drawing);
        new_drawing.path.pop();
        last_point = [c, g]
    })
}

function on_draw_end(k) {
    once_per_frame(draw_state, function() {});
    k = mouse_loc();
    new_drawing.path.push([from_x_local(k.x) - new_drawing.x, from_y_local(k.y) - new_drawing.y]);
    create_drawing2(new_drawing, DRAW_QUALITY);
    emit_entity(new_drawing);
    undo_list.push(clone_action(["add", [new_drawing]]));
    temp_draw_context.clearRect(0, 0, temp_draw_canvas.width * DRAW_QUALITY, temp_draw_canvas.height * DRAW_QUALITY);
    temp_draw_context.beginPath();
    setup_mouse_events(void 0, void 0);
    new_drawing = null
}

function drawRotatedImage(k, a, c) {
    k.save();
    k.translate(a.width / 2, a.height / 2);
    k.rotate(c);
    k.translate(-(a.width / 2), -(a.height / 2));
    k.drawImage(a, 0, 0);
    k.restore()
}

function draw_end_path(k, a) {
    if (a.path.length >= ARROW_LOOKBACK) {
        var c = Math.max(0, a.path.length - ARROW_LOOKBACK),
            c = [to_x_local(a.x + a.path[c][0]), to_y_local(a.y + a.path[c][1])],
            g = [to_x_local(a.x + a.path[a.path.length - 1][0]), to_y_local(a.y + a.path[a.path.length - 1][1])];
        draw_end(k, a, c, g, 1 / zoom_level, DRAW_QUALITY)
    }
}

function draw_end(k, a, c, g, h, n) {
    var m = size_y / 1E3 * 10 * h;
    a.end_size && (m = size_y / 1E3 * a.end_size * h);
    k.stroke();
    k.beginPath();
    "arrow" == a.end ? draw_arrow(k, c, g, m, n) : "T" == a.end && draw_T(k, c, g, m, n)
}

function draw_arrow(k, a, c, g, h) {
    var n = c[0] - a[0];
    a = c[1] - a[1];
    l = Math.sqrt(Math.pow(n, 2) + Math.pow(a, 2));
    n /= l;
    a /= l;
    drawArrow(k, c[0], c[1], c[0] + n, c[1] + a, 3, 1, Math.PI / 8, g * ARROW_SCALE2, h)
}

function draw_T(k, a, c, g, h) {
    g *= TEND_SCALE2;
    var n = c[0] - a[0];
    a = c[1] - a[1];
    l = Math.sqrt(Math.pow(n, 2) + Math.pow(a, 2));
    n /= l;
    a /= l;
    a = -a;
    k.stroke();
    var m = k.getLineDash();
    k.setLineDash([]);
    k.beginPath();
    k.moveTo((c[0] - g * a) * h, (c[1] - g * n) * h);
    k.lineTo((c[0] + g * a) * h, (c[1] + g * n) * h);
    k.stroke();
    k.setLineDash(m)
}

function init_shape_canvas(k, a, c, g) {
    void 0 === c && (c = 1);
    init_canvas(k, a.outline_thickness * c, a.outline_color, a.style, a.fill_opacity, a.fill_color, a.outline_opacity)
}

function canvas2container2(k, a, c, g, h) {
    k = PIXI.Texture.fromCanvas(a);
    k = new PIXI.Sprite(k);
    h.container = k;
    k.texture.baseTexture.source.src = h.uid;
    k.hitArea = new PIXI.TransparencyHitArea.create(k, !1);
    init_dragging(k);
    k.entity = h;
    room_data.slides[active_slide].entities[h.uid] = h;
    return !0
}

function draw_entity(k, a, c, g, h) {
    ("00000" + (k.color | 0).toString(16)).substr(-6);
    var n = background_sprite.height / background_sprite.scale.y,
        m = k.draw_zoom_level / zoom_level;
    a /= m;
    c = background_sprite.height / renderer.view.height * a * c / background_sprite.scale.y;
    c *= m;
    g = 20 + g * c;
    m = [];
    if (0 < k.path.length) {
        for (var f = 9999, d = 9999, e = -9999, b = -9999, p = 0; p < k.path.length; p++) {
            var u = k.path[p][0],
                q = k.path[p][1],
                f = Math.min(f, u),
                d = Math.min(d, q),
                e = Math.max(e, u),
                b = Math.max(b, q);
            m.push(n * u * a, n * q * a)
        }
        if ("curve" == k.type || "area" == k.type) g +=
            Math.max(e - f, b - d) * n * a * .3;
        e = Math.ceil(n * (e - f) * a + g);
        b = Math.ceil(n * (b - d) * a + g);
        u = document.createElement("canvas");
        u.width = e;
        u.height = b;
        for (var q = u.getContext("2d"), x = -f * n * a + g / 2, n = -d * n * a + g / 2, p = 0; p < m.length; p += 2) m[p] += x, m[p + 1] += n;
        h(q, m, a, c);
        canvas2container2(q, u, e, b, k);
        k.container.height /= a;
        k.container.width /= a;
        k.container.x = x_abs(k.x + f) - g / 2 / a;
        k.container.y = y_abs(k.y + d) - g / 2 / a;
        k.container.orig_scale = [k.container.scale.x, k.container.scale.y];
        background_sprite.addChild(k.container);
        render_scene()
    }
}

function create_drawing2(k, a, c) {
    a || (a = 1);
    c || (c = 1);
    var g = k.thickness;
    k.end_size && (g = 2 * k.end_size);
    draw_entity(k, a, c, g, function(a, c, g, f) {
        init_canvas_simple(a, k.thickness * f, k.color, k.style);
        g = smooth_draw(a, c, !1, 1);
        if (k.end) {
            if (k.path.length >= ARROW_LOOKBACK) {
                var d = Math.max(0, k.path.length - ARROW_LOOKBACK);
                g[0] = [c[2 * d], c[2 * d + 1]]
            }
            draw_end(a, k, g[0], g[1], f, 1)
        }
    })
}

function create_curve2(k, a, c) {
    a || (a = 1);
    c || (c = 1);
    var g = k.thickness;
    k.end_size && (g = 2 * k.end_size);
    draw_entity(k, a, c, g, function(a, c, g, f) {
        init_canvas_simple(a, k.thickness * f, k.color, k.style);
        c = smooth_draw(a, c, !1, 1);
        k.end && draw_end(a, k, c[0], c[1], f, 1)
    })
}

function create_line2(k, a, c) {
    a || (a = 1);
    c || (c = 1);
    var g = k.thickness;
    k.end_size && (g = 2 * k.end_size);
    draw_entity(k, a, c, g, function(a, c, g, f) {
        init_canvas_simple(a, k.thickness * f, k.color, k.style);
        a.moveTo(c[0], c[1]);
        for (g = 2; g < c.length; g += 2) a.lineTo(c[g], c[g + 1]);
        a.stroke();
        draw_end(a, k, [c[c.length - 4], c[c.length - 3]], [c[c.length - 2], c[c.length - 1]], f, 1)
    })
}

function create_area2(k, a, c) {
    a || (a = 1);
    c || (c = 1);
    var g = k.outline_thickness;
    k.path[k.path.length - 1] == [0, 0] && k.path.pop();
    draw_entity(k, a, c, g, function(a, c, g, f) {
        init_shape_canvas(a, k, f, g);
        smooth_draw(a, c, !0, 1);
        a.fill()
    })
}

function create_polygon2(k, a, c) {
    a || (a = 1);
    c || (c = 1);
    draw_entity(k, a, c, k.outline_thickness, function(a, c, n, m) {
        init_shape_canvas(a, k, m, n);
        a.moveTo(c[0], c[1]);
        for (n = 2; n < c.length; n += 2) a.lineTo(c[n], c[n + 1]);
        a.lineTo(c[0], c[1]);
        a.stroke();
        a.fill()
    })
}

function create_rectangle2(k, a, c) {
    a || (a = 1);
    c || (c = 1);
    var g = k.outline_thickness,
        h = background_sprite.height / background_sprite.scale.y;
    k.draw_zoom_level && (a /= k.draw_zoom_level);
    c = background_sprite.height / renderer.view.height * a * c / background_sprite.scale.y;
    var g = 20 + g * c,
        n = Math.ceil(h * k.width * a + g),
        m = Math.ceil(h * k.height * a + g),
        f = document.createElement("canvas");
    f.width = n;
    f.height = m;
    var d = f.getContext("2d");
    init_shape_canvas(d, k, c, a);
    d.fillRect(g / 2, g / 2, h * k.width * a, h * k.height * a);
    d.strokeRect(g / 2, g / 2, h * k.width *
        a, h * k.height * a);
    canvas2container2(d, f, n, m, k);
    k.container.x = x_abs(k.x) - g / 2 / a;
    k.container.y = y_abs(k.y) - g / 2 / a;
    k.container.width /= a;
    k.container.height /= a;
    k.container.orig_scale = [k.container.scale.x, k.container.scale.y];
    background_sprite.addChild(k.container);
    render_scene()
}

function create_circle2(k, a, c) {
    a || (a = 1);
    c || (c = 1);
    var g = k.outline_thickness,
        h = background_sprite.height / background_sprite.scale.y;
    k.draw_zoom_level && (a /= k.draw_zoom_level);
    var n = background_sprite.height / renderer.view.height * a * c / background_sprite.scale.y,
        g = 20 + g * n;
    c = Math.ceil(2 * h * k.radius * a + g);
    var m = Math.ceil(2 * h * k.radius * a + g),
        f = document.createElement("canvas");
    f.width = c;
    f.height = m;
    var d = f.getContext("2d");
    init_shape_canvas(d, k, n, a);
    to_x_local_vect(k.radius);
    var e = h * k.radius * a + g / 2;
    d.beginPath();
    d.arc(e,
        e, h * k.radius * a, 0, 2 * Math.PI);
    d.fill();
    d.stroke();
    if (k.draw_radius) {
        d.strokeStyle = "#FFFFFF";
        d.fillStyle = "#FFFFFF";
        d.beginPath();
        d.moveTo(e, e);
        d.lineTo(e + h * a * k.draw_radius[0], e + h * a * k.draw_radius[1]);
        d.stroke();
        var b = e + h * a * k.draw_radius[0] / 2,
            e = e + h * a * k.draw_radius[1] / 2;
        d.font = "" + 22 * n + "px Arial";
        n = Math.sqrt(Math.pow(background.size_x * k.draw_radius[0], 2) + Math.pow(background.size_y * k.draw_radius[1], 2));
        d.strokeStyle = "#000000";
        d.fillStyle = "#FFFFFF";
        var p = "",
            p = "lol" == game ? p + (Math.round(10 * n) / 10 + "u") : "wows" ==
            game ? p + (Math.round(.01 * n) / 10 + "km") : p + (Math.round(10 * n) / 10 + "m");
        d.fillText(p, b, e)
    }
    canvas2container2(d, f, c, m, k);
    k.container.x = x_abs(k.x) - h * k.radius - g / 2 / a;
    k.container.y = y_abs(k.y) - h * k.radius - g / 2 / a;
    k.container.width /= a;
    k.container.height /= a;
    k.container.orig_scale = [k.container.scale.x, k.container.scale.y];
    background_sprite.addChild(k.container);
    render_scene()
}

function start_drawing() {
    draw_context.clearRect(0, 0, draw_canvas.width * DRAW_QUALITY, draw_canvas.height * DRAW_QUALITY);
    temp_draw_context.clearRect(0, 0, temp_draw_canvas.width * DRAW_QUALITY, temp_draw_canvas.height * DRAW_QUALITY);
    "setLineDash" in temp_draw_context && temp_draw_context.setLineDash([]);
    "setLineDash" in draw_context && draw_context.setLineDash([]);
    $(temp_draw_canvas).show();
    $(draw_canvas).show()
}

function stop_drawing() {
    background_sprite.removeChild(graphics);
    new_drawing = null;
    render_scene();
    $(temp_draw_canvas).hide();
    $(draw_canvas).hide()
}

function snap_and_emit_entity(k) {
    move_entity(k, 0, 0);
    emit_entity(k);
    render_scene()
}

function update_timeline(k) {
    if (k.start_time) {
        for (var a = k.start_time; timeline_entities[a];) a += EPSILON;
        timeline.add(a);
        timeline_entities[a] = k;
        for (a = k.end_time; timeline_entities[a];) a += EPSILON;
        timeline.add(a);
        timeline_entities[a] = k
    }
}

function rebuild_timeline(k) {
    timeline = new FastPriorityQueue;
    timeline_entities = {};
    for (var a in room_data.slides[active_slide].entities) room_data.slides[active_slide].entities.hasOwnProperty(a) && (room_data.slides[active_slide].entities[a].container && remove(a, !0), update_timeline(room_data.slides[active_slide].entities[a]))
}

function progress_timeline() {
    if (!timeline.isEmpty())
        for (var k = video_progress(), a = timeline.peek(); k >= a;) {
            a = timeline_entities[a];
            video_progress() >= a.end_time ? a.container && remove(a.uid, !0) : a.start_time <= k && (a.container || create_entity(a));
            timeline.poll();
            if (timeline.isEmpty()) break;
            a = timeline.peek()
        }
}

function emit_entity(k) {
    var a = k.container;
    background.is_video && (k.start_time = video_progress(), k.end_time = video_progress() + delay, update_timeline(k));
    k.container = void 0;
    socket.emit("create_entity", room, k, active_slide);
    room_data.slides[active_slide].z_top++;
    k.z_index = room_data.slides[active_slide].z_top;
    a && (k.container = a, set_anchor(k.container, .5, .5));
    render_scene()
}

function on_icon_end(k) {
    setup_mouse_events(void 0, void 0);
    var a = k.data.getLocalPosition(background_sprite);
    k = icon_color;
    selected_icon_no_color && (k = 16777215);
    var c = icon_size * icon_extra_scale * ICON_SCALE,
        c = c * zoom_level,
        g = mouse_x_rel(a.x) - c / 2,
        a = mouse_y_rel(a.y) - c / 2;
    k = {
        uid: newUid(),
        type: "icon",
        tank: selected_icon,
        x: g,
        y: a,
        size: c,
        color: k,
        alpha: 1,
        label: $("#icon_label").val(),
        label_font_size: label_font_size * zoom_level,
        label_color: "#ffffff",
        label_font: "Arial",
        label_pos: label_position,
        label_background: $("#label_background").get(0).checked,
        draw_zoom_level: zoom_level
    };
    selected_icon_circle_radius && (k.circle = selected_icon_circle_radius);
    k.label_background && (k.label_color = "#000000");
    undo_list.push(clone_action(["add", [k]]));
    create_icon(k, snap_and_emit_entity)
}

function on_text_end(k) {
    var a = $("#text_tool_text").val();
    setup_mouse_events(void 0, void 0);
    if ("" != a) {
        var c = k.data.getLocalPosition(background_sprite);
        k = mouse_x_rel(c.x);
        c = mouse_y_rel(c.y);
        a = {
            uid: newUid(),
            type: "text",
            x: k,
            y: c,
            scale: [1, 1],
            color: text_color,
            alpha: 1,
            text: a,
            font_size: font_size * zoom_level,
            font: "Arial",
            draw_zoom_level: zoom_level
        };
        undo_list.push(clone_action(["add", [a]]));
        current_text_element = a;
        create_text2(a);
        snap_and_emit_entity(a)
    }
}

function on_background_text_end(k) {
    setup_mouse_events(void 0, void 0);
    var a = k.data.getLocalPosition(background_sprite);
    k = mouse_x_rel(a.x);
    a = mouse_y_rel(a.y);
    k = {
        uid: newUid(),
        type: "background_text",
        x: k,
        y: a,
        scale: [1, 1],
        color: background_text_color,
        alpha: 1,
        text: $("#text_tool_background_text").val(),
        font_size: background_font_size * zoom_level * 1.2,
        font: "Arial",
        draw_zoom_level: zoom_level
    };
    undo_list.push(clone_action(["add", [k]]));
    create_background_text2(k);
    snap_and_emit_entity(k)
}
var line_state = {};

function on_line_move(k) {
    once_per_frame(line_state, function() {
        var a = k.data.getLocalPosition(background_sprite),
            c;
        new_drawing && (c = 0 == new_drawing.path.length ? [to_x_local(new_drawing.x), to_y_local(new_drawing.y)] : [to_x_local(new_drawing.path[new_drawing.path.length - 1][0] + new_drawing.x), to_y_local(new_drawing.path[new_drawing.path.length - 1][1] + new_drawing.y)], a = [to_x_local(mouse_x_rel(a.x)), to_y_local(mouse_y_rel(a.y))], temp_draw_context.clearRect(0, 0, temp_draw_canvas.width * DRAW_QUALITY, temp_draw_canvas.height *
            DRAW_QUALITY), temp_draw_context.beginPath(), temp_draw_context.moveTo(c[0] * DRAW_QUALITY, c[1] * DRAW_QUALITY), temp_draw_context.lineTo(a[0] * DRAW_QUALITY, a[1] * DRAW_QUALITY), temp_draw_context.stroke(), draw_end(temp_draw_context, new_drawing, c, a, 1 / zoom_level, DRAW_QUALITY))
    })
}

function on_line_end(k) {
    once_per_frame(line_state, function() {});
    try {
        var a = mouse_loc(),
            c = from_x_local(a.x) - new_drawing.x,
            g = from_y_local(a.y) - new_drawing.y;
        0 != new_drawing.path.length && c == last(new_drawing.path)[0] && g == last(new_drawing.path)[1] || new_drawing.path.push([c, g]);
        shifted ? (temp_draw_context.clearRect(0, 0, temp_draw_canvas.width * DRAW_QUALITY, temp_draw_canvas.height * DRAW_QUALITY), draw_context.clearRect(0, 0, draw_canvas.width * DRAW_QUALITY, draw_canvas.height * DRAW_QUALITY), draw_context.lineTo(a.x *
            DRAW_QUALITY, a.y * DRAW_QUALITY), draw_context.stroke()) : (create_line2(new_drawing, DRAW_QUALITY), emit_entity(new_drawing), undo_list.push(clone_action(["add", [new_drawing]])), setup_mouse_events(void 0, void 0), stop_drawing(), new_drawing = null)
    } catch (h) {}
    render_scene()
}
CanvasRenderingContext2D.prototype.roundRect = function(k, a, c, g, h) {
    c < 2 * h && (h = c / 2);
    g < 2 * h && (h = g / 2);
    this.beginPath();
    this.moveTo(k + h, a);
    this.arcTo(k + c, a, k + c, a + g, h);
    this.arcTo(k + c, a + g, k, a + g, h);
    this.arcTo(k, a + g, k, a, h);
    this.arcTo(k, a, k + c, a, h);
    this.closePath();
    return this
};

function create_text_sprite(k, a, c, g, h, n, m) {
    void 0 === m && (m = "");
    var f = document.createElement("canvas"),
        d = objectContainer.scale.y,
        e = f.getContext("2d"),
        b = TEXT_QUALITY;
    e.font = m + " " + Math.round(2 * c * d * b) + "px " + g;
    e.textBaseline = "top";
    for (var p = e.measureText(k); p.width > MAX_CANVAS_SIZE;) b /= 2, e.font = m + " " + Math.round(2 * c * d * b) + "px " + g, p = e.measureText(k);
    var p = e.measureText(k),
        u = c * d * b * 2.7,
        q = .1 * u,
        x = .1 * u,
        y = .2 * u;
    f.height = u + 2 * x;
    f.width = p.width + 2 * y + 2 * q;
    h && (e.fillStyle = "#ffffff", e.lineWidth = q, e.roundRect(q / 2, q / 2, p.width +
        2 * y, u, 4 * x), e.fill(), e.stroke());
    e.fillStyle = a;
    e.font = m + " " + Math.round(2 * c * d * b) + "px " + g;
    e.textBaseline = "middle";
    n && (e.shadowColor = "black", e.shadowOffsetX = b, e.shadowOffsetY = b, e.shadowBlur = 5);
    h ? e.fillText(k, y, f.height / 2) : e.fillText(k, 0, f.height / 2);
    k = PIXI.Texture.fromCanvas(f);
    k = new PIXI.Sprite(k);
    a = k.width / k.height;
    k.height = Math.round(2 * c * d) / objectContainer.scale.x;
    k.width = k.height * a;
    k.x = 0;
    k.y = 0;
    return k
}

function create_text2(k) {
    var a = "#" + ("00000" + (k.color | 0).toString(16)).substr(-6),
        a = create_text_sprite(k.text, a, TEXT_SCALE * k.font_size, k.font, !1, !0),
        c = a.width / a.height;
    a.height = x_abs(k.font_size / 390);
    a.width = a.height * c;
    a && (k.container = a, a.x = x_abs(k.x), a.y = y_abs(k.y), background_sprite.addChild(a), a.texture.baseTexture.source.src = k.uid, init_dragging(a), a.entity = k, room_data.slides[active_slide].entities[k.uid] = k, render_scene())
}

function create_background_text2(k) {
    var a = "#" + ("00000" + (k.color | 0).toString(16)).substr(-6),
        a = create_text_sprite(k.text, a, BACKGROUND_TEXT_SCALE * k.font_size, k.font, !0, !1),
        c = a.width / a.height;
    a.height = x_abs(k.font_size / 420);
    a.width = a.height * c;
    a && (k.container = a, a.x = x_abs(k.x), a.y = y_abs(k.y), background_sprite.addChild(a), a.texture.baseTexture.source.src = k.uid, init_dragging(a), a.entity = k, room_data.slides[active_slide].entities[k.uid] = k, render_scene())
}

function nearestPow2(k) {
    return Math.pow(2, Math.round(Math.log(k) / Math.log(2)))
}

function draw_circle(k) {
    var a = 1 / zoom_level,
        c = y_abs(k.circle / background.size_y),
        g = k.color,
        h = .3 * c * a,
        n = 2 * c * a + h,
        m = 2 * c * a + h,
        f = document.createElement("canvas");
    f.width = n;
    f.height = m;
    n = f.getContext("2d");
    init_canvas(n, 1 * a, g, 0, .2, g, 1);
    n.arc(c * a + h / 2, c * a + h / 2, c * a, 0, 2 * Math.PI);
    n.fill();
    n.stroke();
    c = PIXI.Texture.fromCanvas(f);
    c = new PIXI.Sprite(c);
    c.width /= k.container.scale.y * a;
    c.height /= k.container.scale.y * a;
    c.anchor.x = .5;
    c.anchor.y = .5;
    return c
}

function redraw_circle(k) {
    if (k.circle && (k.container.circle_container && (k.container.removeChild(k.container.circle_container), k.container.circle_container = null), 0 < (background.size_y ? background.size_y : 0))) {
        var a = draw_circle(k);
        k.container.addChild(a);
        k.container.circle_container = a
    }
}

function create_icon_cont(k, a) {
    var c = new PIXI.Sprite(a);
    c.tint = k.color;
    var g = c.width / c.height;
    k.container = c;
    k.container.x = x_abs(k.x);
    k.container.y = y_abs(k.y);
    c.height = x_abs(k.size);
    c.width = c.height * g;
    set_anchor(c, .5, .5);
    if (k.label && "" != k.label) {
        var g = create_text_sprite(k.label, k.label_color, k.label_font_size * x_abs(.0013) / k.container.scale.y, k.label_font, k.label_background, !k.label_background, k.label_font_modifier),
            h = k.label_pos;
        h || (h = "pos_bottom");
        k.container.addChild(g);
        var n = c.width / c.scale.x,
            c =
            c.height / c.scale.y;
        "pos_bottom" == h ? (g.x -= g.width / 2, g.y += c / 2) : "pos_top" == h ? (g.x -= g.width / 2, g.y -= g.height + c / 2) : "pos_left" == h ? (g.x -= g.width + n / 2, g.y -= g.height / 2) : "pos_right" == h ? (g.x += n / 2, g.y -= g.height / 2) : "pos_top_left" == h ? (g.x -= g.width + n / 2, g.y -= c / 2 + g.height / 2) : "pos_top_right" == h ? (g.x += n / 2, g.y -= c / 2 + g.height / 2) : "pos_bottom_left" == h ? g.x -= g.width + n / 2 : "pos_bottom_right" == h && (g.x += n / 2)
    }
    redraw_circle(k);
    k.container.entity = k;
    k.container.alpha = k.alpha;
    init_dragging(k.container);
    background_sprite.addChild(k.container);
    render_scene();
    room_data.slides[active_slide].entities[k.uid] = k
}

function create_icon(k, a) {
    try {
        var c = $('button[id*="' + k.tank + '"]').find("span");
        c[0].innerHTML = parseInt(c[0].innerHTML) + 1;
        c = $("#icon_counter");
        c.text((parseInt(c.text()) + 1).toString())
    } catch (m) {}
    var c = k.tank,
        g = k.tank.slice(-3);
    "png" != g && "jpg" != g && (c += ".png");
    var h = img_texture(c);
    resources_loading++;
    var n = function() {
        create_icon_cont(k, h);
        a && a(k);
        resources_loading--
    };
    if (h.baseTexture.hasLoaded) n();
    else h.baseTexture.on("loaded", function() {
        k.container || n()
    })
}

function init_dragging(k) {
    dragging_enabled ? make_draggable(k) : make_undraggable(k);
    k.orig_scale = [k.scale.x, k.scale.y]
}

function make_draggable(k) {
    k.interactive = !0;
    k.buttonMode = !0;
    k.draggable = !0;
    k.mousedown = on_drag_start;
    k.touchstart = on_drag_start
}

function make_undraggable(k) {
    k.interactive = !1;
    k.buttonMode = !1;
    k.draggable = !1;
    delete k.mousedown;
    delete k.touchstart
}

function set_anchor(k, a, c) {
    var g = a - k.anchor.x,
        h = c - k.anchor.y;
    k.anchor.x = a;
    k.anchor.y = c;
    k.x += g * k.width;
    k.y += h * k.height
}

function create_entity(k) {
    function a() {
        k.container && (adjust_zoom(k), background.is_video && update_timeline(k))
    }
    room_data.slides[active_slide].entities[k.uid] && remove(k.uid);
    "background" == k.type ? (set_background(k), a()) : "icon" == k.type ? create_icon(k, a) : "drawing" == k.type ? (create_drawing2(k, DRAW_QUALITY), a()) : "curve" == k.type ? (create_curve2(k, DRAW_QUALITY), a()) : "line" == k.type ? (create_line2(k, DRAW_QUALITY), a()) : "text" == k.type ? (create_text2(k), a()) : "background_text" == k.type ? (create_background_text2(k), a()) :
        "note" == k.type ? (create_note(k), a()) : "rectangle" == k.type ? (create_rectangle2(k, DRAW_QUALITY), a()) : "circle" == k.type ? (a(), create_circle2(k, DRAW_QUALITY)) : "polygon" == k.type ? (create_polygon2(k, DRAW_QUALITY), a()) : "area" == k.type && (create_area2(k, DRAW_QUALITY), a())
}

function update_username(k) {
    "" != k && k != my_user.name && (my_user.name = k, socket.emit("update_user", room, my_user));
    k = $("#" + my_user.id).find("input");
    k.attr("placeholder", my_user.name);
    k.val("")
}

function add_user(k) {
    my_user_id == k.id && (my_user = k);
    if (k.id in userlist) {
        var a = $("#" + k.id);
        k.id == my_user_id ? a.find("input").attr("placeholder", k.name) : a.text(k.name)
    } else k.id == my_user_id ? (a = "<div class='btn' style='text-align:left;' id='" + k.id + "'><input maxlength='30' type='text' placeholder='" + escapeHtml(k.name) + "'></div>", $("#userlist").prepend(a), a = $("#userlist").find("input"), a.on("blur", function() {
        update_username(this.value)
    }), a.onkeypress = function(a) {
        a || (a = window.event);
        keyCode = a.keyCode || a.which;
        "13" == keyCode && update_username(this.value)
    }) : (a = "<button class='btn' style='text-align:left;' data-toggle='tooltip' title='Click to toggle this user&#39;s permission.' id='" + k.id + "'>" + escapeHtml(k.name) + "</button>", $("#userlist").append(a));
    userlist[k.id] = k;
    k.role ? "owner" == k.role ? $("#" + k.id).css("background-color", "lime") : "driver" == k.role && $("#" + k.id).css("background-color", "yellow") : $("#" + k.id).css("background-color", "#EEEEEE");
    k.id == my_user_id && update_my_user();
    $("#user_count").text(Object.keys(userlist).length.toString())
}

function update_my_user() {
    my_user.logged_in ? ($("#store_tactic_popover").show(), tactic_name && "" != tactic_name && $("#save").show(), $("#sign_in_text").text(my_user.name.substring(0, 8)), $("#login_dropdown").removeClass("btn-warning"), $("#login_dropdown").addClass("btn-success")) : ($("#store_tactic_popover").hide(), $("#save").hide());
    update_lock()
}

function update_lock() {
    /*var k = $("#lock div");
    is_room_locked ? k.removeClass("icon-unlock").addClass("icon-lock") : k.removeClass("icon-lock").addClass("icon-unlock");
    if (is_room_locked && !my_user.role) {
        $(".mejs-controls").hide();
        $(".left_column").hide();
        $("#can_not_edit").show();
        $("#disable_dragging").hide();
        make_slides_unsortable();
        $("#map_select_box").hide();
        for (var a in room_data.slides[active_slide].entities) room_data.slides[active_slide].entities[a] && "note" == room_data.slides[active_slide].entities[a].type &&
            room_data.slides[active_slide].entities[a].container && ($("textarea", room_data.slides[active_slide].entities[a].container.menu).prop("readonly", !0), $("button", room_data.slides[active_slide].entities[a].container.menu).hide());
        my_tracker && stop_tracking();
        "ping_context" == active_context && (objectContainer.mousemove = void 0)
    } else
        for (a in $(".mejs-controls").show(), $(".left_column").show(), make_slides_sortable(), $("#can_not_edit").hide(), $("#disable_dragging").show(), $("#map_select_box").show(), room_data.slides[active_slide].entities) room_data.slides[active_slide].entities[a] &&
            "note" == room_data.slides[active_slide].entities[a].type && room_data.slides[active_slide].entities[a].container && ($("textarea", room_data.slides[active_slide].entities[a].container.menu).prop("readonly", !1), $("button", room_data.slides[active_slide].entities[a].container.menu).show());
    "owner" != my_user.role && is_room_locked ? ($("#store_tactic_popover").hide(), $("#save").hide(), $("#export_tab_button").hide()) : (my_user.logged_in ? ($("#store_tactic_popover").show(), tactic_name && "" != tactic_name && $("#save").show()) :
        ($("#store_tactic_popover").hide(), $("#save").hide()), $("#export_tab_button").show());
    "owner" == my_user.role ? ($("#lock").show(), $("#nuke_room").show(), $("#stop_present").prop("disabled", !1), $("#lock_camera").show()) : ($("#lock").hide(), $("#nuke_room").hide(), $("#lock_camera").hide(), $("#stop_present").prop("disabled", !0));
    update_slide_buttons()*/
}

function remove_user(k) {
    $("#" + k).remove();
    delete userlist[k];
    $("#user_count").text(Object.keys(userlist).length.toString())
}

function escapeHtml(k) {
    return k && "string" == typeof k ? k.replace(/&/g, "&amp;").replace(/</g, "&lt;").replace(/>/g, "&gt;").replace(/"/g, "&quot;").replace(/'/g, "&#039;") : ""
}

function chat(k, a) {
    $("#chat_tab_button").effect("pulsate", {
        times: 1
    }, 1E3);
    k = escapeHtml(k);
    k = k.split(":");
    $("#chat_box").append('<div class="chatmsg"><b style="color:' + a + ';">' + k[0] + "</b>: " + k.slice(1).join(":") + "<br/></div>");
    $("#chat_box").scrollTop($("#chat_box")[0].scrollHeight)
}

function supports_color_input() {
    var k = document.createElement("input"),
        a, c = document.documentElement;
    k.setAttribute("type", "color");
    if (a = "text" !== k.type) k.value = ":)", k.style.cssText = "position:absolute;visibility:hidden;", c.appendChild(k), c.offsetWidth, a = ":)" != k.value, c.removeChild(k);
    return a
}

function initialize_color_picker(k, a) {
    var c = $('select[id="' + k + '"]').val();
    window[a] = parseInt("0x" + c.substring(1));
    $("#" + k + " ~ input").attr("value", c);
    $("#" + k + " ~ input").val(c);
    $("#" + k + " ~ input").on("change", function() {
        var c = $(this).val();
        window[a] = parseInt("0x" + c.substring(1));
        $("#" + k + '~ span span[data-selected=""]').removeAttr("data-selected")
    });
    $('select[id="' + k + '"]').simplecolorpicker().on("change", function() {
        var c = $('select[id="' + k + '"]').val();
        window[a] = parseInt("0x" + c.substring(1));
        $("#" + k +
            " ~ input").first().val(c);
        "track_color" == a && (my_tracker && stop_tracking(), start_tracking({
            x: 2E3,
            y: 2E3
        }))
    })
}

function initialize_slider(k, a, c) {
    var g = $("#" + k);
    $("#" + a).val(g.attr("value"));
    window[c] = parseFloat(g.attr("value"));
    g.on("change", function(g) {
        $("#" + a).val(this.value);
        window[c] = parseFloat(this.value)
    });
    g.on("input", function(g) {
        $("#" + a).val(this.value);
        window[c] = parseFloat(this.value)
    });
    $("#" + a).change(function() {
        var a = parseFloat(this.value);
        isNaN(a) ? this.value = window[c] : (window[c] = a, g.slider("setValue", window[c]))
    })
}

function clear(k) {
    var a = [],
        c;
    for (c in room_data.slides[active_slide].entities)
        if (room_data.slides[active_slide].entities.hasOwnProperty(c) && (room_data.slides[active_slide].entities[c].type == k || !k) && "background" != room_data.slides[active_slide].entities[c].type) {
            var g = room_data.slides[active_slide].entities[c];
            remove(c);
            a.push(g);
            socket.emit("remove", room, c, active_slide)
        } undo_list.push(clone_action(["remove", a]))
}

function clone_action(k) {
    if (k[1].length) {
        temp_containers = [];
        for (var a = 0; a < k[1].length; a++) temp_containers.push(k[1][a].container), k[1][a].container = null
    }
    var c = JSON.stringify(k);
    if (k[1].length)
        for (a = 0; a < k[1].length; a++) k[1][a].container = temp_containers[a];
    return JSON.parse(c)
}

function undo() {
    var k = undo_list.pop();
    if (k)
        if ("add" == k[0]) {
            for (var a in k[1]) k[1][a].uid && (remove(k[1][a].uid), delete k[1][a].container, socket.emit("remove", room, k[1][a].uid, active_slide));
            redo_list.push(clone_action(k))
        } else if ("drag" == k[0]) {
        for (a in k[1]) {
            var c = k[1][a][0][0],
                g = k[1][a][0][1],
                h = k[1][a][0][2],
                n = k[1][a][0][3],
                m = k[1][a][1];
            room_data.slides[active_slide].entities[m] && (k[1][a][0][0] = room_data.slides[active_slide].entities[m].x, k[1][a][0][1] = room_data.slides[active_slide].entities[m].y,
                k[1][a][0][2] = room_data.slides[active_slide].entities[m].scale ? [room_data.slides[active_slide].entities[m].scale[0], room_data.slides[active_slide].entities[m].scale[1]] : [1, 1], "undefined" !== typeof room_data.slides[active_slide].entities[m].rotation && (k[1][a][0][3] = room_data.slides[active_slide].entities[m].rotation), drag_entity(room_data.slides[active_slide].entities[m], c, g, h, n), socket.emit("drag", room, m, active_slide, c, g, h, n))
        }
        redo_list.push(clone_action(k))
    } else if ("remove" == k[0]) {
        for (a in k[1]) c =
            k[1][a], delete c.container, socket.emit("create_entity", room, c, active_slide), create_entity(c);
        redo_list.push(clone_action(k))
    } else if ("select" == k[0]) {
        g = [];
        for (a in k[2]) c = k[2][a], room_data.slides[active_slide].entities.hasOwnProperty(c.uid) && g.push(c);
        deselect_all();
        selected_entities = g;
        select_entities();
        redo_list.push(clone_action(k))
    }
    render_scene()
}

function redo() {
    var k = redo_list.pop();
    if (k) {
        if ("add" == k[0]) {
            for (var a in k[1]) k[1][a].uid && (socket.emit("create_entity", room, k[1][a], active_slide), create_entity(k[1][a]));
            undo_list.push(clone_action(k))
        } else if ("drag" == k[0]) {
            for (a in k[1]) {
                var c = k[1][a][0][0],
                    g = k[1][a][0][1],
                    h = k[1][a][0][2],
                    n = k[1][a][0][3],
                    m = k[1][a][1];
                room_data.slides[active_slide].entities[m] && (k[1][a][0][0] = room_data.slides[active_slide].entities[m].x, k[1][a][0][1] = room_data.slides[active_slide].entities[m].y, k[1][a][0][2] = room_data.slides[active_slide].entities[m].scale ? [room_data.slides[active_slide].entities[m].scale[0], room_data.slides[active_slide].entities[m].scale[1]] : [1, 1], "undefined" !== typeof room_data.slides[active_slide].entities[m].rotation && (k[1][a][0][3] = room_data.slides[active_slide].entities[m].rotation), drag_entity(room_data.slides[active_slide].entities[m], c, g, h, n), socket.emit("drag", room, m, active_slide, c, g, h, n))
            }
            undo_list.push(clone_action(k))
        } else if ("remove" == k[0]) {
            for (a in k[1]) c = k[1][a], room_data.slides[active_slide].entities.hasOwnProperty(c.uid) &&
                (remove(c.uid), delete c.container, socket.emit("remove", room, c.uid, active_slide));
            undo_list.push(clone_action(k))
        } else if ("select" == k[0]) {
            g = [];
            for (a in k[1]) c = k[1][a], room_data.slides[active_slide].entities.hasOwnProperty(c.uid) && g.push(c);
            deselect_all();
            selected_entities = g;
            select_entities();
            undo_list.push(clone_action(k))
        }
        render_scene()
    }
}

function clear_selected() {
    remove_select_box();
    var k = selected_entities.slice(0),
        a = [],
        c;
    for (c in k) {
        var g = k[c];
        remove(k[c].uid);
        a.push(g);
        socket.emit("remove", room, g.uid, active_slide)
    }
    deselect_all();
    selected_entities = [];
    undo_list.push(clone_action(["remove", a]));
    "drag_context" == active_context && cancel_drag(!0)
}

function drag_entity(k, a, c, g, h) {
    var n = k.x,
        m = k.y;
    k.x = a;
    k.y = c;
    g && (k.scale = g);
    "undefined" !== typeof h && null != h && (k.rotation = h);
    if (k.container) {
        k.container.x += x_abs(a - n);
        k.container.y += y_abs(c - m);
        "undefined" !== typeof h && null != h && (k.container.rotation = -h);
        "note" == k.type && align_note_text(k);
        k.container && (background_sprite.removeChild(k.container), background_sprite.addChild(k.container), g && (k.container.scale.x = k.container.orig_scale[0] * g[0], k.container.scale.y = k.container.orig_scale[1] * g[1]));
        select_box_dirty = !1;
        for (var f in selected_entities) selected_entities[f].uid == k.uid && (select_box_dirty = !0);
        render_scene()
    }
}

function find_first_slide() {
    var k = Math.pow(2, 52),
        a = 0,
        c;
    for (c in room_data.slides) {
        var g = room_data.slides[c].order;
        g < k && (k = g, a = c)
    }
    return a
}

function find_previous_slide(k) {
    var a = -9007199254740990,
        c = 0,
        g;
    for (g in room_data.slides) {
        var h = room_data.slides[g].order;
        h < k && h > a && (a = h, c = g)
    }
    return c
}

function find_next_slide(k) {
    var a = 9007199254740991,
        c = 0,
        g;
    for (g in room_data.slides) {
        var h = room_data.slides[g].order;
        h > k && h < a && (a = h, c = g)
    }
    return c
}

function hash(k) {
    for (var a = 0, c = 0; c < k.length; c++) a += k.charCodeAt(c);
    return a
}

function resolve_order_conflicts(k) {
    for (var a in room_data.slides)
        if (room_data.slides[a].order == k.order) {
            if (hash(k.uid) < hash(a)) {
                a = find_previous_slide(k.order);
                var c = 0;
                0 != a && (c = room_data.slides[a].order);
                k.order = Math.floor((k.order - c) / 2)
            } else a = find_next_slide(k.order), c = k.order + 4294967296, 0 != a && (c = room_data.slides[a].order), k.order = Math.floor((c - k.order) / 2);
            resolve_order_conflicts(k);
            break
        }
}

function update_slide_buttons() {
    var k = find_previous_slide(room_data.slides[active_slide].order),
        a = find_next_slide(room_data.slides[active_slide].order);
    0 == k || presentation_mode && !can_edit() ? document.getElementById("prev_slide").disabled = !0 : document.getElementById("prev_slide").disabled = !1;
    0 == a || presentation_mode && !can_edit() ? document.getElementById("next_slide").disabled = !0 : document.getElementById("next_slide").disabled = !1;
    1 != Object.keys(room_data.slides).length && can_edit() ? document.getElementById("remove_slide").disabled = !1 : document.getElementById("remove_slide").disabled = !0;
    can_edit() ? document.getElementById("new_slide").disabled = !1 : document.getElementById("new_slide").disabled = !0;
    grid_layer.visible = room_data.slides[active_slide].show_grid ? !0 : !1;
    k = escapeHtml(room_data.slides[active_slide].name);
    $("#slide_name_field").val(k);
    can_edit() ? $("#slide_name_field").prop("readonly", !1) : $("#slide_name_field").prop("readonly", !0);
    var a = find_first_slide(),
        c = $("#slide_table");
    c.empty();
    do k = escapeHtml(room_data.slides[a].name),
        a == active_slide ? c.append("<tr id='" + a + "' style='background-color:#ADD8E6'><td><a id='" + a + "'>" + k + "</a></td></tr>") : c.append("<tr id='" + a + "'><td><a id='" + a + "'>" + k + "</a></td></tr>"), a = find_next_slide(room_data.slides[a].order); while (0 != a);
    var g = $("#slide_container").scrollTop();
    setTimeout(function() {
        $("#slide_container").scrollTop(g)
    }, 0)
}

function transition(k) {
    var a = [],
        c = [],
        g = [];
    if (room_data.slides[active_slide].entities)
        for (var h in room_data.slides[active_slide].entities) room_data.slides[k].entities && room_data.slides[k].entities[h] ? g.push(h) : a.push(h);
    if (room_data.slides[k].entities)
        for (h in room_data.slides[k].entities) room_data.slides[active_slide].entities && !room_data.slides[active_slide].entities.hasOwnProperty(h) && c.push(h);
    for (var n in a) h = a[n], remove(h, !0);
    var m;
    for (n in g) h = g[n], "background" == room_data.slides[k].entities[h].type ?
        m = h : (remove(h, !0), c.push(h));
    active_slide = k;
    update_slide_buttons();
    var f = function() {
        try {
            c.sort(function(a, b) {
                return room_data.slides[k].entities[a].z_index - room_data.slides[k].entities[b].z_index
            })
        } catch (e) {}
        for (var a in c) create_entity(room_data.slides[k].entities[c[a]])
    };
    m ? set_background(room_data.slides[k].entities[m], function() {
        f();
        render_scene()
    }) : (f(), render_scene())
}

function cancel_drag(k) {
    clearTimeout(drag_timeout);
    dragging = objectContainer.buttonMode = !1;
    context_before_drag && (active_context = context_before_drag);
    context_before_drag = null;
    if (dragged_entity) {
        dragged_entity.mouseup = void 0;
        dragged_entity.touchend = void 0;
        dragged_entity.mouseupoutside = void 0;
        dragged_entity.touchendoutside = void 0;
        dragged_entity.mousemove = void 0;
        dragged_entity.touchmove = void 0;
        if (k)
            if (move_selected && 0 < selected_entities.length)
                for (var a in selected_entities) drag_entity(selected_entities[a],
                    selected_entities[a].origin_x, selected_entities[a].origin_y);
            else drag_entity(dragged_entity.entity, dragged_entity.entity.origin_x, dragged_entity.entity.origin_y);
        dragged_entity == select_box && (make_resizable(select_box), on_select_over.bind(select_box)(), on_selectbox_move.bind(select_box)())
    }
    dragged_entity = null;
    move_selected = !1
}

function change_slide(k) {
    if (active_slide != k) {
        "drag_context" == active_context && cancel_drag(!0);
        undo_list = [];
        redo_list = [];
        deselect_all();
        transition(k);
        k = $("#contexts").find(".active");
        var a = k.attr("id") + "_context";
        $(this).attr("data-context") && (a = k.attr("data-context") + "_context");
        active_context = a
    }
}

function create_new_slide(k) {
    var a = {};
    a.show_grid = room_data.slides[k].show_grid;
    a.z_top = room_data.slides[k].z_top;
    a.uid = newUid();
    var c = room_data.slides[k].name,
        g = c.split(" ");
    isNaN(parseFloat(g[g.length - 1])) ? c += " 1" : (g[g.length - 1] = "" + (parseFloat(g[g.length - 1]) + 1), c = g.join(" "));
    a.name = c;
    a.entities = {};
    for (var h in room_data.slides[k].entities) g = room_data.slides[k].entities[h].container, delete room_data.slides[k].entities[h].container, a.entities[h] = JSON.parse(JSON.stringify(room_data.slides[k].entities[h])),
        room_data.slides[k].entities[h].container = g;
    g = find_next_slide(room_data.slides[k].order);
    0 == g ? h = room_data.slides[k].order + 4294967296 : (h = room_data.slides[k].order + Math.floor((room_data.slides[g].order - room_data.slides[k].order) / 2), c == room_data.slides[g].name && (a.name = room_data.slides[k].name + " - 1"));
    a.order = h;
    return a
}

function remove_slide(k) {
    if (1 < Object.keys(room_data.slides).length) {
        if (k == active_slide) {
            var a = room_data.slides[k].order,
                c = find_previous_slide(a);
            0 == c && (c = find_next_slide(a));
            change_slide(c);
            active_slide = c
        }
        delete room_data.slides[k]
    }
    update_slide_buttons()
}

function rename_slide(k, a) {
    room_data.slides[k].name = a;
    update_slide_buttons()
}

function add_slide(k) {
    resolve_order_conflicts(k);
    room_data.slides[k.uid] = k;
    update_slide_buttons()
}

function initialize_map_select(k) {
    var a = k.find("option").sort(function(a, g) {
        return a.innerHTML < g.innerHTML ? -1 : a.innerHTML > g.innerHTML ? 1 : 0
    });
    k.empty().append(a);
    k.val("");
    k.selectpicker && k.selectpicker("refresh");
    k.change(function() {
        var a = k.val().trim();
        background && background.path == a || try_select_map(k, a)
    })
}

function activity_animation(k) {
    var a = $("#userlist #" + k);
    a.hasClass("sheen") || (a.addClass("sheen"), setTimeout(function() {
        a.removeClass("sheen")
    }, 1E3))
}

function try_select_map(k, a, c) {
    k = background ? background.uid : newUid();
    var g = 0,
        h = 0,
        n = $('option[value="' + a + '"]').attr("data-size");
    n && (h = n.split("x"), g = parseFloat(h[0]), h = parseFloat(h[1]));
    c = c ? !0 : !1;
    a.split(".").pop().startsWith();
    var m = {
        uid: k,
        type: "background",
        path: a,
        size_x: g,
        size_y: h,
        custom: c
    };
    is_video(a) && (m.is_video = !0);
    set_background(m, function(a) {
        a && (socket.emit("create_entity", room, m, active_slide), background.is_video && (handle_pause(0), socket.emit("pause_video", room, 0)))
    })
}

function add_custom_map(k) {
    var a = $("#map_select"),
        c = $('#map_select option[value="' + k + '"]');
    0 == c.length && (c = last(k.split("/")), c = $('<option value="' + k + '">' + c + "</option>"), a.append(c));
    a.val(k)
}

function cleanup() {
    deselect_all();
    undo_list = [];
    redo_list = [];
    if (active_slide)
        for (var k in room_data.slides[active_slide].entities) room_data.slides[active_slide].entities.hasOwnProperty(k) && remove(k);
    room_data = {}
}

function stop_syncing() {
    im_syncing = !1;
    clearInterval(sync_event);
    sync_event = setInterval(function() {
        im_syncing = !1;
        video_paused ? clearInterval(sync_event) : 2E4 < Date.now() - get_local_time(last_video_sync[1]) && start_syncing()
    }, 1E4 + 5E3 * Math.random())
}

function handle_play(k, a) {
    video_paused = !1;
    last_video_sync = [k, a];
    var c = Date.now() - get_local_time(a);
    video_media.setCurrentTime(k);
    0 >= c ? video_player.play() : setTimeout(function() {
        video_player.play()
    }, c);
    video_player.play();
    stop_syncing();
    play_video_controls()
}

function handle_pause(k, a) {
    video_paused = !0;
    clearInterval(sync_event);
    im_syncing = !1;
    video_media.setCurrentTime(k);
    video_player.pause();
    pause_video_controls()
}

function sync_video(k, a) {
    var c = Date.now() - get_local_time(a),
        c = k + c * base_playback_rate / 1E3,
        c = video_progress() - c;
    console.log("lag: ", c);
    .1 < Math.abs(c) / base_playback_rate ? hard_sync_video(k, a) : "youtube" != video_media.pluginType && set_playback_rate(base_playback_rate, base_playback_rate + c / VIDEO_SYNC_DELAY)
}

function video_progress() {
    return video_paused ? video_media.currentTime : progress + (Date.now() - progress_update) * playback_rate / 1E3
}

function enable_dragging() {
    if (!dragging_enabled) {
        var k = $("#disable_dragging > div");
        k.removeClass("icon-disable_dragging");
        k.addClass("icon-enable_dragging");
        $("#disable_dragging").attr("title", $("#disable_dragging").attr("data-disable"));
        dragging_enabled = !0;
        for (var a in room_data.slides[active_slide].entities) k = room_data.slides[active_slide].entities[a], k.container && "background" != k.type && (k.container.interactive = !0, k.container.buttonMode = !0, k.container.draggable = !0, k.container.mousedown = on_drag_start,
            k.container.touchstart = on_drag_start)
    }
}

function disable_dragging() {
    if (dragging_enabled) {
        var k = $("#disable_dragging > div");
        k.removeClass("icon-enable_dragging");
        k.addClass("icon-disable_dragging");
        $("#disable_dragging").attr("title", $("#disable_dragging").attr("data-enable"));
        dragging_enabled = !1;
        for (var a in room_data.slides[active_slide].entities) k = room_data.slides[active_slide].entities[a], k.container && "background" != k.type && (k.container.interactive = !1, k.container.buttonMode = !1, k.container.draggable = !1, delete k.container.mousedown, delete k.container.touchstart)
    }
}
var sync_in_progress = !1,
    press_play_delay = 0;

function hard_sync_video(k, a) {
    if (!sync_in_progress) {
        sync_in_progress = !0;
        var c = Date.now() - get_local_time(a),
            c = k + c * base_playback_rate / 1E3,
            g = video_progress() - c;
        0 > g || 3 < g ? (video_media.setCurrentTime(c + 1), sync_in_progress = !1) : (video_progress(), video_player.pause(), setTimeout(function() {
            if (!video_paused) {
                video_player.play();
                var a = Date.now(),
                    c = function(g) {
                        press_play_delay = Date.now() - a;
                        video_media.removeEventListener("play", c)
                    };
                video_media.addEventListener("play", c)
            }
            sync_in_progress = !1
        }, Math.max(0, 1E3 * g / base_playback_rate -
            press_play_delay)))
    }
}

function handle_sync(k, a, c) {
    video_paused ? im_syncing = !1 : (c != my_user.id && stop_syncing(), last_video_sync = [k, a], sync_video(k, a))
}

function set_playback_rate(k, a) {
    base_playback_rate = k;
    playback_rate = a;
    var c = k.toFixed(2);
    $(".mejs-speed-button").find("button").html(c + "x");
    $(".mejs-speed-button").find(".mejs-speed-selected").removeClass("mejs-speed-selected");
    $(".mejs-speed-button").find('input[value="' + c + '"]').next().addClass("mejs-speed-selected");
    "youtube" == video_media.pluginType ? video_media.pluginApi.setPlaybackRate(a) : video_media.playbackRate = a
}

function create_hp_bar(k) {
    void 0 === k && (k = 1);
    var a = to_x_local_vect(.125 * k);
    k = to_y_local_vect(.015 * k);
    var c = document.createElement("canvas"),
        g = c.getContext("2d");
    c.width = a;
    c.height = k;
    g.fillStyle = "#FFFFFF";
    g.fillRect(0, 0, c.width, c.height);
    c = PIXI.Texture.fromCanvas(c);
    c = new PIXI.Sprite(c);
    c.tint = 65280;
    var g = document.createElement("canvas"),
        h = g.getContext("2d");
    g.width = a;
    g.height = k;
    h.strokeStyle = "#000000";
    h.lineWidth = 1;
    h.strokeRect(0, 0, g.width, g.height);
    var g = PIXI.Texture.fromCanvas(g),
        g = new PIXI.Sprite(g),
        h = document.createElement("canvas"),
        n = h.getContext("2d");
    h.width = a;
    h.height = k;
    n.fillStyle = "#FF0000";
    n.fillRect(0, 0, h.width, h.height);
    a = PIXI.Texture.fromCanvas(h);
    a = new PIXI.Sprite(a);
    k = new PIXI.Container;
    k.addChild(a);
    k.addChild(c);
    k.addChild(g);
    return k
}

function prev_slide() {
    var k = find_previous_slide(room_data.slides[active_slide].order);
    0 != k && (presentation_mode && can_edit() && socket.emit("change_slide", room, k), change_slide(k))
}

function next_slide() {
    var k = find_next_slide(room_data.slides[active_slide].order);
    0 != k && (presentation_mode && can_edit() && socket.emit("change_slide", room, k), change_slide(k))
}
var icons = {};

function wot_connect() {
    function k() {
        for (var a in icons) icons[a] && icons[a].container && background_sprite.removeChild(icons[a].container);
        icons = {};
        render_scene()
    }

    function a(a) {
        create_icon(a);
        a.container.x -= x_abs(.012);
        a.container.y -= y_abs(.012);
        var b = create_hp_bar();
        b.scale.x *= zoom_level;
        b.scale.y *= zoom_level;
        b.x -= b.width / 2;
        b.y -= a.container.height + b.height;
        a.container.addChild(b);
        var c = create_text_sprite(a.player.substring(0, 9), a.label_color, 8, "Arial", !1, !0, "bold"),
            d = c.width / c.height;
        c.height = x_abs(8 /
            530);
        c.width = c.height * d;
        c.x -= c.width / 2;
        c.y -= a.container.height + b.height + c.height;
        a.container.addChild(c);
        a.container.scale.x *= zoom_level;
        a.container.scale.y *= zoom_level
    }

    function c(b) {
        b.onclose = function(a) {
            setTimeout(function() {
                b = new WebSocket("ws://localhost:6412/");
                c(b)
            }, 1E4)
        };
        b.onerror = function(a) {
            b.close()
        };
        b.onopen = function(a) {
            k()
        };
        b.onmessage = function(b) {
            function c(a) {
                return [(parseFloat(a[0]) - h) / f, 1 - (parseFloat(a[2]) - g) / d]
            }
            var q = new window.FileReader;
            q.readAsText(b.data);
            q.onloadend = function() {
                if ("BATTLE_ENDED" ==
                    q.result) k();
                else {
                    var b = JSON.parse(q.result);
                    if ("tank" in b) {
                        var p, u;
                        b.team == e ? (p = 65280, u = "#AAFFAA") : (p = 16711680, u = "#FFAAAA");
                        p = {
                            uid: b.id.toString(),
                            type: "icon",
                            tank: b.type,
                            x: -1,
                            y: -1,
                            size: .02,
                            color: p,
                            alpha: 1,
                            label: b.tank.substring(0, 10),
                            label_font_size: 8,
                            label_color: u,
                            label_font: "Arial",
                            label_font_modifier: "bold",
                            label_pos: "pos_bottom",
                            label_background: !1,
                            label_shadow: !1,
                            maxHealth: b.maxHealth,
                            player: b.name
                        };
                        if (b.position) {
                            var v = c(b.position);
                            p.x = v[0];
                            p.y = v[1];
                            a(p)
                        }
                        icons[p.uid] = p
                    } else if ("map_dimesions" in
                        b) h = parseFloat(b.map_dimesions[0][0]), m = parseFloat(b.map_dimesions[1][0]), g = parseFloat(b.map_dimesions[0][1]), n = parseFloat(b.map_dimesions[1][1]), f = m - h, d = n - g;
                    else if ("player_team" in b) e = b.player_team;
                    else if ("map_id" in b) console.log("map id: ", b.map_id), b = b.map_id, (b = $("#map_select").find("[data-mapid='" + b + "']")) && try_select_map($("#map_select"), b.val(), !1, function() {
                        render_scene()
                    });
                    else if ("remove" in b) p = b.remove.toString(), background_sprite.removeChild(icons[p].container), icons[p] = void 0;
                    else {
                        var t =
                            new Set;
                        for (u in b) p = u.toString(), icons[p] && (t.add(p), 1 <= b[u].length ? (v = c(b[u][0]), icons[p].container ? (drag_entity(icons[p], v[0], v[1]), icons[p].container.alpha = 1) : (icons[p].x = v[0], icons[p].y = v[1], a(icons[p])), 2 == b[u].length && (v = b[u][1], icons[p].hp != v && (icons[p].hp = v, v = icons[p].container.children[1], v.children[1].width = b[u][1] / icons[p].maxHealth * v.children[0].width))) : icons[p] && icons[p].container && (icons[p].container.alpha = .5), 2 == b[u].length ? icons[p].container && 16776960 == icons[p].container.children[1].children[1].tint &&
                            (icons[p].container.children[1].children[1].tint = 65280) : icons[p].container && 65280 == icons[p].container.children[1].children[1].tint && (icons[p].container.children[1].children[1].tint = 16776960));
                        difference = Object.keys(icons).filter(function(a) {
                            return !t.has(a)
                        });
                        for (u in difference) icons[u] && icons[u].container && (icons[u].container.alpha = .5);
                        render_scene()
                    }
                }
            }
        }
    }
    var g, h, n, m, f, d, e = 1;
    websocket = new WebSocket("ws://localhost:6412/");
    c(websocket)
}

function make_slides_sortable() {
    $("#slide_table1 tbody").sortable({
        helper: function(k, a) {
            a.children().each(function() {
                $(this).width($(this).width())
            });
            return a
        },
        update: function(k, a) {
            if (can_edit()) {
                var c;
                a.item[0].previousElementSibling ? (c = room_data.slides[a.item[0].previousElementSibling.id].order, a.item[0].nextElementSibling ? (c += room_data.slides[a.item[0].nextElementSibling.id].order, c /= 2) : c += 4294967296) : c = room_data.slides[find_first_slide()].order - 4294967296;
                room_data.slides[a.item[0].id].order =
                    c;
                socket.emit("change_slide_order", room, a.item[0].id, c);
                update_slide_buttons()
            }
        }
    }).disableSelection()
}

function make_slides_unsortable() {
    $("#slide_table1 tbody").data("ui-sortable") && $("#slide_table1 tbody").sortable("disable")
}

function set_presentation_mode(k) {
    presentation_mode = k;
    k = $("#stop_present").find("div");
    1 == presentation_mode ? (k.removeClass("icon-stop_present"), k.addClass("icon-present"), $("#stop_present").attr("title", $("#stop_present").attr("data-disable"))) : (k.removeClass("icon-present"), k.addClass("icon-stop_present"), $("#stop_present").attr("title", $("#stop_present").attr("data-enable")))
}

function handle_pan_zoom() {
    var k = focus_point();
    room_data.slides[active_slide].pan_zoom = [zoom_level, k[0], k[1]];
    control_camera && socket.emit("pan_zoom", room, active_slide, zoom_level, k[0], k[1])
}

function select_icon(k) {
    $(".tank_select.selected").removeClass("selected");
    k.addClass("selected");
    selected_icon = k.attr("id");
    selected_icon_no_color = "true" == k.attr("data-no_color") ? !0 : !1;
    selected_icon_circle_radius = k.attr("data-circle") ? parseFloat(k.attr("data-circle")) : 0;
    icon_extra_scale = k.attr("data-scale") ? parseFloat(k.attr("data-scale")) : 1
}
$(document).ready(function() {
    function k() {
        video_ready && progress_timeline();
        update_pings();
        scene_dirty && (select_box_dirty && redraw_select_box(), renderer.render(objectContainer), scene_dirty = !1);
        requestAnimationFrame(k)
    }

    function a() {
        function a() {
            var a = $("#icon_list");
            a.empty();
            my_user && my_user.identity && $.ajax({
                url: upload_path + "/list_icons.php?user_id=" + my_user.identity,
                type: "GET",
                cache: !1,
                success: function(b) {
                    try {
                        var c = JSON.parse(b);
                        0 < c.length ? $("#no_uploaded_icons").hide() : $("#no_uploaded_icons").show();
                        for (var d in c) a.append('<div class="inline" style="padding:20px"><input id="' + c[d] + '" type="checkbox"> <img src="' + upload_path + "/icons/" + my_user.identity + "/thumbs/" + c[d] + '"></div>')
                    } catch (v) {
                        alert(b)
                    }
                }
            })
        }

        function c() {
            var a = $("#custom_icons_list");
            a.empty();
            my_user && my_user.identity && $.ajax({
                url: upload_path + "/list_icons.php?user_id=" + my_user.identity,
                type: "GET",
                cache: !1,
                success: function(b) {
                    try {
                        var c = JSON.parse(b),
                            d;
                        for (d in c) {
                            var e = 'data-no_color="true"';
                            "bw-" == c[d].substring(0, 3) && (e = "");
                            a.append('<button id="' +
                                upload_path + "/icons/" + my_user.identity + "/" + c[d] + '" data-scale=2 ' + e + ' class="tank_select" data-toggle="tooltip" title="' + c[d] + '"><img src="' + upload_path + "/icons/" + my_user.identity + "/thumbs/" + c[d] + '"></button>')
                        }
                    } catch (t) {
                        alert(b)
                    }
                }
            })
        }
        setup_assets();
        var d = document.querySelectorAll("input[type=range][list]");
        Array.prototype.slice.call(d).forEach(function(a) {
            if ("list" in a && "min" in a && "max" in a && "step" in a) {
                var b = document.createElement("datalist"),
                    c = parseFloat(a.getAttribute("min")),
                    d = parseFloat(a.getAttribute("step")),
                    e = parseFloat(a.getAttribute("max"));
                b.id = a.getAttribute("list");
                if (20 > Math.abs(e - c) / d) {
                    for (; c < e + d; c += d) b.innerHTML += "<option value=" + c.toFixed(2) + "></option>";
                    a.parentNode.insertBefore(b, a.nextSibling)
                }
            }
        });
        ping_texture = img_texture("circle.png");
        $("#modal_cancel").click(function(a) {
            $("#myModal").modal("hide")
        });
        $("#link_send").click(function(a) {
            a = $("#send_link").val();
            var b = a.indexOf("room="); - 1 == b ? alert("No room id found in link.") : (tactic_uid = a.slice(b + 5).split("&")[0], a = servers[hashstring(tactic_uid) %
                servers.length], b = active_slide, $("#this_slide_only").get(0).checked || (b = void 0), $.post("https://" + a + "/add_to_room", {
                target: tactic_uid,
                source: room,
                session_id: $("#sid").attr("data-sid"),
                host: parse_domain(location.hostname),
                stored: "false",
                slide: b
            }).done(function(a) {
                "Success" != a && alert(a)
            }));
            $("#myModal").modal("hide")
        });
        $('input[name="map_type_select"]').on("change", function() {
            if ("select_hd" == this.id) {
                $("#map_select_container").show();
                $("#wotbase_select_container").hide();
                $("#new_minimap_select_container").hide();
                try {
                    var a = $("#map_select").find("option[value$='" + last(background.path.split("/")) + "']").val();
                    try_select_map($("#map_select"), a, !0)
                } catch (x) {
                    $("#map_select").val("").selectpicker("render")
                }
            } else if ("select_wotbase" == this.id) {
                $("#map_select_container").hide();
                $("#wotbase_select_container").show();
                $("#new_minimap_select_container").hide();
                try {
                    a = $("#wotbase_select").find("option[value$='" + last(background.path.split("/")) + "']").val(), try_select_map($("#wotbase_select"), a, !0)
                } catch (x) {
                    $("#wotbase_select").val("").selectpicker("render")
                }
            } else if ("select_new_minimap" ==
                this.id) {
                $("#map_select_container").hide();
                $("#wotbase_select_container").hide();
                $("#new_minimap_select_container").show();
                try {
                    a = $("#new_minimap_select").find("option[value$='" + last(background.path.split("/")) + "']").val(), try_select_map($("#new_minimap_select"), a, !0)
                } catch (x) {
                    $("#new_minimap_select").val("").selectpicker("render")
                }
            }
        });
        $("#send_to_link").click(function(a) {
            socket.emit("save_room", room);
            $("#myModal").modal("show");
            $("#myModal").on("shown.bs.modal", function() {
                $("#send_link").focus()
            })
        });
        $("#custom_map").click(function(a) {
            $("#map_modal").modal("show");
            $("#map_modal").on("shown.bs.modal", function() {
                $("#send_link").focus()
            })
        });
        $("#upload_icon").click(function(b) {
            $("#upload_icon_modal").modal("show");
            a()
        });
        $("#upload_icon_browse").change(function(b) {
            b = $("#upload_icon_form");
            var d = new FormData(b[0]);
            $.ajax({
                url: b.attr("action"),
                data: d,
                type: "POST",
                contentType: !1,
                processData: !1,
                success: function(b) {
                    try {
                        "OK" == JSON.parse(b).status ? (a(), c()) : alert(b)
                    } catch (w) {
                        alert(b)
                    }
                }
            })
        });
        $("#icon_modal_select_all").click(function() {
            $("#icon_list :checkbox").each(function() {
                $(this).prop("checked",
                    !0)
            })
        });
        $("#icon_modal_deselect_all").click(function() {
            $("#icon_list :checkbox").each(function() {
                $(this).prop("checked", !1)
            })
        });
        $("a[href='#custom_tab']").on("show.bs.tab", function(a) {
            c()
        });
        $("#icon_modal_remove_selected").click(function() {
            var b = [];
            $("#icon_list :checkbox").each(function() {
                $(this).prop("checked") && b.push($(this).attr("id"))
            });
            0 < b.length && $.ajax({
                url: upload_path + "/remove_icons.php?user_id=" + my_user.identity,
                data: {
                    to_remove: b
                },
                type: "POST",
                success: function(b) {
                    try {
                        "OK" == JSON.parse(b).status ?
                            (a(), c()) : alert(b)
                    } catch (y) {
                        alert(b)
                    }
                }
            })
        });
        $("#select_icon_files").click(function(a) {
            $("#upload_icon_browse").click()
        });
        $("#upload_background_browse").change(function(a) {
            a = $("#upload_map_form");
            var b = new FormData(a[0]);
            $.ajax({
                url: a.attr("action"),
                data: b,
                type: "POST",
                contentType: !1,
                processData: !1,
                success: function(a) {
                    try {
                        a = JSON.parse(a), try_select_map($("#map_select"), a.path, !0)
                    } catch (w) {
                        alert(a)
                    }
                }
            })
        });
        $("#upload_map").click(function(a) {
            $("#upload_background_browse").click()
        });
        $("#map_modal_cancel").click(function(a) {
            $("#map_modal").modal("hide")
        });
        $("#set_map").click(function(a) {
            (a = $("#map_url").val().trim()) && "" != a && try_select_map($("#map_select"), a, !0);
            $("#map_modal").modal("hide")
        });
        $("#contexts ~ div").each(function() {
            $(this).hide()
        });
        $("#ping_context").show();
        $("#store_tactic_popover").hide();
        $("#save").hide();
        $("#ping").addClass("active");
        $("#" + label_position).addClass("active");
        d = $("#icon_context").find("button:first");
        select_icon(d);
        slide_name = $("#slide_interactive").attr("slide_name");
        $(".nav-pills > li > a").click(function() {
            $(".nav-pills > li.active").removeClass("active");
            $(this).parent().addClass("active")
        });
        initialize_color_picker("curve_colorpicker", "curve_color");
        initialize_color_picker("icon_colorpicker", "icon_color");
        initialize_color_picker("draw_colorpicker", "draw_color");
        initialize_color_picker("ping_colorpicker", "ping_color");
        initialize_color_picker("track_colorpicker", "track_color");
        initialize_color_picker("line_colorpicker", "line_color");
        initialize_color_picker("text_colorpicker", "text_color");
        initialize_color_picker("background_text_colorpicker", "background_text_color");
        initialize_color_picker("rectangle_outline_colorpicker", "rectangle_outline_color");
        initialize_color_picker("rectangle_fill_colorpicker", "rectangle_fill_color");
        initialize_color_picker("circle_outline_colorpicker", "circle_outline_color");
        initialize_color_picker("circle_fill_colorpicker", "circle_fill_color");
        initialize_color_picker("polygon_outline_colorpicker", "polygon_outline_color");
        initialize_color_picker("polygon_fill_colorpicker", "polygon_fill_color");
        initialize_color_picker("area_outline_colorpicker",
            "area_outline_color");
        initialize_color_picker("area_fill_colorpicker", "area_fill_color");
        initialize_slider("rectangle_outline_thickness", "rectangle_outline_thickness_text", "rectangle_outline_thickness");
        rectangle_outline_thickness = parseFloat($("#rectangle_outline_thickness").val());
        initialize_slider("rectangle_outline_transparancy", "rectangle_outline_transparancy_text", "rectangle_outline_transparancy");
        initialize_slider("rectangle_fill_transparancy", "rectangle_fill_transparancy_text", "rectangle_fill_transparancy");
        initialize_slider("circle_outline_thickness", "circle_outline_thickness_text", "circle_outline_thickness");
        initialize_slider("circle_outline_transparancy", "circle_outline_transparancy_text", "circle_outline_transparancy");
        initialize_slider("circle_fill_transparancy", "circle_fill_transparancy_text", "circle_fill_transparancy");
        initialize_slider("polygon_outline_thickness", "polygon_outline_thickness_text", "polygon_outline_thickness");
        initialize_slider("polygon_outline_transparancy", "polygon_outline_transparancy_text",
            "polygon_outline_transparancy");
        initialize_slider("polygon_fill_transparancy", "polygon_fill_transparancy_text", "polygon_fill_transparancy");
        initialize_slider("area_outline_thickness", "area_outline_thickness_text", "area_outline_thickness");
        initialize_slider("area_outline_transparancy", "area_outline_transparancy_text", "area_outline_transparancy");
        initialize_slider("area_fill_transparancy", "area_fill_transparancy_text", "area_fill_transparancy");
        initialize_slider("line_thickness", "line_thickness_text",
            "line_thickness");
        initialize_slider("draw_thickness", "draw_thickness_text", "draw_thickness");
        initialize_slider("curve_thickness", "curve_thickness_text", "curve_thickness");
        initialize_slider("font_size", "font_size_text", "font_size");
        initialize_slider("background_font_size", "background_font_size_text", "background_font_size");
        initialize_slider("label_font_size", "label_font_size_text", "label_font_size");
        initialize_slider("icon_size", "icon_size_text", "icon_size");
        initialize_slider("ping_size", "ping_size_text",
            "ping_size");
        initialize_slider("track_size", "track_size_text", "track_size");
        initialize_slider("draw_end_size", "draw_end_size_text", "draw_end_size");
        initialize_slider("line_end_size", "line_end_size_text", "line_end_size");
        initialize_slider("curve_end_size", "curve_end_size_text", "curve_end_size");
        $("#delay") && initialize_slider("delay", "delay_text", "delay");
        $("#change_map_size_popover").popover({
            container: "body",
            trigger: "manual",
            html: "true",
            template: '<div class="popover popover-medium" style="width: 300px;"><div class="arrow"></div><div class="popover-inner"><h3 class="popover-title"></h3><div class="popover-content"></div></div></div>',
            content: function() {
                return $("#popover-content")
            }
        }).click(function(a) {
            $(this).popover("toggle");
            var b = $(this);
            $(this);
            $(document).on("click", "#save_map_size", function(a) {
                $(document).find("#map_size_y");
                $(document).find("#map_size_y");
                var c, d;
                for (d in room_data.slides[active_slide].entities) "background" == room_data.slides[active_slide].entities[d].type && (c = room_data.slides[active_slide].entities[d]);
                c.size_x = $(document).find("#map_size_y")[0].value;
                c.size_y = $(document).find("#map_size_y")[0].value;
                console.log();
                $("#map_size").text("(" + c.size_x + " x " + c.size_y + ")");
                emit_entity(c);
                b.popover("hide");
                a.stopPropagation()
            });
            a.stopPropagation()
        });
        $("#store_tactic_popover").popover({
            container: "body",
            trigger: "manual",
            html: "true",
            template: '<div class="popover popover-medium" style="width: 300px;"><div class="arrow"></div><div class="popover-inner"><h3 class="popover-title"></h3><div class="popover-content"></div></div></div>',
            content: function() {
                return $("#popover-content")
            }
        }).click(function(a) {
            $(this).popover("toggle");
            var b = $(this);
            document.getElementById("tactic_name").setAttribute("value", tactic_name);
            $(this);
            $(document).on("click", "#store_tactic", function(a) {
                var c = $(document).find("#tactic_name")[0].value,
                    c = escapeHtml(c);
                "" == c ? alert("Empty name, tactic not stored") : (tactic_name = c, document.title = "Tactic - " + tactic_name, socket.emit("store", room, tactic_name), $("#save").show(), alert('Tactic stored as: "' + tactic_name + '"'), a.stopPropagation());
                b.popover("hide");
                a.stopPropagation()
            });
            a.stopPropagation()
        });
        $("#slide_table").on("click",
            "tr",
            function() {
                if (can_edit() || !presentation_mode) {
                    var a = $(this).attr("id");
                    active_slide != a && (presentation_mode && can_edit() && socket.emit("change_slide", room, a), change_slide(a))
                }
            });
        $("#prev_slide").click(function() {
            prev_slide()
        });
        $("#next_slide").click(function() {
            next_slide()
        });
        $("#new_slide").click(function() {
            var a = create_new_slide(active_slide);
            socket.emit("new_slide", room, a);
            add_slide(a);
            change_slide(a.uid)
        });
        $("#remove_slide").click(function() {
            can_edit() && 1 < Object.keys(room_data.slides).length &&
                (socket.emit("remove_slide", room, active_slide), remove_slide(active_slide))
        });
        $("#save").click(function() {
            tactic_name && "" != tactic_name && (socket.emit("store", room, tactic_name), alert('Tactic stored as: "' + tactic_name + '"'))
        });
        $("#slide_name_field").focusout(function() {
            rename_slide(active_slide, $(this).val());
            socket.emit("rename_slide", room, active_slide, $(this).val())
        });
        $("#slide_name_field").keyup(function(a) {
            13 == a.keyCode && (rename_slide(active_slide, $(this).val()), socket.emit("rename_slide", room, active_slide,
                $(this).val()))
        });
        $("#link").click(function() {
            var a = document.queryCommandSupported("copy"),
                b = "https://" + location.host + location.pathname + "?room=" + room;
            if (a) {
                a = document.createElement("textarea");
                a.value = b;
                document.body.appendChild(a);
                a.select();
                document.execCommand("copy");
                document.body.removeChild(a);
                $("#link").tooltip();
                var c = $("#link").attr("title");
                $("#link").attr("title", $("#link").data("success"));
                $("#link").tooltip("open");
                setTimeout(function() {
                        $("#link").attr("title", c);
                        $("#link").tooltip("destroy")
                    },
                    1E3)
            } else window.prompt("Copy to clipboard and share with friends:", b)
        });
        $("#chat_input").keyup(function(a) {
            13 == a.keyCode && (a = my_user.name + ": " + $("#chat_input").val() + "\n", socket.emit("chat", room, a, chat_color), chat(a, chat_color), $("#chat_input").val(""))
        });
        $("#export").click(function() {
            var a = new PIXI.CanvasRenderer(2 * background_sprite.width, 2 * background_sprite.height, {
                    backgroundColor: 12303291
                }),
                b = background_sprite.x,
                c = background_sprite.y,
                d = background_sprite.scale.x,
                e = background_sprite.scale.y;
            background_sprite.x =
                0;
            background_sprite.y = 0;
            background_sprite.scale.x *= 2;
            background_sprite.scale.y *= 2;
            a.render(background_sprite);
            background_sprite.x = b;
            background_sprite.y = c;
            background_sprite.scale.x = d;
            background_sprite.scale.y = e;
            $.getScript("https://cdnjs.cloudflare.com/ajax/libs/FileSaver.js/2014-11-29/FileSaver.min.js", function() {
                $.getScript("https://cdnjs.cloudflare.com/ajax/libs/javascript-canvas-to-blob/3.7.0/js/canvas-to-blob.min.js", function() {
                    a.view.toBlob(function(a) {
                        tactic_name && "" != tactic_name ? saveAs(a, tactic_name +
                            ".jpg") : saveAs(a, "map.jpg", 1)
                    }, "image/jpeg", 1)
                })
            })
        });
        $("#export_view").click(function() {
            var a = new PIXI.CanvasRenderer(renderer.width, renderer.height, {
                backgroundColor: 12303291
            });
            a.render(objectContainer);
            $.getScript("https://cdnjs.cloudflare.com/ajax/libs/FileSaver.js/2014-11-29/FileSaver.min.js", function() {
                $.getScript("https://cdnjs.cloudflare.com/ajax/libs/javascript-canvas-to-blob/3.7.0/js/canvas-to-blob.min.js", function() {
                    a.view.toBlob(function(a) {
                        tactic_name && "" != tactic_name ? saveAs(a, tactic_name +
                            ".jpg") : saveAs(a, "map.jpg", 1)
                    }, "image/jpeg", 1)
                })
            })
        });
        $("#backup").click(function() {
            $.getScript("https://cdnjs.cloudflare.com/ajax/libs/jszip/2.5.0/jszip.min.js", function() {
                var a = active_slide,
                    b = new JSZip,
                    c = new PIXI.CanvasRenderer(background_sprite.width, background_sprite.height, {
                        backgroundColor: 12303291
                    }),
                    d = find_first_slide(),
                    e = 1,
                    f = function(d) {
                        change_slide(d);
                        var g = setInterval(function() {
                            if (0 == resources_loading) {
                                var h = background_sprite.x,
                                    k = background_sprite.y;
                                background_sprite.x = 0;
                                background_sprite.y =
                                    0;
                                c.render(background_sprite);
                                background_sprite.x = h;
                                background_sprite.y = k;
                                h = c.view.toDataURL("image/jpeg", .9);
                                h = h.replace("data:image/jpeg;base64,", "");
                                b.file(e.toString() + "-" + room_data.slides[d].name + ".jpg", h, {
                                    base64: !0
                                });
                                e++;
                                next_slide_uid = find_next_slide(room_data.slides[d].order);
                                if (0 != next_slide_uid) clearInterval(g), f(next_slide_uid);
                                else {
                                    clearInterval(g);
                                    c.destroy();
                                    var h = {},
                                        m;
                                    for (m in room_data.slides[active_slide].entities) room_data.slides[active_slide].entities.hasOwnProperty(m) && room_data.slides[active_slide].entities[m].container &&
                                        (h[m] = room_data.slides[active_slide].entities[m].container, delete room_data.slides[active_slide].entities[m].container);
                                    b.file("tactic.json", JSON.stringify(room_data, null, 2));
                                    for (m in room_data.slides[active_slide].entities) room_data.slides[active_slide].entities.hasOwnProperty(m) && h[m] && (room_data.slides[active_slide].entities[m].container = h[m]);
                                    $.getScript("https://cdnjs.cloudflare.com/ajax/libs/FileSaver.js/2014-11-29/FileSaver.min.js", function() {
                                        var a = b.generate({
                                            type: "blob"
                                        });
                                        tactic_name && "" !=
                                            tactic_name ? saveAs(a, tactic_name + ".zip") : saveAs(a, "backup.zip")
                                    });
                                    change_slide(a);
                                    render_scene()
                                }
                            }
                        }, 50)
                    };
                f(d)
            })
        });
        $(".icon_group").each(function() {
            var a = this.id;
            $("#" + a).click(function() {
                var b = $("#" + a + "_list").text().split("\n"),
                    b = b.map(function(a) {
                        return encodeURIComponent(a.trim())
                    }),
                    b = b.filter(function(a) {
                        return "" == a ? !1 : !0
                    }),
                    c = $("#" + a + "_list").attr("data-path"),
                    d = parseFloat($("#" + a + "_list").attr("data-scale")),
                    e = parseFloat($("#" + a + "_list").attr("data-height")),
                    f = $("#" + a + "_list").attr("data-no_color"),
                    g = $("#" + a + "_list").attr("data-style");
                if (!$.trim($("#" + a + "_menu").html()))
                    if (g)
                        for (var h in b) $("#" + a + "_menu").append('<button data-toggle="tooltip" title="' + b[h] + '" class="tank_select" data-scale="' + d + '" data-no_color="' + f + '" id="' + c + "/" + b[h] + '"><div class="' + c + " " + c + "-" + b[h].slice(0, -4) + ' inline"></div></button>');
                    else
                        for (h in b) $("#" + a + "_menu").append("<img height=" + e + ' class="tank_select" data-scale="' + d + '" data-no_color="' + f + '" id="' + c + "/" + b[h] + '" data-toggle="tooltip" title="' + b[h] + '" src=' +
                            image_host + c + "/" + b[h] + "></img>")
            })
        });
        $("[id^=icon][id$=context]").each(function() {
            $(this).find("a:first").trigger("click")
        });
        $("#lock").click(function() {
            is_room_locked = $(this).find("div").hasClass("icon-lock") ? !1 : !0;
            update_lock();
            socket.emit("lock_room", room, is_room_locked)
        });
        $("#stop_present").click(function() {
            set_presentation_mode(!presentation_mode);
            socket.emit("presentation_mode", room, presentation_mode, active_slide);
            handle_pan_zoom()
        });
        $("#lock_camera").click(function() {
            var a = $(this).find("div");
            a.hasClass("icon-unlock_camera") ? (a.removeClass("icon-unlock_camera").addClass("icon-lock_camera"), $("#lock_camera").attr("title", $("#lock_camera").attr("data-enable")), control_camera = !0, handle_pan_zoom()) : (a.removeClass("icon-lock_camera").addClass("icon-unlock_camera"), $("#lock_camera").attr("title", $("#lock_camera").attr("data-disable")), control_camera = !1)
        });
        $("#disable_dragging").click(function() {
            $("#disable_dragging > div").hasClass("icon-enable_dragging") ? (dragging_mode[active_context] = "disabled",
                disable_dragging()) : (dragging_mode[active_context] = "enabled", enable_dragging())
        });
        $("#grid").click(function() {
            grid_layer.visible = !grid_layer.visible;
            room_data.slides[active_slide].show_grid = grid_layer.visible;
            can_edit() && socket.emit("show_grid", room, active_slide, grid_layer.visible);
            render_scene()
        });
        $("#zoom_in").click(function() {
            zoom(.1, !0, [.5, .5]);
            $("#zoom_level").text((1 / zoom_level).toFixed(2));
            handle_pan_zoom()
        });
        $("#zoom_out").click(function() {
            zoom(1 - 1 / 1.1, !1, [.5, .5]);
            $("#zoom_level").text((1 /
                zoom_level).toFixed(2));
            handle_pan_zoom()
        });
        $("#contexts").on("click", "button", function(a) {
            stop_drawing();
            setup_mouse_events(void 0, void 0);
            new_drawing = null;
            graphics && background_sprite.removeChild(graphics);
            new_drawing && (new_drawing = void 0);
            current_text_element = void 0;
            if ("undo" == $(this).attr("id")) undo();
            else if ("redo" == $(this).attr("id")) redo();
            else if ("cut" == $(this).attr("id")) cut();
            else if ("copy" == $(this).attr("id")) copy();
            else if ("paste" == $(this).attr("id")) paste();
            else if ("clear_all_main" == $(this).attr("id")) clear();
            else {
                shifted && objectContainer.mouseup && (shifted = !1, objectContainer.mouseup(renderer.plugins.interaction.eventData), shifted = !0);
                $("#contexts").find("button").removeClass("active");
                $(this).addClass("active");
                a = $(this).attr("id") + "_context";
                var b = $(this).attr("id") + "_context";
                "sc2" != game && "R6" != game || "icon" != b.substring(0, 4) || $("#icon_options").detach().appendTo($("#" + b));
                $(this).attr("data-context") && (a = $(this).attr("data-context") + "_context");
                my_tracker && stop_tracking();
                "track_context" == a && start_tracking({
                    x: 2E3,
                    y: 2E3
                });
                if (active_menu != b)
                    if ("remove_context" != a && (deselect_all(), render_scene()), $("#" + active_menu).hide(), $("#" + b).show(), active_menu = b, active_context = a, dragging_mode[active_context]) "enabled" == dragging_mode[active_context] ? enable_dragging() : disable_dragging();
                    else switch (active_context) {
                        case "ping_context":
                        case "track_context":
                        case "icon_context":
                        case "note_context":
                        case "text_context":
                        case "remove_context":
                        case "eraser_context":
                        case "background_text_context":
                        case "select_context":
                            enable_dragging();
                            break;
                        case "draw_context":
                        case "ruler_context":
                        case "rectangle_context":
                        case "circle_context":
                        case "line_context":
                        case "curve_context":
                        case "polygon_context":
                            disable_dragging()
                    }
            }
        });
        $("#label_pos").on("click", "button", function(a) {
            $("#label_pos").find("button").removeClass("active");
            $(this).addClass("active");
            label_position = this.id
        });
        $('#rectangle_type button[data-style="full"]').addClass("active");
        $("#rectangle_type").on("click", "button", function(a) {
            $(this).addClass("active");
            $(this).siblings().removeClass("active")
        });
        $('#circle_type button[data-style="full"]').addClass("active");
        $("#circle_type").on("click", "button", function(a) {
            $(this).addClass("active");
            $(this).siblings().removeClass("active")
        });
        $('#circle_draw_style button[data-draw_style="edge"]').addClass("active");
        $("#circle_draw_style").on("click", "button", function(a) {
            $(this).addClass("active");
            $(this).siblings().removeClass("active")
        });
        $('#polygon_type button[data-style="full"]').addClass("active");
        $("#polygon_type").on("click", "button", function(a) {
            $(this).addClass("active");
            $(this).siblings().removeClass("active")
        });
        $('#area_type button[data-style="full"]').addClass("active");
        $("#area_type").on("click", "button", function(a) {
            $(this).addClass("active");
            $(this).siblings().removeClass("active")
        });
        $('#line_type button[data-style="full"]').addClass("active");
        $("#line_type").on("click", "button", function(a) {
            $(this).addClass("active");
            $(this).siblings().removeClass("active")
        });
        $('#line_end_type button[data-end="arrow"]').addClass("active");
        $("#line_end_type").on("click", "button",
            function(a) {
                $(this).addClass("active");
                $(this).siblings().removeClass("active")
            });
        $('#curve_type button[data-style="full"]').addClass("active");
        $("#curve_type").on("click", "button", function(a) {
            $(this).addClass("active");
            $(this).siblings().removeClass("active")
        });
        $('#curve_end_type button[data-end="arrow"]').addClass("active");
        $("#curve_end_type").on("click", "button", function(a) {
            $(this).addClass("active");
            $(this).siblings().removeClass("active")
        });
        $('#track_shape button[data-cursor="cursor"]').addClass("active");
        $("#track_shape").on("click", "button", function(a) {
            $(this).addClass("active");
            $(this).siblings().removeClass("active");
            my_tracker && stop_tracking();
            start_tracking({
                x: 2E3,
                y: 2E3
            })
        });
        $('#draw_type button[data-style="full"]').addClass("active");
        $("#draw_type").on("click", "button", function(a) {
            $(this).addClass("active");
            $(this).siblings().removeClass("active")
        });
        $('#draw_end_type button[data-end="arrow"]').addClass("active");
        $("#draw_end_type").on("click", "button", function(a) {
            $(this).addClass("active");
            $(this).siblings().removeClass("active")
        });
        $("#userlist").on("click", "button", function() {
            var a = $(this).attr("id");
            if (a != my_user.id && "owner" == my_user.role) return userlist[a].role ? "driver" == userlist[a].role ? (userlist[a].role = "owner", $(this).css("background-color", "lime")) : "owner" == userlist[a].role && (delete userlist[a].role, $(this).css("background-color", "")) : (userlist[a].role = "driver", $(this).css("background-color", "yellow")), socket.emit("update_user", room, userlist[a]), !1
        });
        $("#clear_all").click(function() {
            clear()
        });
        $("#clear_draw").click(function() {
            clear("drawing")
        });
        $("#clear_icons").click(function() {
            clear("icon")
        });
        $("#clear_lines").click(function() {
            clear("line")
        });
        $("#clear_text").click(function() {
            clear("text")
        });
        $("#clear_curve").click(function() {
            clear("curve")
        });
        $("#clear_rectangle").click(function() {
            clear("rectangle")
        });
        $("#clear_circle").click(function() {
            clear("circle")
        });
        $("#clear_polygon").click(function() {
            clear("polygon")
        });
        $("#clear_area").click(function() {
            clear("area")
        });
        $("#clear_selected").click(function() {
            clear_selected()
        });
        $("#clear_note").click(function() {
            clear("note")
        });
        $("#nuke_room").click(function() {
            1 == confirm("Warning: all unsaved data will be lost") && socket.emit("nuke_room", room, game)
        });
        $("body").on("click", ".tank_select", function() {
            select_icon($(this))
        });
        assets_loaded = !0;
        socket.on("connect", function() {
            console.log("Connecting/Reconnecting");
            socket.emit("join_room", room, game)
        });
        socket.connected && socket.emit("join_room", room, game);
        console.assert(5 == y_abs(y_rel(5)));
        console.assert(5 == x_abs(x_rel(5)));
        console.assert(5 == y_rel(y_abs(5)));
        console.assert(5 == x_rel(x_abs(5)));
        console.assert(5 == to_x_local(from_x_local(5)));
        console.assert(5 == to_y_local(from_y_local(5)))
    }
    supports_color_input() || ($("head").append('<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/spectrum/1.8.0/spectrum.min.css">'), $("head").append('<script defer src="https://cdnjs.cloudflare.com/ajax/libs/spectrum/1.8.0/spectrum.min.js">\x3c/script>'));
    dpi = document.getElementById("dpitest").offsetHeight;
    initialize_map_select($("#map_select"));
    initialize_map_select($("#wotbase_select"));
    initialize_map_select($("#new_minimap_select"));
    size_x = window.innerWidth;
    size_y = window.innerHeight; - 1 != navigator.userAgent.indexOf("Overwolf") && (nowebgl = !0);
    renderer = nowebgl ? new PIXI.CanvasRenderer(size_x, size_y, {
        transparent: !0
    }) : PIXI.autoDetectRenderer(size_x, size_y, {
        transparent: !0
    });
    renderer.autoResize = !0;
    useWebGL = renderer instanceof PIXI.WebGLRenderer;
    $(renderer.view).attr("style", "position:absolute; z-index: 2; padding:0; margin:0; border:0;");
    $(".edit_window").append(renderer.view);
    renderer.view.addEventListener("wheel",
        function(a) {
            var b = mouse_loc(),
                c = 0 > a.deltaY;
            zoom(c ? .1 : 1 - 1 / 1.1, c, [from_x_local(b.x), from_y_local(b.y)], a);
            setTimeout(function() {
                $("#zoom_level").text((1 / zoom_level).toFixed(2))
            }, 100);
            handle_pan_zoom();
            a.preventDefault()
        });
    background_container = new PIXI.Container;
    background_sprite = new PIXI.Sprite;
    objectContainer = new PIXI.Container;
    grid_layer = "aw" == game ? new PIXI.Sprite.fromImage(image_host + "aw_grid.png") : "squad" == game ? new PIXI.Sprite.fromImage(image_host + "squad_grid.png") : "MWO" == game ? new PIXI.Sprite.fromImage(image_host +
        "grid_MWO10.png") : new PIXI.Sprite.fromImage(image_host + "grid.png");
    grid_layer.height = renderer.height;
    grid_layer.width = renderer.width;
    objectContainer.addChild(background_sprite);
    background_sprite.addChild(grid_layer);
    objectContainer.hitArea = new PIXI.Rectangle(0, 0, 1E5, 1E5);
    objectContainer.interactive = !0;
    objectContainer.mousedown = on_left_click;
    objectContainer.touchstart = on_left_click;
    $(renderer.view).mousedown(function(a) {
        if (3 === a.which || 2 === a.which) objectContainer.mouseup && stop_drawing(), last_pan_loc = [mouse_loc().x, mouse_loc().y], setup_mouse_events(on_pan), a.preventDefault()
    });
    renderer.view.addEventListener("contextmenu", function(a) {
        $("#zoom_level").text((1 / zoom_level).toFixed(2));
        handle_pan_zoom();
        a.preventDefault()
    });
    $(renderer.view).mouseup(function(a) {
        if (3 === a.which || 2 === a.which) $("#zoom_level").text((1 / zoom_level).toFixed(2)), setup_mouse_events(void 0), handle_pan_zoom(), a.preventDefault()
    });
    var c = [],
        g = 0,
        h = !1,
        n, m = !1,
        f, d = function(a) {
            $("#zoom_level").text((1 / zoom_level).toFixed(2));
            h && (handle_pan_zoom(),
                h = !1);
            for (var b = a.changedTouches, d = 0; d < b.length; d++) {
                var e = b[d],
                    e = c.map(function(a) {
                        return a.id
                    }).indexOf(e.identifier);
                c.splice(e, 1)
            }
            2 == c.length ? (a.preventDefault(), objectContainer.interactive = !1, g = Math.sqrt(Math.pow(c[0].pos[0] - c[1].pos[0], 2) + Math.pow(c[0].pos[1] - c[1].pos[1], 2)), n = [c[0].pos[0] + (c[1].pos[0] - c[0].pos[0]) / 2, c[0].pos[1] + (c[1].pos[1] - c[0].pos[1]) / 2], m = !1, f = null) : objectContainer.interactive = !0
        },
        e = {};
    renderer.view.addEventListener("touchstart", function(a) {
        for (var b = a.changedTouches, d =
                0; d < b.length; d++) {
            var e = b[d],
                h = [from_x_local(e.pageX), from_y_local(e.pageY)];
            c.push({
                id: e.identifier,
                pos: h
            })
        }
        2 == c.length ? (a.preventDefault(), objectContainer.interactive = !1, g = Math.sqrt(Math.pow(c[0].pos[0] - c[1].pos[0], 2) + Math.pow(c[0].pos[1] - c[1].pos[1], 2)), n = [c[0].pos[0] + (c[1].pos[0] - c[0].pos[0]) / 2, c[0].pos[1] + (c[1].pos[1] - c[0].pos[1]) / 2], m = !1, f = null) : objectContainer.interactive = !0
    });
    renderer.view.addEventListener("touchend", d);
    renderer.view.addEventListener("touchendoutside", d);
    renderer.view.addEventListener("touchcancel",
        d);
    renderer.view.addEventListener("touchmove", function(a) {
        once_per_frame(e, function() {
            for (var b = a.changedTouches, d = 0; d < b.length; d++) {
                var e = b[d],
                    k = [from_x_local(e.pageX), from_y_local(e.pageY)],
                    y;
                for (y in c) c[y].id == e.identifier && (c[y].pos = k)
            }
            2 == c.length ? (a.preventDefault(), objectContainer.interactive = !1, b = Math.sqrt(Math.pow(c[1].pos[0] - c[0].pos[0], 2) + Math.pow(c[1].pos[1] - c[0].pos[1], 2)), d = to_y_local_vect(b) / dpi, e = [c[0].pos[0] + (c[1].pos[0] - c[0].pos[0]) / 2, c[0].pos[1] + (c[1].pos[1] - c[0].pos[1]) / 2], m ||
                1.5 < d ? (d = .9 * (b / g - 1), f = d = f ? .8 * f + .2 * d : d, zoom(Math.abs(d), 0 < d, n), m = h = !0) : (h = !0, d = [to_x_local(e[0]) - to_x_local(n[0]), to_y_local(e[1]) - to_y_local(n[1])], objectContainer.x += d[0], objectContainer.y += d[1], correct()), g = b) : objectContainer.interactive = !0
        })
    });
    draw_canvas = document.createElement("canvas");
    $(draw_canvas).attr("style", "padding:0px; margin:0px; border:0; position:absolute; z-index:3; pointer-events:none;");
    draw_canvas.width = renderer.view.width;
    draw_canvas.height = renderer.view.height;
    draw_context = draw_canvas.getContext("2d");
    $(draw_canvas).css("width", "" + renderer.view.width + "px");
    $(draw_canvas).css("height", "" + renderer.view.width + "px");
    temp_draw_canvas = document.createElement("canvas");
    $(temp_draw_canvas).attr("style", "padding:0px; margin:0px; border:0; position:absolute; z-index:4; pointer-events:none");
    temp_draw_canvas.width = renderer.view.width;
    temp_draw_canvas.height = renderer.view.height;
    temp_draw_context = temp_draw_canvas.getContext("2d");
    $(temp_draw_canvas).css("width", "" + renderer.view.width + "px");
    $(temp_draw_canvas).css("height",
        "" + renderer.view.width + "px");
    $(renderer.view).parent().append(temp_draw_canvas);
    $(renderer.view).parent().append(draw_canvas);
    $(temp_draw_canvas).hide();
    $(draw_canvas).hide();
    k();
    if (textures_loaded) a();
    else loader.on("complete", a);
    socket.on("room_data", function(a, c, d, e) {
        console.log("receiving room data");
        cleanup();
        room_data = a;
        video_paused = a.video_paused;
        active_slide = room_data.active_slide;
        room_data.slides[active_slide] || (active_slide = Object.keys(room_data.slides)[0]);
        is_room_locked = room_data.locked;
        room_data.hasOwnProperty("presentation_mode") && set_presentation_mode(room_data.presentation_mode);
        my_user_id = c;
        (tactic_name = d) && "" != tactic_name && (document.title = "Tactic - " + tactic_name);
        for (var b in room_data.userlist) add_user(room_data.userlist[b]);
        var f = [],
            g, h;
        for (h in room_data.slides[active_slide].entities) "background" == room_data.slides[active_slide].entities[h].type ? g = room_data.slides[active_slide].entities[h] : f.push(room_data.slides[active_slide].entities[h]);
        try {
            f.sort(function(a, b) {
                return a.z_index -
                    b.z_index
            })
        } catch (z) {}
        var k = function() {
            if (room_data.slides[active_slide].pan_zoom) {
                var a = room_data.slides[active_slide].pan_zoom;
                pan_zoom(a[0], a[1], a[2])
            } else pan_zoom(1, .5, .5);
            wot_live && wot_connect()
        };
        g ? set_background(g, function() {
            if (background.is_video) rebuild_timeline(), room_data.playback_rate && set_playback_rate(room_data.playback_rate, room_data.playback_rate);
            else
                for (var a in f) create_entity(f[a]);
            k()
        }) : k();
        for (h in room_data.trackers) create_tracker(room_data.trackers[h]);
        delete room_data.trackers;
        update_slide_buttons();
        update_my_user();
        my_tracker && (stop_tracking(), start_tracking({
            x: 2E3,
            y: 2E3
        }));
        is_video_replay && (sync_start_time = Date.now(), socket.emit("sync_clock"), clearInterval(clock_sync_event), clock_sync_event = setInterval(function() {
            sync_start_time = Date.now();
            socket.emit("sync_clock")
        }, 2E4));
        render_scene()
    });
    socket.on("create_entity", function(a, c, d) {
        c != active_slide ? room_data.slides[c].entities[a.uid] = a : create_entity(a);
        activity_animation(d)
    });
    socket.on("drag", function(a, c, d, e, f, g, h) {
        c !=
            active_slide ? room_data.slides[c].entities[a] && (room_data.slides[c].entities[a].x = d, room_data.slides[c].entities[a].y = e, f && (room_data.slides[c].entities[a].scale = f), g && (room_data.slides[c].entities[a].rotation = g)) : room_data.slides[c].entities[a] && drag_entity(room_data.slides[active_slide].entities[a], d, e, f, g);
        activity_animation(h)
    });
    socket.on("ping_marker", function(a, c, d, e, f) {
        ping(a, c, d, e);
        activity_animation(f)
    });
    socket.on("chat", function(a, c) {
        chat(a, c)
    });
    socket.on("identify", function(a) {
        my_user ? (my_user.logged_in =
            a.logged_in, my_user.name = a.name) : my_user = a;
        update_my_user()
    });
    socket.on("remove", function(a, c, d) {
        c != active_slide ? delete room_data.slides[c].entities[a] : remove(a);
        activity_animation(d)
    });
    socket.on("add_user", function(a) {
        add_user(a)
    });
    socket.on("remove_user", function(a) {
        remove_user(a)
    });
    socket.on("lock_room", function(a, c) {
        is_room_locked = a;
        update_lock();
        activity_animation(c)
    });
    socket.on("presentation_mode", function(a, c, d) {
        set_presentation_mode(a);
        1 == a && change_slide(c);
        update_slide_buttons();
        activity_animation(d)
    });
    socket.on("change_slide", function(a) {
        a != active_slide && change_slide(a)
    });
    socket.on("new_slide", function(a, c) {
        add_slide(a);
        activity_animation(c)
    });
    socket.on("remove_slide", function(a, c) {
        1 >= Object.keys(room_data.slides) ? socket.emit("join_room", room, game) : (remove_slide(a), activity_animation(c))
    });
    socket.on("rename_slide", function(a, c, d) {
        rename_slide(a, c);
        activity_animation(d)
    });
    socket.on("change_slide_order", function(a, c, d) {
        room_data.slides[a].order = c;
        update_slide_buttons();
        activity_animation(d)
    });
    socket.on("track",
        function(a, c) {
            trackers[a.uid] && remove_tracker(uid);
            create_tracker(a);
            activity_animation(c)
        });
    socket.on("track_move", function(a, c, d) {
        move_tracker(a, c, d)
    });
    socket.on("stop_track", function(a) {
        remove_tracker(a)
    });
    socket.on("show_grid", function(a, c, d) {
        room_data.slides[a].show_grid = c;
        a == active_slide && (grid_layer.visible = c, render_scene());
        activity_animation(d)
    });
    socket.on("pan_zoom", function(a, c, d, e, f) {
        activity_animation(f);
        room_data.slides[a].pan_zoom = [c, d, e];
        a == active_slide && pan_zoom(c, d, e)
    });
    socket.on("force_reconnect",
        function() {
            location.reload()
        });
    socket.on("play_video", function(a, c, d, e) {
        activity_animation(e);
        set_playback_rate(d, d);
        handle_play(a, c)
    });
    socket.on("pause_video", function(a, c) {
        handle_pause(a);
        activity_animation(c)
    });
    socket.on("sync_video", function(a, c, d) {
        handle_sync(a, c, d)
    });
    socket.on("request_sync", function() {
        if (im_syncing)
            for (var a = 0; 5 >= a; a++) setTimeout(function() {
                var a = video_progress();
                socket.emit("sync_video", room, a, get_server_time())
            }, 2E3 * a)
    });
    socket.on("sync_clock", function(a) {
        var b = Date.now();
        offset = a + (b - sync_start_time) / 2 - b
    });
    socket.on("seek_video", function(a, c, d) {
        video_media.setCurrentTime(a);
        video_paused ? video_player.pause() : (handle_sync(a, c, d), wait_for_seek(function() {
            rebuild_timeline()
        }))
    });
    socket.on("change_rate", function(a) {
        set_playback_rate(a, a)
    })
});

//# sourceMappingURL=combined.js.map